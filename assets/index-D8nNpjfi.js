var l0=Object.defineProperty;var a0=(e,t,n)=>t in e?l0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ys=(e,t,n)=>a0(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const a of l)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(l){const a={};return l.integrity&&(a.integrity=l.integrity),l.referrerPolicy&&(a.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?a.credentials="include":l.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(l){if(l.ep)return;l.ep=!0;const a=n(l);fetch(l.href,a)}})();function i0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var pc={exports:{}},nl={},hc={exports:{}},G={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qn=Symbol.for("react.element"),o0=Symbol.for("react.portal"),c0=Symbol.for("react.fragment"),d0=Symbol.for("react.strict_mode"),u0=Symbol.for("react.profiler"),f0=Symbol.for("react.provider"),m0=Symbol.for("react.context"),x0=Symbol.for("react.forward_ref"),p0=Symbol.for("react.suspense"),h0=Symbol.for("react.memo"),g0=Symbol.for("react.lazy"),Zi=Symbol.iterator;function v0(e){return e===null||typeof e!="object"?null:(e=Zi&&e[Zi]||e["@@iterator"],typeof e=="function"?e:null)}var gc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},vc=Object.assign,yc={};function Zs(e,t,n){this.props=e,this.context=t,this.refs=yc,this.updater=n||gc}Zs.prototype.isReactComponent={};Zs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Zs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function bc(){}bc.prototype=Zs.prototype;function Ga(e,t,n){this.props=e,this.context=t,this.refs=yc,this.updater=n||gc}var Ya=Ga.prototype=new bc;Ya.constructor=Ga;vc(Ya,Zs.prototype);Ya.isPureReactComponent=!0;var eo=Array.isArray,jc=Object.prototype.hasOwnProperty,Ja={current:null},Nc={key:!0,ref:!0,__self:!0,__source:!0};function wc(e,t,n){var r,l={},a=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(a=""+t.key),t)jc.call(t,r)&&!Nc.hasOwnProperty(r)&&(l[r]=t[r]);var o=arguments.length-2;if(o===1)l.children=n;else if(1<o){for(var c=Array(o),m=0;m<o;m++)c[m]=arguments[m+2];l.children=c}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)l[r]===void 0&&(l[r]=o[r]);return{$$typeof:Qn,type:e,key:a,ref:i,props:l,_owner:Ja.current}}function y0(e,t){return{$$typeof:Qn,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ka(e){return typeof e=="object"&&e!==null&&e.$$typeof===Qn}function b0(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var to=/\/+/g;function wl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?b0(""+e.key):t.toString(36)}function yr(e,t,n,r,l){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(a){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Qn:case o0:i=!0}}if(i)return i=e,l=l(i),e=r===""?"."+wl(i,0):r,eo(l)?(n="",e!=null&&(n=e.replace(to,"$&/")+"/"),yr(l,t,n,"",function(m){return m})):l!=null&&(Ka(l)&&(l=y0(l,n+(!l.key||i&&i.key===l.key?"":(""+l.key).replace(to,"$&/")+"/")+e)),t.push(l)),1;if(i=0,r=r===""?".":r+":",eo(e))for(var o=0;o<e.length;o++){a=e[o];var c=r+wl(a,o);i+=yr(a,t,n,c,l)}else if(c=v0(e),typeof c=="function")for(e=c.call(e),o=0;!(a=e.next()).done;)a=a.value,c=r+wl(a,o++),i+=yr(a,t,n,c,l);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function tr(e,t,n){if(e==null)return e;var r=[],l=0;return yr(e,r,"","",function(a){return t.call(n,a,l++)}),r}function j0(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ae={current:null},br={transition:null},N0={ReactCurrentDispatcher:Ae,ReactCurrentBatchConfig:br,ReactCurrentOwner:Ja};function kc(){throw Error("act(...) is not supported in production builds of React.")}G.Children={map:tr,forEach:function(e,t,n){tr(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return tr(e,function(){t++}),t},toArray:function(e){return tr(e,function(t){return t})||[]},only:function(e){if(!Ka(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};G.Component=Zs;G.Fragment=c0;G.Profiler=u0;G.PureComponent=Ga;G.StrictMode=d0;G.Suspense=p0;G.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=N0;G.act=kc;G.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=vc({},e.props),l=e.key,a=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,i=Ja.current),t.key!==void 0&&(l=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)jc.call(t,c)&&!Nc.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){o=Array(c);for(var m=0;m<c;m++)o[m]=arguments[m+2];r.children=o}return{$$typeof:Qn,type:e.type,key:l,ref:a,props:r,_owner:i}};G.createContext=function(e){return e={$$typeof:m0,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:f0,_context:e},e.Consumer=e};G.createElement=wc;G.createFactory=function(e){var t=wc.bind(null,e);return t.type=e,t};G.createRef=function(){return{current:null}};G.forwardRef=function(e){return{$$typeof:x0,render:e}};G.isValidElement=Ka;G.lazy=function(e){return{$$typeof:g0,_payload:{_status:-1,_result:e},_init:j0}};G.memo=function(e,t){return{$$typeof:h0,type:e,compare:t===void 0?null:t}};G.startTransition=function(e){var t=br.transition;br.transition={};try{e()}finally{br.transition=t}};G.unstable_act=kc;G.useCallback=function(e,t){return Ae.current.useCallback(e,t)};G.useContext=function(e){return Ae.current.useContext(e)};G.useDebugValue=function(){};G.useDeferredValue=function(e){return Ae.current.useDeferredValue(e)};G.useEffect=function(e,t){return Ae.current.useEffect(e,t)};G.useId=function(){return Ae.current.useId()};G.useImperativeHandle=function(e,t,n){return Ae.current.useImperativeHandle(e,t,n)};G.useInsertionEffect=function(e,t){return Ae.current.useInsertionEffect(e,t)};G.useLayoutEffect=function(e,t){return Ae.current.useLayoutEffect(e,t)};G.useMemo=function(e,t){return Ae.current.useMemo(e,t)};G.useReducer=function(e,t,n){return Ae.current.useReducer(e,t,n)};G.useRef=function(e){return Ae.current.useRef(e)};G.useState=function(e){return Ae.current.useState(e)};G.useSyncExternalStore=function(e,t,n){return Ae.current.useSyncExternalStore(e,t,n)};G.useTransition=function(){return Ae.current.useTransition()};G.version="18.3.1";hc.exports=G;var p=hc.exports;const is=i0(p);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w0=p,k0=Symbol.for("react.element"),S0=Symbol.for("react.fragment"),C0=Object.prototype.hasOwnProperty,E0=w0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,P0={key:!0,ref:!0,__self:!0,__source:!0};function Sc(e,t,n){var r,l={},a=null,i=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)C0.call(t,r)&&!P0.hasOwnProperty(r)&&(l[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)l[r]===void 0&&(l[r]=t[r]);return{$$typeof:k0,type:e,key:a,ref:i,props:l,_owner:E0.current}}nl.Fragment=S0;nl.jsx=Sc;nl.jsxs=Sc;pc.exports=nl;var s=pc.exports,Zl={},Cc={exports:{}},Ye={},Ec={exports:{}},Pc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(z,k){var A=z.length;z.push(k);e:for(;0<A;){var R=A-1>>>1,q=z[R];if(0<l(q,k))z[R]=k,z[A]=q,A=R;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var k=z[0],A=z.pop();if(A!==k){z[0]=A;e:for(var R=0,q=z.length,de=q>>>1;R<de;){var me=2*(R+1)-1,ge=z[me],xe=me+1,ke=z[xe];if(0>l(ge,A))xe<q&&0>l(ke,ge)?(z[R]=ke,z[xe]=A,R=xe):(z[R]=ge,z[me]=A,R=me);else if(xe<q&&0>l(ke,A))z[R]=ke,z[xe]=A,R=xe;else break e}}return k}function l(z,k){var A=z.sortIndex-k.sortIndex;return A!==0?A:z.id-k.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var i=Date,o=i.now();e.unstable_now=function(){return i.now()-o}}var c=[],m=[],h=1,f=null,g=3,y=!1,N=!1,v=!1,C=typeof setTimeout=="function"?setTimeout:null,u=typeof clearTimeout=="function"?clearTimeout:null,d=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(z){for(var k=n(m);k!==null;){if(k.callback===null)r(m);else if(k.startTime<=z)r(m),k.sortIndex=k.expirationTime,t(c,k);else break;k=n(m)}}function j(z){if(v=!1,x(z),!N)if(n(c)!==null)N=!0,I(S);else{var k=n(m);k!==null&&V(j,k.startTime-z)}}function S(z,k){N=!1,v&&(v=!1,u(P),P=-1),y=!0;var A=g;try{for(x(k),f=n(c);f!==null&&(!(f.expirationTime>k)||z&&!W());){var R=f.callback;if(typeof R=="function"){f.callback=null,g=f.priorityLevel;var q=R(f.expirationTime<=k);k=e.unstable_now(),typeof q=="function"?f.callback=q:f===n(c)&&r(c),x(k)}else r(c);f=n(c)}if(f!==null)var de=!0;else{var me=n(m);me!==null&&V(j,me.startTime-k),de=!1}return de}finally{f=null,g=A,y=!1}}var b=!1,w=null,P=-1,_=5,O=-1;function W(){return!(e.unstable_now()-O<_)}function Q(){if(w!==null){var z=e.unstable_now();O=z;var k=!0;try{k=w(!0,z)}finally{k?B():(b=!1,w=null)}}else b=!1}var B;if(typeof d=="function")B=function(){d(Q)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,U=J.port2;J.port1.onmessage=Q,B=function(){U.postMessage(null)}}else B=function(){C(Q,0)};function I(z){w=z,b||(b=!0,B())}function V(z,k){P=C(function(){z(e.unstable_now())},k)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(z){z.callback=null},e.unstable_continueExecution=function(){N||y||(N=!0,I(S))},e.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<z?Math.floor(1e3/z):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(z){switch(g){case 1:case 2:case 3:var k=3;break;default:k=g}var A=g;g=k;try{return z()}finally{g=A}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(z,k){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var A=g;g=z;try{return k()}finally{g=A}},e.unstable_scheduleCallback=function(z,k,A){var R=e.unstable_now();switch(typeof A=="object"&&A!==null?(A=A.delay,A=typeof A=="number"&&0<A?R+A:R):A=R,z){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=A+q,z={id:h++,callback:k,priorityLevel:z,startTime:A,expirationTime:q,sortIndex:-1},A>R?(z.sortIndex=A,t(m,z),n(c)===null&&z===n(m)&&(v?(u(P),P=-1):v=!0,V(j,A-R))):(z.sortIndex=q,t(c,z),N||y||(N=!0,I(S))),z},e.unstable_shouldYield=W,e.unstable_wrapCallback=function(z){var k=g;return function(){var A=g;g=k;try{return z.apply(this,arguments)}finally{g=A}}}})(Pc);Ec.exports=Pc;var _0=Ec.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z0=p,Ge=_0;function M(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _c=new Set,En={};function ps(e,t){Vs(e,t),Vs(e+"Capture",t)}function Vs(e,t){for(En[e]=t,e=0;e<t.length;e++)_c.add(t[e])}var Ct=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ea=Object.prototype.hasOwnProperty,I0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,so={},no={};function T0(e){return ea.call(no,e)?!0:ea.call(so,e)?!1:I0.test(e)?no[e]=!0:(so[e]=!0,!1)}function M0(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function L0(e,t,n,r){if(t===null||typeof t>"u"||M0(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Oe(e,t,n,r,l,a,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var Ee={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ee[e]=new Oe(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ee[t]=new Oe(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ee[e]=new Oe(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ee[e]=new Oe(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ee[e]=new Oe(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ee[e]=new Oe(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ee[e]=new Oe(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ee[e]=new Oe(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ee[e]=new Oe(e,5,!1,e.toLowerCase(),null,!1,!1)});var Xa=/[\-:]([a-z])/g;function Za(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Xa,Za);Ee[t]=new Oe(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Xa,Za);Ee[t]=new Oe(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Xa,Za);Ee[t]=new Oe(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ee[e]=new Oe(e,1,!1,e.toLowerCase(),null,!1,!1)});Ee.xlinkHref=new Oe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ee[e]=new Oe(e,1,!1,e.toLowerCase(),null,!0,!0)});function ei(e,t,n,r){var l=Ee.hasOwnProperty(t)?Ee[t]:null;(l!==null?l.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(L0(t,n,l,r)&&(n=null),r||l===null?T0(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,r=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var zt=z0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,sr=Symbol.for("react.element"),ws=Symbol.for("react.portal"),ks=Symbol.for("react.fragment"),ti=Symbol.for("react.strict_mode"),ta=Symbol.for("react.profiler"),zc=Symbol.for("react.provider"),Ic=Symbol.for("react.context"),si=Symbol.for("react.forward_ref"),sa=Symbol.for("react.suspense"),na=Symbol.for("react.suspense_list"),ni=Symbol.for("react.memo"),Lt=Symbol.for("react.lazy"),Tc=Symbol.for("react.offscreen"),ro=Symbol.iterator;function sn(e){return e===null||typeof e!="object"?null:(e=ro&&e[ro]||e["@@iterator"],typeof e=="function"?e:null)}var ie=Object.assign,kl;function fn(e){if(kl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);kl=t&&t[1]||""}return`
`+kl+e}var Sl=!1;function Cl(e,t){if(!e||Sl)return"";Sl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(m){var r=m}Reflect.construct(e,[],t)}else{try{t.call()}catch(m){r=m}e.call(t.prototype)}else{try{throw Error()}catch(m){r=m}e()}}catch(m){if(m&&r&&typeof m.stack=="string"){for(var l=m.stack.split(`
`),a=r.stack.split(`
`),i=l.length-1,o=a.length-1;1<=i&&0<=o&&l[i]!==a[o];)o--;for(;1<=i&&0<=o;i--,o--)if(l[i]!==a[o]){if(i!==1||o!==1)do if(i--,o--,0>o||l[i]!==a[o]){var c=`
`+l[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=o);break}}}finally{Sl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?fn(e):""}function A0(e){switch(e.tag){case 5:return fn(e.type);case 16:return fn("Lazy");case 13:return fn("Suspense");case 19:return fn("SuspenseList");case 0:case 2:case 15:return e=Cl(e.type,!1),e;case 11:return e=Cl(e.type.render,!1),e;case 1:return e=Cl(e.type,!0),e;default:return""}}function ra(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ks:return"Fragment";case ws:return"Portal";case ta:return"Profiler";case ti:return"StrictMode";case sa:return"Suspense";case na:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ic:return(e.displayName||"Context")+".Consumer";case zc:return(e._context.displayName||"Context")+".Provider";case si:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ni:return t=e.displayName||null,t!==null?t:ra(e.type)||"Memo";case Lt:t=e._payload,e=e._init;try{return ra(e(t))}catch{}}return null}function O0(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ra(t);case 8:return t===ti?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Yt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Mc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function R0(e){var t=Mc(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(i){r=""+i,a.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function nr(e){e._valueTracker||(e._valueTracker=R0(e))}function Lc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Mc(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Tr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function la(e,t){var n=t.checked;return ie({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function lo(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Yt(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Ac(e,t){t=t.checked,t!=null&&ei(e,"checked",t,!1)}function aa(e,t){Ac(e,t);var n=Yt(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ia(e,t.type,n):t.hasOwnProperty("defaultValue")&&ia(e,t.type,Yt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ao(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function ia(e,t,n){(t!=="number"||Tr(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var mn=Array.isArray;function Os(e,t,n,r){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Yt(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,r&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function oa(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(M(91));return ie({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function io(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(M(92));if(mn(n)){if(1<n.length)throw Error(M(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Yt(n)}}function Oc(e,t){var n=Yt(t.value),r=Yt(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function oo(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Rc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ca(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Rc(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var rr,Dc=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(rr=rr||document.createElement("div"),rr.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=rr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Pn(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var hn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},D0=["Webkit","ms","Moz","O"];Object.keys(hn).forEach(function(e){D0.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),hn[t]=hn[e]})});function $c(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||hn.hasOwnProperty(e)&&hn[e]?(""+t).trim():t+"px"}function Uc(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,l=$c(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,l):e[n]=l}}var $0=ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function da(e,t){if(t){if($0[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(M(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(M(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(M(61))}if(t.style!=null&&typeof t.style!="object")throw Error(M(62))}}function ua(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fa=null;function ri(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ma=null,Rs=null,Ds=null;function co(e){if(e=Jn(e)){if(typeof ma!="function")throw Error(M(280));var t=e.stateNode;t&&(t=ol(t),ma(e.stateNode,e.type,t))}}function Fc(e){Rs?Ds?Ds.push(e):Ds=[e]:Rs=e}function Vc(){if(Rs){var e=Rs,t=Ds;if(Ds=Rs=null,co(e),t)for(e=0;e<t.length;e++)co(t[e])}}function Bc(e,t){return e(t)}function qc(){}var El=!1;function Hc(e,t,n){if(El)return e(t,n);El=!0;try{return Bc(e,t,n)}finally{El=!1,(Rs!==null||Ds!==null)&&(qc(),Vc())}}function _n(e,t){var n=e.stateNode;if(n===null)return null;var r=ol(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(M(231,t,typeof n));return n}var xa=!1;if(Ct)try{var nn={};Object.defineProperty(nn,"passive",{get:function(){xa=!0}}),window.addEventListener("test",nn,nn),window.removeEventListener("test",nn,nn)}catch{xa=!1}function U0(e,t,n,r,l,a,i,o,c){var m=Array.prototype.slice.call(arguments,3);try{t.apply(n,m)}catch(h){this.onError(h)}}var gn=!1,Mr=null,Lr=!1,pa=null,F0={onError:function(e){gn=!0,Mr=e}};function V0(e,t,n,r,l,a,i,o,c){gn=!1,Mr=null,U0.apply(F0,arguments)}function B0(e,t,n,r,l,a,i,o,c){if(V0.apply(this,arguments),gn){if(gn){var m=Mr;gn=!1,Mr=null}else throw Error(M(198));Lr||(Lr=!0,pa=m)}}function hs(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Wc(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function uo(e){if(hs(e)!==e)throw Error(M(188))}function q0(e){var t=e.alternate;if(!t){if(t=hs(e),t===null)throw Error(M(188));return t!==e?null:e}for(var n=e,r=t;;){var l=n.return;if(l===null)break;var a=l.alternate;if(a===null){if(r=l.return,r!==null){n=r;continue}break}if(l.child===a.child){for(a=l.child;a;){if(a===n)return uo(l),e;if(a===r)return uo(l),t;a=a.sibling}throw Error(M(188))}if(n.return!==r.return)n=l,r=a;else{for(var i=!1,o=l.child;o;){if(o===n){i=!0,n=l,r=a;break}if(o===r){i=!0,r=l,n=a;break}o=o.sibling}if(!i){for(o=a.child;o;){if(o===n){i=!0,n=a,r=l;break}if(o===r){i=!0,r=a,n=l;break}o=o.sibling}if(!i)throw Error(M(189))}}if(n.alternate!==r)throw Error(M(190))}if(n.tag!==3)throw Error(M(188));return n.stateNode.current===n?e:t}function Qc(e){return e=q0(e),e!==null?Gc(e):null}function Gc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Gc(e);if(t!==null)return t;e=e.sibling}return null}var Yc=Ge.unstable_scheduleCallback,fo=Ge.unstable_cancelCallback,H0=Ge.unstable_shouldYield,W0=Ge.unstable_requestPaint,fe=Ge.unstable_now,Q0=Ge.unstable_getCurrentPriorityLevel,li=Ge.unstable_ImmediatePriority,Jc=Ge.unstable_UserBlockingPriority,Ar=Ge.unstable_NormalPriority,G0=Ge.unstable_LowPriority,Kc=Ge.unstable_IdlePriority,rl=null,gt=null;function Y0(e){if(gt&&typeof gt.onCommitFiberRoot=="function")try{gt.onCommitFiberRoot(rl,e,void 0,(e.current.flags&128)===128)}catch{}}var dt=Math.clz32?Math.clz32:X0,J0=Math.log,K0=Math.LN2;function X0(e){return e>>>=0,e===0?32:31-(J0(e)/K0|0)|0}var lr=64,ar=4194304;function xn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Or(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,l=e.suspendedLanes,a=e.pingedLanes,i=n&268435455;if(i!==0){var o=i&~l;o!==0?r=xn(o):(a&=i,a!==0&&(r=xn(a)))}else i=n&~l,i!==0?r=xn(i):a!==0&&(r=xn(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&l)&&(l=r&-r,a=t&-t,l>=a||l===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-dt(t),l=1<<n,r|=e[n],t&=~l;return r}function Z0(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ef(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,l=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-dt(a),o=1<<i,c=l[i];c===-1?(!(o&n)||o&r)&&(l[i]=Z0(o,t)):c<=t&&(e.expiredLanes|=o),a&=~o}}function ha(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Xc(){var e=lr;return lr<<=1,!(lr&4194240)&&(lr=64),e}function Pl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Gn(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-dt(t),e[t]=n}function tf(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-dt(n),a=1<<l;t[l]=0,r[l]=-1,e[l]=-1,n&=~a}}function ai(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-dt(n),l=1<<r;l&t|e[r]&t&&(e[r]|=t),n&=~l}}var Z=0;function Zc(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var ed,ii,td,sd,nd,ga=!1,ir=[],Ft=null,Vt=null,Bt=null,zn=new Map,In=new Map,Ot=[],sf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function mo(e,t){switch(e){case"focusin":case"focusout":Ft=null;break;case"dragenter":case"dragleave":Vt=null;break;case"mouseover":case"mouseout":Bt=null;break;case"pointerover":case"pointerout":zn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":In.delete(t.pointerId)}}function rn(e,t,n,r,l,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[l]},t!==null&&(t=Jn(t),t!==null&&ii(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function nf(e,t,n,r,l){switch(t){case"focusin":return Ft=rn(Ft,e,t,n,r,l),!0;case"dragenter":return Vt=rn(Vt,e,t,n,r,l),!0;case"mouseover":return Bt=rn(Bt,e,t,n,r,l),!0;case"pointerover":var a=l.pointerId;return zn.set(a,rn(zn.get(a)||null,e,t,n,r,l)),!0;case"gotpointercapture":return a=l.pointerId,In.set(a,rn(In.get(a)||null,e,t,n,r,l)),!0}return!1}function rd(e){var t=ss(e.target);if(t!==null){var n=hs(t);if(n!==null){if(t=n.tag,t===13){if(t=Wc(n),t!==null){e.blockedOn=t,nd(e.priority,function(){td(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function jr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=va(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);fa=r,n.target.dispatchEvent(r),fa=null}else return t=Jn(n),t!==null&&ii(t),e.blockedOn=n,!1;t.shift()}return!0}function xo(e,t,n){jr(e)&&n.delete(t)}function rf(){ga=!1,Ft!==null&&jr(Ft)&&(Ft=null),Vt!==null&&jr(Vt)&&(Vt=null),Bt!==null&&jr(Bt)&&(Bt=null),zn.forEach(xo),In.forEach(xo)}function ln(e,t){e.blockedOn===t&&(e.blockedOn=null,ga||(ga=!0,Ge.unstable_scheduleCallback(Ge.unstable_NormalPriority,rf)))}function Tn(e){function t(l){return ln(l,e)}if(0<ir.length){ln(ir[0],e);for(var n=1;n<ir.length;n++){var r=ir[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Ft!==null&&ln(Ft,e),Vt!==null&&ln(Vt,e),Bt!==null&&ln(Bt,e),zn.forEach(t),In.forEach(t),n=0;n<Ot.length;n++)r=Ot[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&(n=Ot[0],n.blockedOn===null);)rd(n),n.blockedOn===null&&Ot.shift()}var $s=zt.ReactCurrentBatchConfig,Rr=!0;function lf(e,t,n,r){var l=Z,a=$s.transition;$s.transition=null;try{Z=1,oi(e,t,n,r)}finally{Z=l,$s.transition=a}}function af(e,t,n,r){var l=Z,a=$s.transition;$s.transition=null;try{Z=4,oi(e,t,n,r)}finally{Z=l,$s.transition=a}}function oi(e,t,n,r){if(Rr){var l=va(e,t,n,r);if(l===null)Dl(e,t,r,Dr,n),mo(e,r);else if(nf(l,e,t,n,r))r.stopPropagation();else if(mo(e,r),t&4&&-1<sf.indexOf(e)){for(;l!==null;){var a=Jn(l);if(a!==null&&ed(a),a=va(e,t,n,r),a===null&&Dl(e,t,r,Dr,n),a===l)break;l=a}l!==null&&r.stopPropagation()}else Dl(e,t,r,null,n)}}var Dr=null;function va(e,t,n,r){if(Dr=null,e=ri(r),e=ss(e),e!==null)if(t=hs(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Wc(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Dr=e,null}function ld(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Q0()){case li:return 1;case Jc:return 4;case Ar:case G0:return 16;case Kc:return 536870912;default:return 16}default:return 16}}var Dt=null,ci=null,Nr=null;function ad(){if(Nr)return Nr;var e,t=ci,n=t.length,r,l="value"in Dt?Dt.value:Dt.textContent,a=l.length;for(e=0;e<n&&t[e]===l[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===l[a-r];r++);return Nr=l.slice(e,1<r?1-r:void 0)}function wr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function or(){return!0}function po(){return!1}function Je(e){function t(n,r,l,a,i){this._reactName=n,this._targetInst=l,this.type=r,this.nativeEvent=a,this.target=i,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?or:po,this.isPropagationStopped=po,this}return ie(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=or)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=or)},persist:function(){},isPersistent:or}),t}var en={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},di=Je(en),Yn=ie({},en,{view:0,detail:0}),of=Je(Yn),_l,zl,an,ll=ie({},Yn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ui,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==an&&(an&&e.type==="mousemove"?(_l=e.screenX-an.screenX,zl=e.screenY-an.screenY):zl=_l=0,an=e),_l)},movementY:function(e){return"movementY"in e?e.movementY:zl}}),ho=Je(ll),cf=ie({},ll,{dataTransfer:0}),df=Je(cf),uf=ie({},Yn,{relatedTarget:0}),Il=Je(uf),ff=ie({},en,{animationName:0,elapsedTime:0,pseudoElement:0}),mf=Je(ff),xf=ie({},en,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),pf=Je(xf),hf=ie({},en,{data:0}),go=Je(hf),gf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bf(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=yf[e])?!!t[e]:!1}function ui(){return bf}var jf=ie({},Yn,{key:function(e){if(e.key){var t=gf[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=wr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?vf[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ui,charCode:function(e){return e.type==="keypress"?wr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?wr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Nf=Je(jf),wf=ie({},ll,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vo=Je(wf),kf=ie({},Yn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ui}),Sf=Je(kf),Cf=ie({},en,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ef=Je(Cf),Pf=ie({},ll,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),_f=Je(Pf),zf=[9,13,27,32],fi=Ct&&"CompositionEvent"in window,vn=null;Ct&&"documentMode"in document&&(vn=document.documentMode);var If=Ct&&"TextEvent"in window&&!vn,id=Ct&&(!fi||vn&&8<vn&&11>=vn),yo=" ",bo=!1;function od(e,t){switch(e){case"keyup":return zf.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ss=!1;function Tf(e,t){switch(e){case"compositionend":return cd(t);case"keypress":return t.which!==32?null:(bo=!0,yo);case"textInput":return e=t.data,e===yo&&bo?null:e;default:return null}}function Mf(e,t){if(Ss)return e==="compositionend"||!fi&&od(e,t)?(e=ad(),Nr=ci=Dt=null,Ss=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return id&&t.locale!=="ko"?null:t.data;default:return null}}var Lf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Lf[e.type]:t==="textarea"}function dd(e,t,n,r){Fc(r),t=$r(t,"onChange"),0<t.length&&(n=new di("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var yn=null,Mn=null;function Af(e){jd(e,0)}function al(e){var t=Ps(e);if(Lc(t))return e}function Of(e,t){if(e==="change")return t}var ud=!1;if(Ct){var Tl;if(Ct){var Ml="oninput"in document;if(!Ml){var No=document.createElement("div");No.setAttribute("oninput","return;"),Ml=typeof No.oninput=="function"}Tl=Ml}else Tl=!1;ud=Tl&&(!document.documentMode||9<document.documentMode)}function wo(){yn&&(yn.detachEvent("onpropertychange",fd),Mn=yn=null)}function fd(e){if(e.propertyName==="value"&&al(Mn)){var t=[];dd(t,Mn,e,ri(e)),Hc(Af,t)}}function Rf(e,t,n){e==="focusin"?(wo(),yn=t,Mn=n,yn.attachEvent("onpropertychange",fd)):e==="focusout"&&wo()}function Df(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return al(Mn)}function $f(e,t){if(e==="click")return al(t)}function Uf(e,t){if(e==="input"||e==="change")return al(t)}function Ff(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ft=typeof Object.is=="function"?Object.is:Ff;function Ln(e,t){if(ft(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var l=n[r];if(!ea.call(t,l)||!ft(e[l],t[l]))return!1}return!0}function ko(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function So(e,t){var n=ko(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ko(n)}}function md(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?md(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function xd(){for(var e=window,t=Tr();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Tr(e.document)}return t}function mi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Vf(e){var t=xd(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&md(n.ownerDocument.documentElement,n)){if(r!==null&&mi(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,a=Math.min(r.start,l);r=r.end===void 0?a:Math.min(r.end,l),!e.extend&&a>r&&(l=r,r=a,a=l),l=So(n,a);var i=So(n,r);l&&i&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Bf=Ct&&"documentMode"in document&&11>=document.documentMode,Cs=null,ya=null,bn=null,ba=!1;function Co(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ba||Cs==null||Cs!==Tr(r)||(r=Cs,"selectionStart"in r&&mi(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),bn&&Ln(bn,r)||(bn=r,r=$r(ya,"onSelect"),0<r.length&&(t=new di("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Cs)))}function cr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Es={animationend:cr("Animation","AnimationEnd"),animationiteration:cr("Animation","AnimationIteration"),animationstart:cr("Animation","AnimationStart"),transitionend:cr("Transition","TransitionEnd")},Ll={},pd={};Ct&&(pd=document.createElement("div").style,"AnimationEvent"in window||(delete Es.animationend.animation,delete Es.animationiteration.animation,delete Es.animationstart.animation),"TransitionEvent"in window||delete Es.transitionend.transition);function il(e){if(Ll[e])return Ll[e];if(!Es[e])return e;var t=Es[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in pd)return Ll[e]=t[n];return e}var hd=il("animationend"),gd=il("animationiteration"),vd=il("animationstart"),yd=il("transitionend"),bd=new Map,Eo="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Kt(e,t){bd.set(e,t),ps(t,[e])}for(var Al=0;Al<Eo.length;Al++){var Ol=Eo[Al],qf=Ol.toLowerCase(),Hf=Ol[0].toUpperCase()+Ol.slice(1);Kt(qf,"on"+Hf)}Kt(hd,"onAnimationEnd");Kt(gd,"onAnimationIteration");Kt(vd,"onAnimationStart");Kt("dblclick","onDoubleClick");Kt("focusin","onFocus");Kt("focusout","onBlur");Kt(yd,"onTransitionEnd");Vs("onMouseEnter",["mouseout","mouseover"]);Vs("onMouseLeave",["mouseout","mouseover"]);Vs("onPointerEnter",["pointerout","pointerover"]);Vs("onPointerLeave",["pointerout","pointerover"]);ps("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ps("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ps("onBeforeInput",["compositionend","keypress","textInput","paste"]);ps("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ps("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ps("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Wf=new Set("cancel close invalid load scroll toggle".split(" ").concat(pn));function Po(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,B0(r,t,void 0,e),e.currentTarget=null}function jd(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],l=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var i=r.length-1;0<=i;i--){var o=r[i],c=o.instance,m=o.currentTarget;if(o=o.listener,c!==a&&l.isPropagationStopped())break e;Po(l,o,m),a=c}else for(i=0;i<r.length;i++){if(o=r[i],c=o.instance,m=o.currentTarget,o=o.listener,c!==a&&l.isPropagationStopped())break e;Po(l,o,m),a=c}}}if(Lr)throw e=pa,Lr=!1,pa=null,e}function te(e,t){var n=t[Sa];n===void 0&&(n=t[Sa]=new Set);var r=e+"__bubble";n.has(r)||(Nd(t,e,2,!1),n.add(r))}function Rl(e,t,n){var r=0;t&&(r|=4),Nd(n,e,r,t)}var dr="_reactListening"+Math.random().toString(36).slice(2);function An(e){if(!e[dr]){e[dr]=!0,_c.forEach(function(n){n!=="selectionchange"&&(Wf.has(n)||Rl(n,!1,e),Rl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[dr]||(t[dr]=!0,Rl("selectionchange",!1,t))}}function Nd(e,t,n,r){switch(ld(t)){case 1:var l=lf;break;case 4:l=af;break;default:l=oi}n=l.bind(null,t,n,e),l=void 0,!xa||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),r?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function Dl(e,t,n,r,l){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var o=r.stateNode.containerInfo;if(o===l||o.nodeType===8&&o.parentNode===l)break;if(i===4)for(i=r.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===l||c.nodeType===8&&c.parentNode===l))return;i=i.return}for(;o!==null;){if(i=ss(o),i===null)return;if(c=i.tag,c===5||c===6){r=a=i;continue e}o=o.parentNode}}r=r.return}Hc(function(){var m=a,h=ri(n),f=[];e:{var g=bd.get(e);if(g!==void 0){var y=di,N=e;switch(e){case"keypress":if(wr(n)===0)break e;case"keydown":case"keyup":y=Nf;break;case"focusin":N="focus",y=Il;break;case"focusout":N="blur",y=Il;break;case"beforeblur":case"afterblur":y=Il;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=ho;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=df;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=Sf;break;case hd:case gd:case vd:y=mf;break;case yd:y=Ef;break;case"scroll":y=of;break;case"wheel":y=_f;break;case"copy":case"cut":case"paste":y=pf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=vo}var v=(t&4)!==0,C=!v&&e==="scroll",u=v?g!==null?g+"Capture":null:g;v=[];for(var d=m,x;d!==null;){x=d;var j=x.stateNode;if(x.tag===5&&j!==null&&(x=j,u!==null&&(j=_n(d,u),j!=null&&v.push(On(d,j,x)))),C)break;d=d.return}0<v.length&&(g=new y(g,N,null,n,h),f.push({event:g,listeners:v}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",g&&n!==fa&&(N=n.relatedTarget||n.fromElement)&&(ss(N)||N[Et]))break e;if((y||g)&&(g=h.window===h?h:(g=h.ownerDocument)?g.defaultView||g.parentWindow:window,y?(N=n.relatedTarget||n.toElement,y=m,N=N?ss(N):null,N!==null&&(C=hs(N),N!==C||N.tag!==5&&N.tag!==6)&&(N=null)):(y=null,N=m),y!==N)){if(v=ho,j="onMouseLeave",u="onMouseEnter",d="mouse",(e==="pointerout"||e==="pointerover")&&(v=vo,j="onPointerLeave",u="onPointerEnter",d="pointer"),C=y==null?g:Ps(y),x=N==null?g:Ps(N),g=new v(j,d+"leave",y,n,h),g.target=C,g.relatedTarget=x,j=null,ss(h)===m&&(v=new v(u,d+"enter",N,n,h),v.target=x,v.relatedTarget=C,j=v),C=j,y&&N)t:{for(v=y,u=N,d=0,x=v;x;x=bs(x))d++;for(x=0,j=u;j;j=bs(j))x++;for(;0<d-x;)v=bs(v),d--;for(;0<x-d;)u=bs(u),x--;for(;d--;){if(v===u||u!==null&&v===u.alternate)break t;v=bs(v),u=bs(u)}v=null}else v=null;y!==null&&_o(f,g,y,v,!1),N!==null&&C!==null&&_o(f,C,N,v,!0)}}e:{if(g=m?Ps(m):window,y=g.nodeName&&g.nodeName.toLowerCase(),y==="select"||y==="input"&&g.type==="file")var S=Of;else if(jo(g))if(ud)S=Uf;else{S=Df;var b=Rf}else(y=g.nodeName)&&y.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(S=$f);if(S&&(S=S(e,m))){dd(f,S,n,h);break e}b&&b(e,g,m),e==="focusout"&&(b=g._wrapperState)&&b.controlled&&g.type==="number"&&ia(g,"number",g.value)}switch(b=m?Ps(m):window,e){case"focusin":(jo(b)||b.contentEditable==="true")&&(Cs=b,ya=m,bn=null);break;case"focusout":bn=ya=Cs=null;break;case"mousedown":ba=!0;break;case"contextmenu":case"mouseup":case"dragend":ba=!1,Co(f,n,h);break;case"selectionchange":if(Bf)break;case"keydown":case"keyup":Co(f,n,h)}var w;if(fi)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Ss?od(e,n)&&(P="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(id&&n.locale!=="ko"&&(Ss||P!=="onCompositionStart"?P==="onCompositionEnd"&&Ss&&(w=ad()):(Dt=h,ci="value"in Dt?Dt.value:Dt.textContent,Ss=!0)),b=$r(m,P),0<b.length&&(P=new go(P,e,null,n,h),f.push({event:P,listeners:b}),w?P.data=w:(w=cd(n),w!==null&&(P.data=w)))),(w=If?Tf(e,n):Mf(e,n))&&(m=$r(m,"onBeforeInput"),0<m.length&&(h=new go("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:m}),h.data=w))}jd(f,t)})}function On(e,t,n){return{instance:e,listener:t,currentTarget:n}}function $r(e,t){for(var n=t+"Capture",r=[];e!==null;){var l=e,a=l.stateNode;l.tag===5&&a!==null&&(l=a,a=_n(e,n),a!=null&&r.unshift(On(e,a,l)),a=_n(e,t),a!=null&&r.push(On(e,a,l))),e=e.return}return r}function bs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function _o(e,t,n,r,l){for(var a=t._reactName,i=[];n!==null&&n!==r;){var o=n,c=o.alternate,m=o.stateNode;if(c!==null&&c===r)break;o.tag===5&&m!==null&&(o=m,l?(c=_n(n,a),c!=null&&i.unshift(On(n,c,o))):l||(c=_n(n,a),c!=null&&i.push(On(n,c,o)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var Qf=/\r\n?/g,Gf=/\u0000|\uFFFD/g;function zo(e){return(typeof e=="string"?e:""+e).replace(Qf,`
`).replace(Gf,"")}function ur(e,t,n){if(t=zo(t),zo(e)!==t&&n)throw Error(M(425))}function Ur(){}var ja=null,Na=null;function wa(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ka=typeof setTimeout=="function"?setTimeout:void 0,Yf=typeof clearTimeout=="function"?clearTimeout:void 0,Io=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Io<"u"?function(e){return Io.resolve(null).then(e).catch(Kf)}:ka;function Kf(e){setTimeout(function(){throw e})}function $l(e,t){var n=t,r=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(r===0){e.removeChild(l),Tn(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=l}while(n);Tn(t)}function qt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function To(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var tn=Math.random().toString(36).slice(2),ht="__reactFiber$"+tn,Rn="__reactProps$"+tn,Et="__reactContainer$"+tn,Sa="__reactEvents$"+tn,Xf="__reactListeners$"+tn,Zf="__reactHandles$"+tn;function ss(e){var t=e[ht];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Et]||n[ht]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=To(e);e!==null;){if(n=e[ht])return n;e=To(e)}return t}e=n,n=e.parentNode}return null}function Jn(e){return e=e[ht]||e[Et],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ps(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(M(33))}function ol(e){return e[Rn]||null}var Ca=[],_s=-1;function Xt(e){return{current:e}}function se(e){0>_s||(e.current=Ca[_s],Ca[_s]=null,_s--)}function ee(e,t){_s++,Ca[_s]=e.current,e.current=t}var Jt={},Ie=Xt(Jt),$e=Xt(!1),os=Jt;function Bs(e,t){var n=e.type.contextTypes;if(!n)return Jt;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var l={},a;for(a in n)l[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function Ue(e){return e=e.childContextTypes,e!=null}function Fr(){se($e),se(Ie)}function Mo(e,t,n){if(Ie.current!==Jt)throw Error(M(168));ee(Ie,t),ee($e,n)}function wd(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var l in r)if(!(l in t))throw Error(M(108,O0(e)||"Unknown",l));return ie({},n,r)}function Vr(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Jt,os=Ie.current,ee(Ie,e),ee($e,$e.current),!0}function Lo(e,t,n){var r=e.stateNode;if(!r)throw Error(M(169));n?(e=wd(e,t,os),r.__reactInternalMemoizedMergedChildContext=e,se($e),se(Ie),ee(Ie,e)):se($e),ee($e,n)}var jt=null,cl=!1,Ul=!1;function kd(e){jt===null?jt=[e]:jt.push(e)}function em(e){cl=!0,kd(e)}function Zt(){if(!Ul&&jt!==null){Ul=!0;var e=0,t=Z;try{var n=jt;for(Z=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}jt=null,cl=!1}catch(l){throw jt!==null&&(jt=jt.slice(e+1)),Yc(li,Zt),l}finally{Z=t,Ul=!1}}return null}var zs=[],Is=0,Br=null,qr=0,Ze=[],et=0,cs=null,Nt=1,wt="";function es(e,t){zs[Is++]=qr,zs[Is++]=Br,Br=e,qr=t}function Sd(e,t,n){Ze[et++]=Nt,Ze[et++]=wt,Ze[et++]=cs,cs=e;var r=Nt;e=wt;var l=32-dt(r)-1;r&=~(1<<l),n+=1;var a=32-dt(t)+l;if(30<a){var i=l-l%5;a=(r&(1<<i)-1).toString(32),r>>=i,l-=i,Nt=1<<32-dt(t)+l|n<<l|r,wt=a+e}else Nt=1<<a|n<<l|r,wt=e}function xi(e){e.return!==null&&(es(e,1),Sd(e,1,0))}function pi(e){for(;e===Br;)Br=zs[--Is],zs[Is]=null,qr=zs[--Is],zs[Is]=null;for(;e===cs;)cs=Ze[--et],Ze[et]=null,wt=Ze[--et],Ze[et]=null,Nt=Ze[--et],Ze[et]=null}var Qe=null,We=null,ne=!1,ct=null;function Cd(e,t){var n=tt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Ao(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Qe=e,We=qt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Qe=e,We=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=cs!==null?{id:Nt,overflow:wt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=tt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Qe=e,We=null,!0):!1;default:return!1}}function Ea(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Pa(e){if(ne){var t=We;if(t){var n=t;if(!Ao(e,t)){if(Ea(e))throw Error(M(418));t=qt(n.nextSibling);var r=Qe;t&&Ao(e,t)?Cd(r,n):(e.flags=e.flags&-4097|2,ne=!1,Qe=e)}}else{if(Ea(e))throw Error(M(418));e.flags=e.flags&-4097|2,ne=!1,Qe=e}}}function Oo(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Qe=e}function fr(e){if(e!==Qe)return!1;if(!ne)return Oo(e),ne=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!wa(e.type,e.memoizedProps)),t&&(t=We)){if(Ea(e))throw Ed(),Error(M(418));for(;t;)Cd(e,t),t=qt(t.nextSibling)}if(Oo(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(M(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){We=qt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}We=null}}else We=Qe?qt(e.stateNode.nextSibling):null;return!0}function Ed(){for(var e=We;e;)e=qt(e.nextSibling)}function qs(){We=Qe=null,ne=!1}function hi(e){ct===null?ct=[e]:ct.push(e)}var tm=zt.ReactCurrentBatchConfig;function on(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(M(309));var r=n.stateNode}if(!r)throw Error(M(147,e));var l=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(i){var o=l.refs;i===null?delete o[a]:o[a]=i},t._stringRef=a,t)}if(typeof e!="string")throw Error(M(284));if(!n._owner)throw Error(M(290,e))}return e}function mr(e,t){throw e=Object.prototype.toString.call(t),Error(M(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ro(e){var t=e._init;return t(e._payload)}function Pd(e){function t(u,d){if(e){var x=u.deletions;x===null?(u.deletions=[d],u.flags|=16):x.push(d)}}function n(u,d){if(!e)return null;for(;d!==null;)t(u,d),d=d.sibling;return null}function r(u,d){for(u=new Map;d!==null;)d.key!==null?u.set(d.key,d):u.set(d.index,d),d=d.sibling;return u}function l(u,d){return u=Gt(u,d),u.index=0,u.sibling=null,u}function a(u,d,x){return u.index=x,e?(x=u.alternate,x!==null?(x=x.index,x<d?(u.flags|=2,d):x):(u.flags|=2,d)):(u.flags|=1048576,d)}function i(u){return e&&u.alternate===null&&(u.flags|=2),u}function o(u,d,x,j){return d===null||d.tag!==6?(d=Ql(x,u.mode,j),d.return=u,d):(d=l(d,x),d.return=u,d)}function c(u,d,x,j){var S=x.type;return S===ks?h(u,d,x.props.children,j,x.key):d!==null&&(d.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Lt&&Ro(S)===d.type)?(j=l(d,x.props),j.ref=on(u,d,x),j.return=u,j):(j=zr(x.type,x.key,x.props,null,u.mode,j),j.ref=on(u,d,x),j.return=u,j)}function m(u,d,x,j){return d===null||d.tag!==4||d.stateNode.containerInfo!==x.containerInfo||d.stateNode.implementation!==x.implementation?(d=Gl(x,u.mode,j),d.return=u,d):(d=l(d,x.children||[]),d.return=u,d)}function h(u,d,x,j,S){return d===null||d.tag!==7?(d=as(x,u.mode,j,S),d.return=u,d):(d=l(d,x),d.return=u,d)}function f(u,d,x){if(typeof d=="string"&&d!==""||typeof d=="number")return d=Ql(""+d,u.mode,x),d.return=u,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case sr:return x=zr(d.type,d.key,d.props,null,u.mode,x),x.ref=on(u,null,d),x.return=u,x;case ws:return d=Gl(d,u.mode,x),d.return=u,d;case Lt:var j=d._init;return f(u,j(d._payload),x)}if(mn(d)||sn(d))return d=as(d,u.mode,x,null),d.return=u,d;mr(u,d)}return null}function g(u,d,x,j){var S=d!==null?d.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return S!==null?null:o(u,d,""+x,j);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case sr:return x.key===S?c(u,d,x,j):null;case ws:return x.key===S?m(u,d,x,j):null;case Lt:return S=x._init,g(u,d,S(x._payload),j)}if(mn(x)||sn(x))return S!==null?null:h(u,d,x,j,null);mr(u,x)}return null}function y(u,d,x,j,S){if(typeof j=="string"&&j!==""||typeof j=="number")return u=u.get(x)||null,o(d,u,""+j,S);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case sr:return u=u.get(j.key===null?x:j.key)||null,c(d,u,j,S);case ws:return u=u.get(j.key===null?x:j.key)||null,m(d,u,j,S);case Lt:var b=j._init;return y(u,d,x,b(j._payload),S)}if(mn(j)||sn(j))return u=u.get(x)||null,h(d,u,j,S,null);mr(d,j)}return null}function N(u,d,x,j){for(var S=null,b=null,w=d,P=d=0,_=null;w!==null&&P<x.length;P++){w.index>P?(_=w,w=null):_=w.sibling;var O=g(u,w,x[P],j);if(O===null){w===null&&(w=_);break}e&&w&&O.alternate===null&&t(u,w),d=a(O,d,P),b===null?S=O:b.sibling=O,b=O,w=_}if(P===x.length)return n(u,w),ne&&es(u,P),S;if(w===null){for(;P<x.length;P++)w=f(u,x[P],j),w!==null&&(d=a(w,d,P),b===null?S=w:b.sibling=w,b=w);return ne&&es(u,P),S}for(w=r(u,w);P<x.length;P++)_=y(w,u,P,x[P],j),_!==null&&(e&&_.alternate!==null&&w.delete(_.key===null?P:_.key),d=a(_,d,P),b===null?S=_:b.sibling=_,b=_);return e&&w.forEach(function(W){return t(u,W)}),ne&&es(u,P),S}function v(u,d,x,j){var S=sn(x);if(typeof S!="function")throw Error(M(150));if(x=S.call(x),x==null)throw Error(M(151));for(var b=S=null,w=d,P=d=0,_=null,O=x.next();w!==null&&!O.done;P++,O=x.next()){w.index>P?(_=w,w=null):_=w.sibling;var W=g(u,w,O.value,j);if(W===null){w===null&&(w=_);break}e&&w&&W.alternate===null&&t(u,w),d=a(W,d,P),b===null?S=W:b.sibling=W,b=W,w=_}if(O.done)return n(u,w),ne&&es(u,P),S;if(w===null){for(;!O.done;P++,O=x.next())O=f(u,O.value,j),O!==null&&(d=a(O,d,P),b===null?S=O:b.sibling=O,b=O);return ne&&es(u,P),S}for(w=r(u,w);!O.done;P++,O=x.next())O=y(w,u,P,O.value,j),O!==null&&(e&&O.alternate!==null&&w.delete(O.key===null?P:O.key),d=a(O,d,P),b===null?S=O:b.sibling=O,b=O);return e&&w.forEach(function(Q){return t(u,Q)}),ne&&es(u,P),S}function C(u,d,x,j){if(typeof x=="object"&&x!==null&&x.type===ks&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case sr:e:{for(var S=x.key,b=d;b!==null;){if(b.key===S){if(S=x.type,S===ks){if(b.tag===7){n(u,b.sibling),d=l(b,x.props.children),d.return=u,u=d;break e}}else if(b.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Lt&&Ro(S)===b.type){n(u,b.sibling),d=l(b,x.props),d.ref=on(u,b,x),d.return=u,u=d;break e}n(u,b);break}else t(u,b);b=b.sibling}x.type===ks?(d=as(x.props.children,u.mode,j,x.key),d.return=u,u=d):(j=zr(x.type,x.key,x.props,null,u.mode,j),j.ref=on(u,d,x),j.return=u,u=j)}return i(u);case ws:e:{for(b=x.key;d!==null;){if(d.key===b)if(d.tag===4&&d.stateNode.containerInfo===x.containerInfo&&d.stateNode.implementation===x.implementation){n(u,d.sibling),d=l(d,x.children||[]),d.return=u,u=d;break e}else{n(u,d);break}else t(u,d);d=d.sibling}d=Gl(x,u.mode,j),d.return=u,u=d}return i(u);case Lt:return b=x._init,C(u,d,b(x._payload),j)}if(mn(x))return N(u,d,x,j);if(sn(x))return v(u,d,x,j);mr(u,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,d!==null&&d.tag===6?(n(u,d.sibling),d=l(d,x),d.return=u,u=d):(n(u,d),d=Ql(x,u.mode,j),d.return=u,u=d),i(u)):n(u,d)}return C}var Hs=Pd(!0),_d=Pd(!1),Hr=Xt(null),Wr=null,Ts=null,gi=null;function vi(){gi=Ts=Wr=null}function yi(e){var t=Hr.current;se(Hr),e._currentValue=t}function _a(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Us(e,t){Wr=e,gi=Ts=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(De=!0),e.firstContext=null)}function nt(e){var t=e._currentValue;if(gi!==e)if(e={context:e,memoizedValue:t,next:null},Ts===null){if(Wr===null)throw Error(M(308));Ts=e,Wr.dependencies={lanes:0,firstContext:e}}else Ts=Ts.next=e;return t}var ns=null;function bi(e){ns===null?ns=[e]:ns.push(e)}function zd(e,t,n,r){var l=t.interleaved;return l===null?(n.next=n,bi(t)):(n.next=l.next,l.next=n),t.interleaved=n,Pt(e,r)}function Pt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var At=!1;function ji(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Id(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function kt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ht(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,K&2){var l=r.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),r.pending=t,Pt(e,n)}return l=r.interleaved,l===null?(t.next=t,bi(r)):(t.next=l.next,l.next=t),r.interleaved=t,Pt(e,n)}function kr(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ai(e,n)}}function Do(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var l=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?l=a=i:a=a.next=i,n=n.next}while(n!==null);a===null?l=a=t:a=a.next=t}else l=a=t;n={baseState:r.baseState,firstBaseUpdate:l,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Qr(e,t,n,r){var l=e.updateQueue;At=!1;var a=l.firstBaseUpdate,i=l.lastBaseUpdate,o=l.shared.pending;if(o!==null){l.shared.pending=null;var c=o,m=c.next;c.next=null,i===null?a=m:i.next=m,i=c;var h=e.alternate;h!==null&&(h=h.updateQueue,o=h.lastBaseUpdate,o!==i&&(o===null?h.firstBaseUpdate=m:o.next=m,h.lastBaseUpdate=c))}if(a!==null){var f=l.baseState;i=0,h=m=c=null,o=a;do{var g=o.lane,y=o.eventTime;if((r&g)===g){h!==null&&(h=h.next={eventTime:y,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var N=e,v=o;switch(g=t,y=n,v.tag){case 1:if(N=v.payload,typeof N=="function"){f=N.call(y,f,g);break e}f=N;break e;case 3:N.flags=N.flags&-65537|128;case 0:if(N=v.payload,g=typeof N=="function"?N.call(y,f,g):N,g==null)break e;f=ie({},f,g);break e;case 2:At=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,g=l.effects,g===null?l.effects=[o]:g.push(o))}else y={eventTime:y,lane:g,tag:o.tag,payload:o.payload,callback:o.callback,next:null},h===null?(m=h=y,c=f):h=h.next=y,i|=g;if(o=o.next,o===null){if(o=l.shared.pending,o===null)break;g=o,o=g.next,g.next=null,l.lastBaseUpdate=g,l.shared.pending=null}}while(!0);if(h===null&&(c=f),l.baseState=c,l.firstBaseUpdate=m,l.lastBaseUpdate=h,t=l.shared.interleaved,t!==null){l=t;do i|=l.lane,l=l.next;while(l!==t)}else a===null&&(l.shared.lanes=0);us|=i,e.lanes=i,e.memoizedState=f}}function $o(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],l=r.callback;if(l!==null){if(r.callback=null,r=n,typeof l!="function")throw Error(M(191,l));l.call(r)}}}var Kn={},vt=Xt(Kn),Dn=Xt(Kn),$n=Xt(Kn);function rs(e){if(e===Kn)throw Error(M(174));return e}function Ni(e,t){switch(ee($n,t),ee(Dn,e),ee(vt,Kn),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ca(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ca(t,e)}se(vt),ee(vt,t)}function Ws(){se(vt),se(Dn),se($n)}function Td(e){rs($n.current);var t=rs(vt.current),n=ca(t,e.type);t!==n&&(ee(Dn,e),ee(vt,n))}function wi(e){Dn.current===e&&(se(vt),se(Dn))}var le=Xt(0);function Gr(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Fl=[];function ki(){for(var e=0;e<Fl.length;e++)Fl[e]._workInProgressVersionPrimary=null;Fl.length=0}var Sr=zt.ReactCurrentDispatcher,Vl=zt.ReactCurrentBatchConfig,ds=0,ae=null,ve=null,je=null,Yr=!1,jn=!1,Un=0,sm=0;function Pe(){throw Error(M(321))}function Si(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ft(e[n],t[n]))return!1;return!0}function Ci(e,t,n,r,l,a){if(ds=a,ae=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Sr.current=e===null||e.memoizedState===null?am:im,e=n(r,l),jn){a=0;do{if(jn=!1,Un=0,25<=a)throw Error(M(301));a+=1,je=ve=null,t.updateQueue=null,Sr.current=om,e=n(r,l)}while(jn)}if(Sr.current=Jr,t=ve!==null&&ve.next!==null,ds=0,je=ve=ae=null,Yr=!1,t)throw Error(M(300));return e}function Ei(){var e=Un!==0;return Un=0,e}function pt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return je===null?ae.memoizedState=je=e:je=je.next=e,je}function rt(){if(ve===null){var e=ae.alternate;e=e!==null?e.memoizedState:null}else e=ve.next;var t=je===null?ae.memoizedState:je.next;if(t!==null)je=t,ve=e;else{if(e===null)throw Error(M(310));ve=e,e={memoizedState:ve.memoizedState,baseState:ve.baseState,baseQueue:ve.baseQueue,queue:ve.queue,next:null},je===null?ae.memoizedState=je=e:je=je.next=e}return je}function Fn(e,t){return typeof t=="function"?t(e):t}function Bl(e){var t=rt(),n=t.queue;if(n===null)throw Error(M(311));n.lastRenderedReducer=e;var r=ve,l=r.baseQueue,a=n.pending;if(a!==null){if(l!==null){var i=l.next;l.next=a.next,a.next=i}r.baseQueue=l=a,n.pending=null}if(l!==null){a=l.next,r=r.baseState;var o=i=null,c=null,m=a;do{var h=m.lane;if((ds&h)===h)c!==null&&(c=c.next={lane:0,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null}),r=m.hasEagerState?m.eagerState:e(r,m.action);else{var f={lane:h,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null};c===null?(o=c=f,i=r):c=c.next=f,ae.lanes|=h,us|=h}m=m.next}while(m!==null&&m!==a);c===null?i=r:c.next=o,ft(r,t.memoizedState)||(De=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){l=e;do a=l.lane,ae.lanes|=a,us|=a,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ql(e){var t=rt(),n=t.queue;if(n===null)throw Error(M(311));n.lastRenderedReducer=e;var r=n.dispatch,l=n.pending,a=t.memoizedState;if(l!==null){n.pending=null;var i=l=l.next;do a=e(a,i.action),i=i.next;while(i!==l);ft(a,t.memoizedState)||(De=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Md(){}function Ld(e,t){var n=ae,r=rt(),l=t(),a=!ft(r.memoizedState,l);if(a&&(r.memoizedState=l,De=!0),r=r.queue,Pi(Rd.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||je!==null&&je.memoizedState.tag&1){if(n.flags|=2048,Vn(9,Od.bind(null,n,r,l,t),void 0,null),Ne===null)throw Error(M(349));ds&30||Ad(n,t,l)}return l}function Ad(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ae.updateQueue,t===null?(t={lastEffect:null,stores:null},ae.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Od(e,t,n,r){t.value=n,t.getSnapshot=r,Dd(t)&&$d(e)}function Rd(e,t,n){return n(function(){Dd(t)&&$d(e)})}function Dd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ft(e,n)}catch{return!0}}function $d(e){var t=Pt(e,1);t!==null&&ut(t,e,1,-1)}function Uo(e){var t=pt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fn,lastRenderedState:e},t.queue=e,e=e.dispatch=lm.bind(null,ae,e),[t.memoizedState,e]}function Vn(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ae.updateQueue,t===null?(t={lastEffect:null,stores:null},ae.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Ud(){return rt().memoizedState}function Cr(e,t,n,r){var l=pt();ae.flags|=e,l.memoizedState=Vn(1|t,n,void 0,r===void 0?null:r)}function dl(e,t,n,r){var l=rt();r=r===void 0?null:r;var a=void 0;if(ve!==null){var i=ve.memoizedState;if(a=i.destroy,r!==null&&Si(r,i.deps)){l.memoizedState=Vn(t,n,a,r);return}}ae.flags|=e,l.memoizedState=Vn(1|t,n,a,r)}function Fo(e,t){return Cr(8390656,8,e,t)}function Pi(e,t){return dl(2048,8,e,t)}function Fd(e,t){return dl(4,2,e,t)}function Vd(e,t){return dl(4,4,e,t)}function Bd(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function qd(e,t,n){return n=n!=null?n.concat([e]):null,dl(4,4,Bd.bind(null,t,e),n)}function _i(){}function Hd(e,t){var n=rt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Si(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Wd(e,t){var n=rt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Si(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Qd(e,t,n){return ds&21?(ft(n,t)||(n=Xc(),ae.lanes|=n,us|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,De=!0),e.memoizedState=n)}function nm(e,t){var n=Z;Z=n!==0&&4>n?n:4,e(!0);var r=Vl.transition;Vl.transition={};try{e(!1),t()}finally{Z=n,Vl.transition=r}}function Gd(){return rt().memoizedState}function rm(e,t,n){var r=Qt(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Yd(e))Jd(t,n);else if(n=zd(e,t,n,r),n!==null){var l=Le();ut(n,e,r,l),Kd(n,t,r)}}function lm(e,t,n){var r=Qt(e),l={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Yd(e))Jd(t,l);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var i=t.lastRenderedState,o=a(i,n);if(l.hasEagerState=!0,l.eagerState=o,ft(o,i)){var c=t.interleaved;c===null?(l.next=l,bi(t)):(l.next=c.next,c.next=l),t.interleaved=l;return}}catch{}finally{}n=zd(e,t,l,r),n!==null&&(l=Le(),ut(n,e,r,l),Kd(n,t,r))}}function Yd(e){var t=e.alternate;return e===ae||t!==null&&t===ae}function Jd(e,t){jn=Yr=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Kd(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ai(e,n)}}var Jr={readContext:nt,useCallback:Pe,useContext:Pe,useEffect:Pe,useImperativeHandle:Pe,useInsertionEffect:Pe,useLayoutEffect:Pe,useMemo:Pe,useReducer:Pe,useRef:Pe,useState:Pe,useDebugValue:Pe,useDeferredValue:Pe,useTransition:Pe,useMutableSource:Pe,useSyncExternalStore:Pe,useId:Pe,unstable_isNewReconciler:!1},am={readContext:nt,useCallback:function(e,t){return pt().memoizedState=[e,t===void 0?null:t],e},useContext:nt,useEffect:Fo,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Cr(4194308,4,Bd.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Cr(4194308,4,e,t)},useInsertionEffect:function(e,t){return Cr(4,2,e,t)},useMemo:function(e,t){var n=pt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=pt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=rm.bind(null,ae,e),[r.memoizedState,e]},useRef:function(e){var t=pt();return e={current:e},t.memoizedState=e},useState:Uo,useDebugValue:_i,useDeferredValue:function(e){return pt().memoizedState=e},useTransition:function(){var e=Uo(!1),t=e[0];return e=nm.bind(null,e[1]),pt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ae,l=pt();if(ne){if(n===void 0)throw Error(M(407));n=n()}else{if(n=t(),Ne===null)throw Error(M(349));ds&30||Ad(r,t,n)}l.memoizedState=n;var a={value:n,getSnapshot:t};return l.queue=a,Fo(Rd.bind(null,r,a,e),[e]),r.flags|=2048,Vn(9,Od.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=pt(),t=Ne.identifierPrefix;if(ne){var n=wt,r=Nt;n=(r&~(1<<32-dt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Un++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=sm++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},im={readContext:nt,useCallback:Hd,useContext:nt,useEffect:Pi,useImperativeHandle:qd,useInsertionEffect:Fd,useLayoutEffect:Vd,useMemo:Wd,useReducer:Bl,useRef:Ud,useState:function(){return Bl(Fn)},useDebugValue:_i,useDeferredValue:function(e){var t=rt();return Qd(t,ve.memoizedState,e)},useTransition:function(){var e=Bl(Fn)[0],t=rt().memoizedState;return[e,t]},useMutableSource:Md,useSyncExternalStore:Ld,useId:Gd,unstable_isNewReconciler:!1},om={readContext:nt,useCallback:Hd,useContext:nt,useEffect:Pi,useImperativeHandle:qd,useInsertionEffect:Fd,useLayoutEffect:Vd,useMemo:Wd,useReducer:ql,useRef:Ud,useState:function(){return ql(Fn)},useDebugValue:_i,useDeferredValue:function(e){var t=rt();return ve===null?t.memoizedState=e:Qd(t,ve.memoizedState,e)},useTransition:function(){var e=ql(Fn)[0],t=rt().memoizedState;return[e,t]},useMutableSource:Md,useSyncExternalStore:Ld,useId:Gd,unstable_isNewReconciler:!1};function it(e,t){if(e&&e.defaultProps){t=ie({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function za(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ie({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ul={isMounted:function(e){return(e=e._reactInternals)?hs(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Le(),l=Qt(e),a=kt(r,l);a.payload=t,n!=null&&(a.callback=n),t=Ht(e,a,l),t!==null&&(ut(t,e,l,r),kr(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Le(),l=Qt(e),a=kt(r,l);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=Ht(e,a,l),t!==null&&(ut(t,e,l,r),kr(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Le(),r=Qt(e),l=kt(n,r);l.tag=2,t!=null&&(l.callback=t),t=Ht(e,l,r),t!==null&&(ut(t,e,r,n),kr(t,e,r))}};function Vo(e,t,n,r,l,a,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,i):t.prototype&&t.prototype.isPureReactComponent?!Ln(n,r)||!Ln(l,a):!0}function Xd(e,t,n){var r=!1,l=Jt,a=t.contextType;return typeof a=="object"&&a!==null?a=nt(a):(l=Ue(t)?os:Ie.current,r=t.contextTypes,a=(r=r!=null)?Bs(e,l):Jt),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ul,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=a),t}function Bo(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ul.enqueueReplaceState(t,t.state,null)}function Ia(e,t,n,r){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},ji(e);var a=t.contextType;typeof a=="object"&&a!==null?l.context=nt(a):(a=Ue(t)?os:Ie.current,l.context=Bs(e,a)),l.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(za(e,t,a,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&ul.enqueueReplaceState(l,l.state,null),Qr(e,n,l,r),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function Qs(e,t){try{var n="",r=t;do n+=A0(r),r=r.return;while(r);var l=n}catch(a){l=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:l,digest:null}}function Hl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Ta(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var cm=typeof WeakMap=="function"?WeakMap:Map;function Zd(e,t,n){n=kt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Xr||(Xr=!0,Va=r),Ta(e,t)},n}function eu(e,t,n){n=kt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var l=t.value;n.payload=function(){return r(l)},n.callback=function(){Ta(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){Ta(e,t),typeof r!="function"&&(Wt===null?Wt=new Set([this]):Wt.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function qo(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new cm;var l=new Set;r.set(t,l)}else l=r.get(t),l===void 0&&(l=new Set,r.set(t,l));l.has(n)||(l.add(n),e=wm.bind(null,e,t,n),t.then(e,e))}function Ho(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Wo(e,t,n,r,l){return e.mode&1?(e.flags|=65536,e.lanes=l,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=kt(-1,1),t.tag=2,Ht(n,t,1))),n.lanes|=1),e)}var dm=zt.ReactCurrentOwner,De=!1;function Me(e,t,n,r){t.child=e===null?_d(t,null,n,r):Hs(t,e.child,n,r)}function Qo(e,t,n,r,l){n=n.render;var a=t.ref;return Us(t,l),r=Ci(e,t,n,r,a,l),n=Ei(),e!==null&&!De?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,_t(e,t,l)):(ne&&n&&xi(t),t.flags|=1,Me(e,t,r,l),t.child)}function Go(e,t,n,r,l){if(e===null){var a=n.type;return typeof a=="function"&&!Ri(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,tu(e,t,a,r,l)):(e=zr(n.type,null,r,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&l)){var i=a.memoizedProps;if(n=n.compare,n=n!==null?n:Ln,n(i,r)&&e.ref===t.ref)return _t(e,t,l)}return t.flags|=1,e=Gt(a,r),e.ref=t.ref,e.return=t,t.child=e}function tu(e,t,n,r,l){if(e!==null){var a=e.memoizedProps;if(Ln(a,r)&&e.ref===t.ref)if(De=!1,t.pendingProps=r=a,(e.lanes&l)!==0)e.flags&131072&&(De=!0);else return t.lanes=e.lanes,_t(e,t,l)}return Ma(e,t,n,r,l)}function su(e,t,n){var r=t.pendingProps,l=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ee(Ls,He),He|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ee(Ls,He),He|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,ee(Ls,He),He|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,ee(Ls,He),He|=r;return Me(e,t,l,n),t.child}function nu(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ma(e,t,n,r,l){var a=Ue(n)?os:Ie.current;return a=Bs(t,a),Us(t,l),n=Ci(e,t,n,r,a,l),r=Ei(),e!==null&&!De?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,_t(e,t,l)):(ne&&r&&xi(t),t.flags|=1,Me(e,t,n,l),t.child)}function Yo(e,t,n,r,l){if(Ue(n)){var a=!0;Vr(t)}else a=!1;if(Us(t,l),t.stateNode===null)Er(e,t),Xd(t,n,r),Ia(t,n,r,l),r=!0;else if(e===null){var i=t.stateNode,o=t.memoizedProps;i.props=o;var c=i.context,m=n.contextType;typeof m=="object"&&m!==null?m=nt(m):(m=Ue(n)?os:Ie.current,m=Bs(t,m));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==r||c!==m)&&Bo(t,i,r,m),At=!1;var g=t.memoizedState;i.state=g,Qr(t,r,i,l),c=t.memoizedState,o!==r||g!==c||$e.current||At?(typeof h=="function"&&(za(t,n,h,r),c=t.memoizedState),(o=At||Vo(t,n,o,r,g,c,m))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),i.props=r,i.state=c,i.context=m,r=o):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,Id(e,t),o=t.memoizedProps,m=t.type===t.elementType?o:it(t.type,o),i.props=m,f=t.pendingProps,g=i.context,c=n.contextType,typeof c=="object"&&c!==null?c=nt(c):(c=Ue(n)?os:Ie.current,c=Bs(t,c));var y=n.getDerivedStateFromProps;(h=typeof y=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==f||g!==c)&&Bo(t,i,r,c),At=!1,g=t.memoizedState,i.state=g,Qr(t,r,i,l);var N=t.memoizedState;o!==f||g!==N||$e.current||At?(typeof y=="function"&&(za(t,n,y,r),N=t.memoizedState),(m=At||Vo(t,n,m,r,g,N,c)||!1)?(h||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,N,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,N,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=N),i.props=r,i.state=N,i.context=c,r=m):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),r=!1)}return La(e,t,n,r,a,l)}function La(e,t,n,r,l,a){nu(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return l&&Lo(t,n,!1),_t(e,t,a);r=t.stateNode,dm.current=t;var o=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=Hs(t,e.child,null,a),t.child=Hs(t,null,o,a)):Me(e,t,o,a),t.memoizedState=r.state,l&&Lo(t,n,!0),t.child}function ru(e){var t=e.stateNode;t.pendingContext?Mo(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Mo(e,t.context,!1),Ni(e,t.containerInfo)}function Jo(e,t,n,r,l){return qs(),hi(l),t.flags|=256,Me(e,t,n,r),t.child}var Aa={dehydrated:null,treeContext:null,retryLane:0};function Oa(e){return{baseLanes:e,cachePool:null,transitions:null}}function lu(e,t,n){var r=t.pendingProps,l=le.current,a=!1,i=(t.flags&128)!==0,o;if((o=i)||(o=e!==null&&e.memoizedState===null?!1:(l&2)!==0),o?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),ee(le,l&1),e===null)return Pa(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,a?(r=t.mode,a=t.child,i={mode:"hidden",children:i},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=i):a=xl(i,r,0,null),e=as(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Oa(n),t.memoizedState=Aa,e):zi(t,i));if(l=e.memoizedState,l!==null&&(o=l.dehydrated,o!==null))return um(e,t,i,r,o,l,n);if(a){a=r.fallback,i=t.mode,l=e.child,o=l.sibling;var c={mode:"hidden",children:r.children};return!(i&1)&&t.child!==l?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Gt(l,c),r.subtreeFlags=l.subtreeFlags&14680064),o!==null?a=Gt(o,a):(a=as(a,i,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,i=e.child.memoizedState,i=i===null?Oa(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},a.memoizedState=i,a.childLanes=e.childLanes&~n,t.memoizedState=Aa,r}return a=e.child,e=a.sibling,r=Gt(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function zi(e,t){return t=xl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function xr(e,t,n,r){return r!==null&&hi(r),Hs(t,e.child,null,n),e=zi(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function um(e,t,n,r,l,a,i){if(n)return t.flags&256?(t.flags&=-257,r=Hl(Error(M(422))),xr(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,l=t.mode,r=xl({mode:"visible",children:r.children},l,0,null),a=as(a,l,i,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&Hs(t,e.child,null,i),t.child.memoizedState=Oa(i),t.memoizedState=Aa,a);if(!(t.mode&1))return xr(e,t,i,null);if(l.data==="$!"){if(r=l.nextSibling&&l.nextSibling.dataset,r)var o=r.dgst;return r=o,a=Error(M(419)),r=Hl(a,r,void 0),xr(e,t,i,r)}if(o=(i&e.childLanes)!==0,De||o){if(r=Ne,r!==null){switch(i&-i){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(r.suspendedLanes|i)?0:l,l!==0&&l!==a.retryLane&&(a.retryLane=l,Pt(e,l),ut(r,e,l,-1))}return Oi(),r=Hl(Error(M(421))),xr(e,t,i,r)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=km.bind(null,e),l._reactRetry=t,null):(e=a.treeContext,We=qt(l.nextSibling),Qe=t,ne=!0,ct=null,e!==null&&(Ze[et++]=Nt,Ze[et++]=wt,Ze[et++]=cs,Nt=e.id,wt=e.overflow,cs=t),t=zi(t,r.children),t.flags|=4096,t)}function Ko(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),_a(e.return,t,n)}function Wl(e,t,n,r,l){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:l}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=l)}function au(e,t,n){var r=t.pendingProps,l=r.revealOrder,a=r.tail;if(Me(e,t,r.children,n),r=le.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ko(e,n,t);else if(e.tag===19)Ko(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ee(le,r),!(t.mode&1))t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&Gr(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),Wl(t,!1,l,n,a);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&Gr(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}Wl(t,!0,n,null,a);break;case"together":Wl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Er(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function _t(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),us|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(M(153));if(t.child!==null){for(e=t.child,n=Gt(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Gt(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function fm(e,t,n){switch(t.tag){case 3:ru(t),qs();break;case 5:Td(t);break;case 1:Ue(t.type)&&Vr(t);break;case 4:Ni(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,l=t.memoizedProps.value;ee(Hr,r._currentValue),r._currentValue=l;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ee(le,le.current&1),t.flags|=128,null):n&t.child.childLanes?lu(e,t,n):(ee(le,le.current&1),e=_t(e,t,n),e!==null?e.sibling:null);ee(le,le.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return au(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),ee(le,le.current),r)break;return null;case 22:case 23:return t.lanes=0,su(e,t,n)}return _t(e,t,n)}var iu,Ra,ou,cu;iu=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ra=function(){};ou=function(e,t,n,r){var l=e.memoizedProps;if(l!==r){e=t.stateNode,rs(vt.current);var a=null;switch(n){case"input":l=la(e,l),r=la(e,r),a=[];break;case"select":l=ie({},l,{value:void 0}),r=ie({},r,{value:void 0}),a=[];break;case"textarea":l=oa(e,l),r=oa(e,r),a=[];break;default:typeof l.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ur)}da(n,r);var i;n=null;for(m in l)if(!r.hasOwnProperty(m)&&l.hasOwnProperty(m)&&l[m]!=null)if(m==="style"){var o=l[m];for(i in o)o.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else m!=="dangerouslySetInnerHTML"&&m!=="children"&&m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(En.hasOwnProperty(m)?a||(a=[]):(a=a||[]).push(m,null));for(m in r){var c=r[m];if(o=l!=null?l[m]:void 0,r.hasOwnProperty(m)&&c!==o&&(c!=null||o!=null))if(m==="style")if(o){for(i in o)!o.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&o[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(a||(a=[]),a.push(m,n)),n=c;else m==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(a=a||[]).push(m,c)):m==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(m,""+c):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&(En.hasOwnProperty(m)?(c!=null&&m==="onScroll"&&te("scroll",e),a||o===c||(a=[])):(a=a||[]).push(m,c))}n&&(a=a||[]).push("style",n);var m=a;(t.updateQueue=m)&&(t.flags|=4)}};cu=function(e,t,n,r){n!==r&&(t.flags|=4)};function cn(e,t){if(!ne)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function _e(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags&14680064,r|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags,r|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function mm(e,t,n){var r=t.pendingProps;switch(pi(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _e(t),null;case 1:return Ue(t.type)&&Fr(),_e(t),null;case 3:return r=t.stateNode,Ws(),se($e),se(Ie),ki(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(fr(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ct!==null&&(Ha(ct),ct=null))),Ra(e,t),_e(t),null;case 5:wi(t);var l=rs($n.current);if(n=t.type,e!==null&&t.stateNode!=null)ou(e,t,n,r,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(M(166));return _e(t),null}if(e=rs(vt.current),fr(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[ht]=t,r[Rn]=a,e=(t.mode&1)!==0,n){case"dialog":te("cancel",r),te("close",r);break;case"iframe":case"object":case"embed":te("load",r);break;case"video":case"audio":for(l=0;l<pn.length;l++)te(pn[l],r);break;case"source":te("error",r);break;case"img":case"image":case"link":te("error",r),te("load",r);break;case"details":te("toggle",r);break;case"input":lo(r,a),te("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},te("invalid",r);break;case"textarea":io(r,a),te("invalid",r)}da(n,a),l=null;for(var i in a)if(a.hasOwnProperty(i)){var o=a[i];i==="children"?typeof o=="string"?r.textContent!==o&&(a.suppressHydrationWarning!==!0&&ur(r.textContent,o,e),l=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&ur(r.textContent,o,e),l=["children",""+o]):En.hasOwnProperty(i)&&o!=null&&i==="onScroll"&&te("scroll",r)}switch(n){case"input":nr(r),ao(r,a,!0);break;case"textarea":nr(r),oo(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=Ur)}r=l,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Rc(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[ht]=t,e[Rn]=r,iu(e,t,!1,!1),t.stateNode=e;e:{switch(i=ua(n,r),n){case"dialog":te("cancel",e),te("close",e),l=r;break;case"iframe":case"object":case"embed":te("load",e),l=r;break;case"video":case"audio":for(l=0;l<pn.length;l++)te(pn[l],e);l=r;break;case"source":te("error",e),l=r;break;case"img":case"image":case"link":te("error",e),te("load",e),l=r;break;case"details":te("toggle",e),l=r;break;case"input":lo(e,r),l=la(e,r),te("invalid",e);break;case"option":l=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},l=ie({},r,{value:void 0}),te("invalid",e);break;case"textarea":io(e,r),l=oa(e,r),te("invalid",e);break;default:l=r}da(n,l),o=l;for(a in o)if(o.hasOwnProperty(a)){var c=o[a];a==="style"?Uc(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Dc(e,c)):a==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Pn(e,c):typeof c=="number"&&Pn(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(En.hasOwnProperty(a)?c!=null&&a==="onScroll"&&te("scroll",e):c!=null&&ei(e,a,c,i))}switch(n){case"input":nr(e),ao(e,r,!1);break;case"textarea":nr(e),oo(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Yt(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?Os(e,!!r.multiple,a,!1):r.defaultValue!=null&&Os(e,!!r.multiple,r.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=Ur)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return _e(t),null;case 6:if(e&&t.stateNode!=null)cu(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(M(166));if(n=rs($n.current),rs(vt.current),fr(t)){if(r=t.stateNode,n=t.memoizedProps,r[ht]=t,(a=r.nodeValue!==n)&&(e=Qe,e!==null))switch(e.tag){case 3:ur(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ur(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ht]=t,t.stateNode=r}return _e(t),null;case 13:if(se(le),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ne&&We!==null&&t.mode&1&&!(t.flags&128))Ed(),qs(),t.flags|=98560,a=!1;else if(a=fr(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(M(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(M(317));a[ht]=t}else qs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;_e(t),a=!1}else ct!==null&&(Ha(ct),ct=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||le.current&1?ye===0&&(ye=3):Oi())),t.updateQueue!==null&&(t.flags|=4),_e(t),null);case 4:return Ws(),Ra(e,t),e===null&&An(t.stateNode.containerInfo),_e(t),null;case 10:return yi(t.type._context),_e(t),null;case 17:return Ue(t.type)&&Fr(),_e(t),null;case 19:if(se(le),a=t.memoizedState,a===null)return _e(t),null;if(r=(t.flags&128)!==0,i=a.rendering,i===null)if(r)cn(a,!1);else{if(ye!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Gr(e),i!==null){for(t.flags|=128,cn(a,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,i=a.alternate,i===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,a.type=i.type,e=i.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ee(le,le.current&1|2),t.child}e=e.sibling}a.tail!==null&&fe()>Gs&&(t.flags|=128,r=!0,cn(a,!1),t.lanes=4194304)}else{if(!r)if(e=Gr(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),cn(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!ne)return _e(t),null}else 2*fe()-a.renderingStartTime>Gs&&n!==1073741824&&(t.flags|=128,r=!0,cn(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(n=a.last,n!==null?n.sibling=i:t.child=i,a.last=i)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=fe(),t.sibling=null,n=le.current,ee(le,r?n&1|2:n&1),t):(_e(t),null);case 22:case 23:return Ai(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?He&1073741824&&(_e(t),t.subtreeFlags&6&&(t.flags|=8192)):_e(t),null;case 24:return null;case 25:return null}throw Error(M(156,t.tag))}function xm(e,t){switch(pi(t),t.tag){case 1:return Ue(t.type)&&Fr(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ws(),se($e),se(Ie),ki(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return wi(t),null;case 13:if(se(le),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(M(340));qs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return se(le),null;case 4:return Ws(),null;case 10:return yi(t.type._context),null;case 22:case 23:return Ai(),null;case 24:return null;default:return null}}var pr=!1,ze=!1,pm=typeof WeakSet=="function"?WeakSet:Set,D=null;function Ms(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ce(e,t,r)}else n.current=null}function Da(e,t,n){try{n()}catch(r){ce(e,t,r)}}var Xo=!1;function hm(e,t){if(ja=Rr,e=xd(),mi(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var l=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var i=0,o=-1,c=-1,m=0,h=0,f=e,g=null;t:for(;;){for(var y;f!==n||l!==0&&f.nodeType!==3||(o=i+l),f!==a||r!==0&&f.nodeType!==3||(c=i+r),f.nodeType===3&&(i+=f.nodeValue.length),(y=f.firstChild)!==null;)g=f,f=y;for(;;){if(f===e)break t;if(g===n&&++m===l&&(o=i),g===a&&++h===r&&(c=i),(y=f.nextSibling)!==null)break;f=g,g=f.parentNode}f=y}n=o===-1||c===-1?null:{start:o,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Na={focusedElem:e,selectionRange:n},Rr=!1,D=t;D!==null;)if(t=D,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,D=e;else for(;D!==null;){t=D;try{var N=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(N!==null){var v=N.memoizedProps,C=N.memoizedState,u=t.stateNode,d=u.getSnapshotBeforeUpdate(t.elementType===t.type?v:it(t.type,v),C);u.__reactInternalSnapshotBeforeUpdate=d}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(M(163))}}catch(j){ce(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,D=e;break}D=t.return}return N=Xo,Xo=!1,N}function Nn(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var l=r=r.next;do{if((l.tag&e)===e){var a=l.destroy;l.destroy=void 0,a!==void 0&&Da(t,n,a)}l=l.next}while(l!==r)}}function fl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function $a(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function du(e){var t=e.alternate;t!==null&&(e.alternate=null,du(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ht],delete t[Rn],delete t[Sa],delete t[Xf],delete t[Zf])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function uu(e){return e.tag===5||e.tag===3||e.tag===4}function Zo(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||uu(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ua(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ur));else if(r!==4&&(e=e.child,e!==null))for(Ua(e,t,n),e=e.sibling;e!==null;)Ua(e,t,n),e=e.sibling}function Fa(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Fa(e,t,n),e=e.sibling;e!==null;)Fa(e,t,n),e=e.sibling}var Se=null,ot=!1;function Mt(e,t,n){for(n=n.child;n!==null;)fu(e,t,n),n=n.sibling}function fu(e,t,n){if(gt&&typeof gt.onCommitFiberUnmount=="function")try{gt.onCommitFiberUnmount(rl,n)}catch{}switch(n.tag){case 5:ze||Ms(n,t);case 6:var r=Se,l=ot;Se=null,Mt(e,t,n),Se=r,ot=l,Se!==null&&(ot?(e=Se,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Se.removeChild(n.stateNode));break;case 18:Se!==null&&(ot?(e=Se,n=n.stateNode,e.nodeType===8?$l(e.parentNode,n):e.nodeType===1&&$l(e,n),Tn(e)):$l(Se,n.stateNode));break;case 4:r=Se,l=ot,Se=n.stateNode.containerInfo,ot=!0,Mt(e,t,n),Se=r,ot=l;break;case 0:case 11:case 14:case 15:if(!ze&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){l=r=r.next;do{var a=l,i=a.destroy;a=a.tag,i!==void 0&&(a&2||a&4)&&Da(n,t,i),l=l.next}while(l!==r)}Mt(e,t,n);break;case 1:if(!ze&&(Ms(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){ce(n,t,o)}Mt(e,t,n);break;case 21:Mt(e,t,n);break;case 22:n.mode&1?(ze=(r=ze)||n.memoizedState!==null,Mt(e,t,n),ze=r):Mt(e,t,n);break;default:Mt(e,t,n)}}function ec(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new pm),t.forEach(function(r){var l=Sm.bind(null,e,r);n.has(r)||(n.add(r),r.then(l,l))})}}function at(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];try{var a=e,i=t,o=i;e:for(;o!==null;){switch(o.tag){case 5:Se=o.stateNode,ot=!1;break e;case 3:Se=o.stateNode.containerInfo,ot=!0;break e;case 4:Se=o.stateNode.containerInfo,ot=!0;break e}o=o.return}if(Se===null)throw Error(M(160));fu(a,i,l),Se=null,ot=!1;var c=l.alternate;c!==null&&(c.return=null),l.return=null}catch(m){ce(l,t,m)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)mu(t,e),t=t.sibling}function mu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(at(t,e),xt(e),r&4){try{Nn(3,e,e.return),fl(3,e)}catch(v){ce(e,e.return,v)}try{Nn(5,e,e.return)}catch(v){ce(e,e.return,v)}}break;case 1:at(t,e),xt(e),r&512&&n!==null&&Ms(n,n.return);break;case 5:if(at(t,e),xt(e),r&512&&n!==null&&Ms(n,n.return),e.flags&32){var l=e.stateNode;try{Pn(l,"")}catch(v){ce(e,e.return,v)}}if(r&4&&(l=e.stateNode,l!=null)){var a=e.memoizedProps,i=n!==null?n.memoizedProps:a,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&Ac(l,a),ua(o,i);var m=ua(o,a);for(i=0;i<c.length;i+=2){var h=c[i],f=c[i+1];h==="style"?Uc(l,f):h==="dangerouslySetInnerHTML"?Dc(l,f):h==="children"?Pn(l,f):ei(l,h,f,m)}switch(o){case"input":aa(l,a);break;case"textarea":Oc(l,a);break;case"select":var g=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!a.multiple;var y=a.value;y!=null?Os(l,!!a.multiple,y,!1):g!==!!a.multiple&&(a.defaultValue!=null?Os(l,!!a.multiple,a.defaultValue,!0):Os(l,!!a.multiple,a.multiple?[]:"",!1))}l[Rn]=a}catch(v){ce(e,e.return,v)}}break;case 6:if(at(t,e),xt(e),r&4){if(e.stateNode===null)throw Error(M(162));l=e.stateNode,a=e.memoizedProps;try{l.nodeValue=a}catch(v){ce(e,e.return,v)}}break;case 3:if(at(t,e),xt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Tn(t.containerInfo)}catch(v){ce(e,e.return,v)}break;case 4:at(t,e),xt(e);break;case 13:at(t,e),xt(e),l=e.child,l.flags&8192&&(a=l.memoizedState!==null,l.stateNode.isHidden=a,!a||l.alternate!==null&&l.alternate.memoizedState!==null||(Mi=fe())),r&4&&ec(e);break;case 22:if(h=n!==null&&n.memoizedState!==null,e.mode&1?(ze=(m=ze)||h,at(t,e),ze=m):at(t,e),xt(e),r&8192){if(m=e.memoizedState!==null,(e.stateNode.isHidden=m)&&!h&&e.mode&1)for(D=e,h=e.child;h!==null;){for(f=D=h;D!==null;){switch(g=D,y=g.child,g.tag){case 0:case 11:case 14:case 15:Nn(4,g,g.return);break;case 1:Ms(g,g.return);var N=g.stateNode;if(typeof N.componentWillUnmount=="function"){r=g,n=g.return;try{t=r,N.props=t.memoizedProps,N.state=t.memoizedState,N.componentWillUnmount()}catch(v){ce(r,n,v)}}break;case 5:Ms(g,g.return);break;case 22:if(g.memoizedState!==null){sc(f);continue}}y!==null?(y.return=g,D=y):sc(f)}h=h.sibling}e:for(h=null,f=e;;){if(f.tag===5){if(h===null){h=f;try{l=f.stateNode,m?(a=l.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=f.stateNode,c=f.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=$c("display",i))}catch(v){ce(e,e.return,v)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=m?"":f.memoizedProps}catch(v){ce(e,e.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:at(t,e),xt(e),r&4&&ec(e);break;case 21:break;default:at(t,e),xt(e)}}function xt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(uu(n)){var r=n;break e}n=n.return}throw Error(M(160))}switch(r.tag){case 5:var l=r.stateNode;r.flags&32&&(Pn(l,""),r.flags&=-33);var a=Zo(e);Fa(e,a,l);break;case 3:case 4:var i=r.stateNode.containerInfo,o=Zo(e);Ua(e,o,i);break;default:throw Error(M(161))}}catch(c){ce(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function gm(e,t,n){D=e,xu(e)}function xu(e,t,n){for(var r=(e.mode&1)!==0;D!==null;){var l=D,a=l.child;if(l.tag===22&&r){var i=l.memoizedState!==null||pr;if(!i){var o=l.alternate,c=o!==null&&o.memoizedState!==null||ze;o=pr;var m=ze;if(pr=i,(ze=c)&&!m)for(D=l;D!==null;)i=D,c=i.child,i.tag===22&&i.memoizedState!==null?nc(l):c!==null?(c.return=i,D=c):nc(l);for(;a!==null;)D=a,xu(a),a=a.sibling;D=l,pr=o,ze=m}tc(e)}else l.subtreeFlags&8772&&a!==null?(a.return=l,D=a):tc(e)}}function tc(e){for(;D!==null;){var t=D;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ze||fl(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!ze)if(n===null)r.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:it(t.type,n.memoizedProps);r.componentDidUpdate(l,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&$o(t,a,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}$o(t,i,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var m=t.alternate;if(m!==null){var h=m.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&Tn(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(M(163))}ze||t.flags&512&&$a(t)}catch(g){ce(t,t.return,g)}}if(t===e){D=null;break}if(n=t.sibling,n!==null){n.return=t.return,D=n;break}D=t.return}}function sc(e){for(;D!==null;){var t=D;if(t===e){D=null;break}var n=t.sibling;if(n!==null){n.return=t.return,D=n;break}D=t.return}}function nc(e){for(;D!==null;){var t=D;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{fl(4,t)}catch(c){ce(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var l=t.return;try{r.componentDidMount()}catch(c){ce(t,l,c)}}var a=t.return;try{$a(t)}catch(c){ce(t,a,c)}break;case 5:var i=t.return;try{$a(t)}catch(c){ce(t,i,c)}}}catch(c){ce(t,t.return,c)}if(t===e){D=null;break}var o=t.sibling;if(o!==null){o.return=t.return,D=o;break}D=t.return}}var vm=Math.ceil,Kr=zt.ReactCurrentDispatcher,Ii=zt.ReactCurrentOwner,st=zt.ReactCurrentBatchConfig,K=0,Ne=null,pe=null,Ce=0,He=0,Ls=Xt(0),ye=0,Bn=null,us=0,ml=0,Ti=0,wn=null,Re=null,Mi=0,Gs=1/0,yt=null,Xr=!1,Va=null,Wt=null,hr=!1,$t=null,Zr=0,kn=0,Ba=null,Pr=-1,_r=0;function Le(){return K&6?fe():Pr!==-1?Pr:Pr=fe()}function Qt(e){return e.mode&1?K&2&&Ce!==0?Ce&-Ce:tm.transition!==null?(_r===0&&(_r=Xc()),_r):(e=Z,e!==0||(e=window.event,e=e===void 0?16:ld(e.type)),e):1}function ut(e,t,n,r){if(50<kn)throw kn=0,Ba=null,Error(M(185));Gn(e,n,r),(!(K&2)||e!==Ne)&&(e===Ne&&(!(K&2)&&(ml|=n),ye===4&&Rt(e,Ce)),Fe(e,r),n===1&&K===0&&!(t.mode&1)&&(Gs=fe()+500,cl&&Zt()))}function Fe(e,t){var n=e.callbackNode;ef(e,t);var r=Or(e,e===Ne?Ce:0);if(r===0)n!==null&&fo(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&fo(n),t===1)e.tag===0?em(rc.bind(null,e)):kd(rc.bind(null,e)),Jf(function(){!(K&6)&&Zt()}),n=null;else{switch(Zc(r)){case 1:n=li;break;case 4:n=Jc;break;case 16:n=Ar;break;case 536870912:n=Kc;break;default:n=Ar}n=Nu(n,pu.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function pu(e,t){if(Pr=-1,_r=0,K&6)throw Error(M(327));var n=e.callbackNode;if(Fs()&&e.callbackNode!==n)return null;var r=Or(e,e===Ne?Ce:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=el(e,r);else{t=r;var l=K;K|=2;var a=gu();(Ne!==e||Ce!==t)&&(yt=null,Gs=fe()+500,ls(e,t));do try{jm();break}catch(o){hu(e,o)}while(!0);vi(),Kr.current=a,K=l,pe!==null?t=0:(Ne=null,Ce=0,t=ye)}if(t!==0){if(t===2&&(l=ha(e),l!==0&&(r=l,t=qa(e,l))),t===1)throw n=Bn,ls(e,0),Rt(e,r),Fe(e,fe()),n;if(t===6)Rt(e,r);else{if(l=e.current.alternate,!(r&30)&&!ym(l)&&(t=el(e,r),t===2&&(a=ha(e),a!==0&&(r=a,t=qa(e,a))),t===1))throw n=Bn,ls(e,0),Rt(e,r),Fe(e,fe()),n;switch(e.finishedWork=l,e.finishedLanes=r,t){case 0:case 1:throw Error(M(345));case 2:ts(e,Re,yt);break;case 3:if(Rt(e,r),(r&130023424)===r&&(t=Mi+500-fe(),10<t)){if(Or(e,0)!==0)break;if(l=e.suspendedLanes,(l&r)!==r){Le(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=ka(ts.bind(null,e,Re,yt),t);break}ts(e,Re,yt);break;case 4:if(Rt(e,r),(r&4194240)===r)break;for(t=e.eventTimes,l=-1;0<r;){var i=31-dt(r);a=1<<i,i=t[i],i>l&&(l=i),r&=~a}if(r=l,r=fe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*vm(r/1960))-r,10<r){e.timeoutHandle=ka(ts.bind(null,e,Re,yt),r);break}ts(e,Re,yt);break;case 5:ts(e,Re,yt);break;default:throw Error(M(329))}}}return Fe(e,fe()),e.callbackNode===n?pu.bind(null,e):null}function qa(e,t){var n=wn;return e.current.memoizedState.isDehydrated&&(ls(e,t).flags|=256),e=el(e,t),e!==2&&(t=Re,Re=n,t!==null&&Ha(t)),e}function Ha(e){Re===null?Re=e:Re.push.apply(Re,e)}function ym(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var l=n[r],a=l.getSnapshot;l=l.value;try{if(!ft(a(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Rt(e,t){for(t&=~Ti,t&=~ml,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-dt(t),r=1<<n;e[n]=-1,t&=~r}}function rc(e){if(K&6)throw Error(M(327));Fs();var t=Or(e,0);if(!(t&1))return Fe(e,fe()),null;var n=el(e,t);if(e.tag!==0&&n===2){var r=ha(e);r!==0&&(t=r,n=qa(e,r))}if(n===1)throw n=Bn,ls(e,0),Rt(e,t),Fe(e,fe()),n;if(n===6)throw Error(M(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ts(e,Re,yt),Fe(e,fe()),null}function Li(e,t){var n=K;K|=1;try{return e(t)}finally{K=n,K===0&&(Gs=fe()+500,cl&&Zt())}}function fs(e){$t!==null&&$t.tag===0&&!(K&6)&&Fs();var t=K;K|=1;var n=st.transition,r=Z;try{if(st.transition=null,Z=1,e)return e()}finally{Z=r,st.transition=n,K=t,!(K&6)&&Zt()}}function Ai(){He=Ls.current,se(Ls)}function ls(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Yf(n)),pe!==null)for(n=pe.return;n!==null;){var r=n;switch(pi(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Fr();break;case 3:Ws(),se($e),se(Ie),ki();break;case 5:wi(r);break;case 4:Ws();break;case 13:se(le);break;case 19:se(le);break;case 10:yi(r.type._context);break;case 22:case 23:Ai()}n=n.return}if(Ne=e,pe=e=Gt(e.current,null),Ce=He=t,ye=0,Bn=null,Ti=ml=us=0,Re=wn=null,ns!==null){for(t=0;t<ns.length;t++)if(n=ns[t],r=n.interleaved,r!==null){n.interleaved=null;var l=r.next,a=n.pending;if(a!==null){var i=a.next;a.next=l,r.next=i}n.pending=r}ns=null}return e}function hu(e,t){do{var n=pe;try{if(vi(),Sr.current=Jr,Yr){for(var r=ae.memoizedState;r!==null;){var l=r.queue;l!==null&&(l.pending=null),r=r.next}Yr=!1}if(ds=0,je=ve=ae=null,jn=!1,Un=0,Ii.current=null,n===null||n.return===null){ye=1,Bn=t,pe=null;break}e:{var a=e,i=n.return,o=n,c=t;if(t=Ce,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var m=c,h=o,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var g=h.alternate;g?(h.updateQueue=g.updateQueue,h.memoizedState=g.memoizedState,h.lanes=g.lanes):(h.updateQueue=null,h.memoizedState=null)}var y=Ho(i);if(y!==null){y.flags&=-257,Wo(y,i,o,a,t),y.mode&1&&qo(a,m,t),t=y,c=m;var N=t.updateQueue;if(N===null){var v=new Set;v.add(c),t.updateQueue=v}else N.add(c);break e}else{if(!(t&1)){qo(a,m,t),Oi();break e}c=Error(M(426))}}else if(ne&&o.mode&1){var C=Ho(i);if(C!==null){!(C.flags&65536)&&(C.flags|=256),Wo(C,i,o,a,t),hi(Qs(c,o));break e}}a=c=Qs(c,o),ye!==4&&(ye=2),wn===null?wn=[a]:wn.push(a),a=i;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var u=Zd(a,c,t);Do(a,u);break e;case 1:o=c;var d=a.type,x=a.stateNode;if(!(a.flags&128)&&(typeof d.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Wt===null||!Wt.has(x)))){a.flags|=65536,t&=-t,a.lanes|=t;var j=eu(a,o,t);Do(a,j);break e}}a=a.return}while(a!==null)}yu(n)}catch(S){t=S,pe===n&&n!==null&&(pe=n=n.return);continue}break}while(!0)}function gu(){var e=Kr.current;return Kr.current=Jr,e===null?Jr:e}function Oi(){(ye===0||ye===3||ye===2)&&(ye=4),Ne===null||!(us&268435455)&&!(ml&268435455)||Rt(Ne,Ce)}function el(e,t){var n=K;K|=2;var r=gu();(Ne!==e||Ce!==t)&&(yt=null,ls(e,t));do try{bm();break}catch(l){hu(e,l)}while(!0);if(vi(),K=n,Kr.current=r,pe!==null)throw Error(M(261));return Ne=null,Ce=0,ye}function bm(){for(;pe!==null;)vu(pe)}function jm(){for(;pe!==null&&!H0();)vu(pe)}function vu(e){var t=ju(e.alternate,e,He);e.memoizedProps=e.pendingProps,t===null?yu(e):pe=t,Ii.current=null}function yu(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=xm(n,t),n!==null){n.flags&=32767,pe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ye=6,pe=null;return}}else if(n=mm(n,t,He),n!==null){pe=n;return}if(t=t.sibling,t!==null){pe=t;return}pe=t=e}while(t!==null);ye===0&&(ye=5)}function ts(e,t,n){var r=Z,l=st.transition;try{st.transition=null,Z=1,Nm(e,t,n,r)}finally{st.transition=l,Z=r}return null}function Nm(e,t,n,r){do Fs();while($t!==null);if(K&6)throw Error(M(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(M(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(tf(e,a),e===Ne&&(pe=Ne=null,Ce=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||hr||(hr=!0,Nu(Ar,function(){return Fs(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=st.transition,st.transition=null;var i=Z;Z=1;var o=K;K|=4,Ii.current=null,hm(e,n),mu(n,e),Vf(Na),Rr=!!ja,Na=ja=null,e.current=n,gm(n),W0(),K=o,Z=i,st.transition=a}else e.current=n;if(hr&&(hr=!1,$t=e,Zr=l),a=e.pendingLanes,a===0&&(Wt=null),Y0(n.stateNode),Fe(e,fe()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],r(l.value,{componentStack:l.stack,digest:l.digest});if(Xr)throw Xr=!1,e=Va,Va=null,e;return Zr&1&&e.tag!==0&&Fs(),a=e.pendingLanes,a&1?e===Ba?kn++:(kn=0,Ba=e):kn=0,Zt(),null}function Fs(){if($t!==null){var e=Zc(Zr),t=st.transition,n=Z;try{if(st.transition=null,Z=16>e?16:e,$t===null)var r=!1;else{if(e=$t,$t=null,Zr=0,K&6)throw Error(M(331));var l=K;for(K|=4,D=e.current;D!==null;){var a=D,i=a.child;if(D.flags&16){var o=a.deletions;if(o!==null){for(var c=0;c<o.length;c++){var m=o[c];for(D=m;D!==null;){var h=D;switch(h.tag){case 0:case 11:case 15:Nn(8,h,a)}var f=h.child;if(f!==null)f.return=h,D=f;else for(;D!==null;){h=D;var g=h.sibling,y=h.return;if(du(h),h===m){D=null;break}if(g!==null){g.return=y,D=g;break}D=y}}}var N=a.alternate;if(N!==null){var v=N.child;if(v!==null){N.child=null;do{var C=v.sibling;v.sibling=null,v=C}while(v!==null)}}D=a}}if(a.subtreeFlags&2064&&i!==null)i.return=a,D=i;else e:for(;D!==null;){if(a=D,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Nn(9,a,a.return)}var u=a.sibling;if(u!==null){u.return=a.return,D=u;break e}D=a.return}}var d=e.current;for(D=d;D!==null;){i=D;var x=i.child;if(i.subtreeFlags&2064&&x!==null)x.return=i,D=x;else e:for(i=d;D!==null;){if(o=D,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:fl(9,o)}}catch(S){ce(o,o.return,S)}if(o===i){D=null;break e}var j=o.sibling;if(j!==null){j.return=o.return,D=j;break e}D=o.return}}if(K=l,Zt(),gt&&typeof gt.onPostCommitFiberRoot=="function")try{gt.onPostCommitFiberRoot(rl,e)}catch{}r=!0}return r}finally{Z=n,st.transition=t}}return!1}function lc(e,t,n){t=Qs(n,t),t=Zd(e,t,1),e=Ht(e,t,1),t=Le(),e!==null&&(Gn(e,1,t),Fe(e,t))}function ce(e,t,n){if(e.tag===3)lc(e,e,n);else for(;t!==null;){if(t.tag===3){lc(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Wt===null||!Wt.has(r))){e=Qs(n,e),e=eu(t,e,1),t=Ht(t,e,1),e=Le(),t!==null&&(Gn(t,1,e),Fe(t,e));break}}t=t.return}}function wm(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Le(),e.pingedLanes|=e.suspendedLanes&n,Ne===e&&(Ce&n)===n&&(ye===4||ye===3&&(Ce&130023424)===Ce&&500>fe()-Mi?ls(e,0):Ti|=n),Fe(e,t)}function bu(e,t){t===0&&(e.mode&1?(t=ar,ar<<=1,!(ar&130023424)&&(ar=4194304)):t=1);var n=Le();e=Pt(e,t),e!==null&&(Gn(e,t,n),Fe(e,n))}function km(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),bu(e,n)}function Sm(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(M(314))}r!==null&&r.delete(t),bu(e,n)}var ju;ju=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||$e.current)De=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return De=!1,fm(e,t,n);De=!!(e.flags&131072)}else De=!1,ne&&t.flags&1048576&&Sd(t,qr,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Er(e,t),e=t.pendingProps;var l=Bs(t,Ie.current);Us(t,n),l=Ci(null,t,r,e,l,n);var a=Ei();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ue(r)?(a=!0,Vr(t)):a=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,ji(t),l.updater=ul,t.stateNode=l,l._reactInternals=t,Ia(t,r,e,n),t=La(null,t,r,!0,a,n)):(t.tag=0,ne&&a&&xi(t),Me(null,t,l,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Er(e,t),e=t.pendingProps,l=r._init,r=l(r._payload),t.type=r,l=t.tag=Em(r),e=it(r,e),l){case 0:t=Ma(null,t,r,e,n);break e;case 1:t=Yo(null,t,r,e,n);break e;case 11:t=Qo(null,t,r,e,n);break e;case 14:t=Go(null,t,r,it(r.type,e),n);break e}throw Error(M(306,r,""))}return t;case 0:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:it(r,l),Ma(e,t,r,l,n);case 1:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:it(r,l),Yo(e,t,r,l,n);case 3:e:{if(ru(t),e===null)throw Error(M(387));r=t.pendingProps,a=t.memoizedState,l=a.element,Id(e,t),Qr(t,r,null,n);var i=t.memoizedState;if(r=i.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){l=Qs(Error(M(423)),t),t=Jo(e,t,r,n,l);break e}else if(r!==l){l=Qs(Error(M(424)),t),t=Jo(e,t,r,n,l);break e}else for(We=qt(t.stateNode.containerInfo.firstChild),Qe=t,ne=!0,ct=null,n=_d(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(qs(),r===l){t=_t(e,t,n);break e}Me(e,t,r,n)}t=t.child}return t;case 5:return Td(t),e===null&&Pa(t),r=t.type,l=t.pendingProps,a=e!==null?e.memoizedProps:null,i=l.children,wa(r,l)?i=null:a!==null&&wa(r,a)&&(t.flags|=32),nu(e,t),Me(e,t,i,n),t.child;case 6:return e===null&&Pa(t),null;case 13:return lu(e,t,n);case 4:return Ni(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Hs(t,null,r,n):Me(e,t,r,n),t.child;case 11:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:it(r,l),Qo(e,t,r,l,n);case 7:return Me(e,t,t.pendingProps,n),t.child;case 8:return Me(e,t,t.pendingProps.children,n),t.child;case 12:return Me(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,l=t.pendingProps,a=t.memoizedProps,i=l.value,ee(Hr,r._currentValue),r._currentValue=i,a!==null)if(ft(a.value,i)){if(a.children===l.children&&!$e.current){t=_t(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var o=a.dependencies;if(o!==null){i=a.child;for(var c=o.firstContext;c!==null;){if(c.context===r){if(a.tag===1){c=kt(-1,n&-n),c.tag=2;var m=a.updateQueue;if(m!==null){m=m.shared;var h=m.pending;h===null?c.next=c:(c.next=h.next,h.next=c),m.pending=c}}a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),_a(a.return,n,t),o.lanes|=n;break}c=c.next}}else if(a.tag===10)i=a.type===t.type?null:a.child;else if(a.tag===18){if(i=a.return,i===null)throw Error(M(341));i.lanes|=n,o=i.alternate,o!==null&&(o.lanes|=n),_a(i,n,t),i=a.sibling}else i=a.child;if(i!==null)i.return=a;else for(i=a;i!==null;){if(i===t){i=null;break}if(a=i.sibling,a!==null){a.return=i.return,i=a;break}i=i.return}a=i}Me(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,r=t.pendingProps.children,Us(t,n),l=nt(l),r=r(l),t.flags|=1,Me(e,t,r,n),t.child;case 14:return r=t.type,l=it(r,t.pendingProps),l=it(r.type,l),Go(e,t,r,l,n);case 15:return tu(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:it(r,l),Er(e,t),t.tag=1,Ue(r)?(e=!0,Vr(t)):e=!1,Us(t,n),Xd(t,r,l),Ia(t,r,l,n),La(null,t,r,!0,e,n);case 19:return au(e,t,n);case 22:return su(e,t,n)}throw Error(M(156,t.tag))};function Nu(e,t){return Yc(e,t)}function Cm(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tt(e,t,n,r){return new Cm(e,t,n,r)}function Ri(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Em(e){if(typeof e=="function")return Ri(e)?1:0;if(e!=null){if(e=e.$$typeof,e===si)return 11;if(e===ni)return 14}return 2}function Gt(e,t){var n=e.alternate;return n===null?(n=tt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function zr(e,t,n,r,l,a){var i=2;if(r=e,typeof e=="function")Ri(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case ks:return as(n.children,l,a,t);case ti:i=8,l|=8;break;case ta:return e=tt(12,n,t,l|2),e.elementType=ta,e.lanes=a,e;case sa:return e=tt(13,n,t,l),e.elementType=sa,e.lanes=a,e;case na:return e=tt(19,n,t,l),e.elementType=na,e.lanes=a,e;case Tc:return xl(n,l,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case zc:i=10;break e;case Ic:i=9;break e;case si:i=11;break e;case ni:i=14;break e;case Lt:i=16,r=null;break e}throw Error(M(130,e==null?e:typeof e,""))}return t=tt(i,n,t,l),t.elementType=e,t.type=r,t.lanes=a,t}function as(e,t,n,r){return e=tt(7,e,r,t),e.lanes=n,e}function xl(e,t,n,r){return e=tt(22,e,r,t),e.elementType=Tc,e.lanes=n,e.stateNode={isHidden:!1},e}function Ql(e,t,n){return e=tt(6,e,null,t),e.lanes=n,e}function Gl(e,t,n){return t=tt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Pm(e,t,n,r,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Pl(0),this.expirationTimes=Pl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pl(0),this.identifierPrefix=r,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function Di(e,t,n,r,l,a,i,o,c){return e=new Pm(e,t,n,o,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=tt(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ji(a),e}function _m(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ws,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function wu(e){if(!e)return Jt;e=e._reactInternals;e:{if(hs(e)!==e||e.tag!==1)throw Error(M(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ue(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(M(171))}if(e.tag===1){var n=e.type;if(Ue(n))return wd(e,n,t)}return t}function ku(e,t,n,r,l,a,i,o,c){return e=Di(n,r,!0,e,l,a,i,o,c),e.context=wu(null),n=e.current,r=Le(),l=Qt(n),a=kt(r,l),a.callback=t??null,Ht(n,a,l),e.current.lanes=l,Gn(e,l,r),Fe(e,r),e}function pl(e,t,n,r){var l=t.current,a=Le(),i=Qt(l);return n=wu(n),t.context===null?t.context=n:t.pendingContext=n,t=kt(a,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Ht(l,t,i),e!==null&&(ut(e,l,i,a),kr(e,l,i)),i}function tl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ac(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function $i(e,t){ac(e,t),(e=e.alternate)&&ac(e,t)}function zm(){return null}var Su=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ui(e){this._internalRoot=e}hl.prototype.render=Ui.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(M(409));pl(e,t,null,null)};hl.prototype.unmount=Ui.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;fs(function(){pl(null,e,null,null)}),t[Et]=null}};function hl(e){this._internalRoot=e}hl.prototype.unstable_scheduleHydration=function(e){if(e){var t=sd();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&t!==0&&t<Ot[n].priority;n++);Ot.splice(n,0,e),n===0&&rd(e)}};function Fi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function gl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ic(){}function Im(e,t,n,r,l){if(l){if(typeof r=="function"){var a=r;r=function(){var m=tl(i);a.call(m)}}var i=ku(t,r,e,0,null,!1,!1,"",ic);return e._reactRootContainer=i,e[Et]=i.current,An(e.nodeType===8?e.parentNode:e),fs(),i}for(;l=e.lastChild;)e.removeChild(l);if(typeof r=="function"){var o=r;r=function(){var m=tl(c);o.call(m)}}var c=Di(e,0,!1,null,null,!1,!1,"",ic);return e._reactRootContainer=c,e[Et]=c.current,An(e.nodeType===8?e.parentNode:e),fs(function(){pl(t,c,n,r)}),c}function vl(e,t,n,r,l){var a=n._reactRootContainer;if(a){var i=a;if(typeof l=="function"){var o=l;l=function(){var c=tl(i);o.call(c)}}pl(t,i,e,l)}else i=Im(n,t,e,l,r);return tl(i)}ed=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=xn(t.pendingLanes);n!==0&&(ai(t,n|1),Fe(t,fe()),!(K&6)&&(Gs=fe()+500,Zt()))}break;case 13:fs(function(){var r=Pt(e,1);if(r!==null){var l=Le();ut(r,e,1,l)}}),$i(e,1)}};ii=function(e){if(e.tag===13){var t=Pt(e,134217728);if(t!==null){var n=Le();ut(t,e,134217728,n)}$i(e,134217728)}};td=function(e){if(e.tag===13){var t=Qt(e),n=Pt(e,t);if(n!==null){var r=Le();ut(n,e,t,r)}$i(e,t)}};sd=function(){return Z};nd=function(e,t){var n=Z;try{return Z=e,t()}finally{Z=n}};ma=function(e,t,n){switch(t){case"input":if(aa(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var l=ol(r);if(!l)throw Error(M(90));Lc(r),aa(r,l)}}}break;case"textarea":Oc(e,n);break;case"select":t=n.value,t!=null&&Os(e,!!n.multiple,t,!1)}};Bc=Li;qc=fs;var Tm={usingClientEntryPoint:!1,Events:[Jn,Ps,ol,Fc,Vc,Li]},dn={findFiberByHostInstance:ss,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Mm={bundleType:dn.bundleType,version:dn.version,rendererPackageName:dn.rendererPackageName,rendererConfig:dn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:zt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Qc(e),e===null?null:e.stateNode},findFiberByHostInstance:dn.findFiberByHostInstance||zm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gr.isDisabled&&gr.supportsFiber)try{rl=gr.inject(Mm),gt=gr}catch{}}Ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Tm;Ye.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Fi(t))throw Error(M(200));return _m(e,t,null,n)};Ye.createRoot=function(e,t){if(!Fi(e))throw Error(M(299));var n=!1,r="",l=Su;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=Di(e,1,!1,null,null,n,!1,r,l),e[Et]=t.current,An(e.nodeType===8?e.parentNode:e),new Ui(t)};Ye.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(M(188)):(e=Object.keys(e).join(","),Error(M(268,e)));return e=Qc(t),e=e===null?null:e.stateNode,e};Ye.flushSync=function(e){return fs(e)};Ye.hydrate=function(e,t,n){if(!gl(t))throw Error(M(200));return vl(null,e,t,!0,n)};Ye.hydrateRoot=function(e,t,n){if(!Fi(e))throw Error(M(405));var r=n!=null&&n.hydratedSources||null,l=!1,a="",i=Su;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=ku(t,null,e,1,n??null,l,!1,a,i),e[Et]=t.current,An(e),r)for(e=0;e<r.length;e++)n=r[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new hl(t)};Ye.render=function(e,t,n){if(!gl(t))throw Error(M(200));return vl(null,e,t,!1,n)};Ye.unmountComponentAtNode=function(e){if(!gl(e))throw Error(M(40));return e._reactRootContainer?(fs(function(){vl(null,null,e,!1,function(){e._reactRootContainer=null,e[Et]=null})}),!0):!1};Ye.unstable_batchedUpdates=Li;Ye.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!gl(n))throw Error(M(200));if(e==null||e._reactInternals===void 0)throw Error(M(38));return vl(e,t,n,!1,r)};Ye.version="18.3.1-next-f1338f8080-20240426";function Cu(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Cu)}catch(e){console.error(e)}}Cu(),Cc.exports=Ye;var Lm=Cc.exports,oc=Lm;Zl.createRoot=oc.createRoot,Zl.hydrateRoot=oc.hydrateRoot;const Am="modulepreload",Om=function(e,t){return new URL(e,t).href},cc={},Rm=function(t,n,r){let l=Promise.resolve();if(n&&n.length>0){const i=document.getElementsByTagName("link"),o=document.querySelector("meta[property=csp-nonce]"),c=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));l=Promise.allSettled(n.map(m=>{if(m=Om(m,r),m in cc)return;cc[m]=!0;const h=m.endsWith(".css"),f=h?'[rel="stylesheet"]':"";if(!!r)for(let N=i.length-1;N>=0;N--){const v=i[N];if(v.href===m&&(!h||v.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${m}"]${f}`))return;const y=document.createElement("link");if(y.rel=h?"stylesheet":Am,h||(y.as="script"),y.crossOrigin="",y.href=m,c&&y.setAttribute("nonce",c),document.head.appendChild(y),h)return new Promise((N,v)=>{y.addEventListener("load",N),y.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${m}`)))})}))}function a(i){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i}return l.then(i=>{for(const o of i||[])o.status==="rejected"&&a(o.reason);return t().catch(a)})};class Dm{constructor(){ys(this,"baseUrl","api/index.php");ys(this,"demoMode",!1);ys(this,"dbName","sp_offline_db");ys(this,"dbVersion",1);ys(this,"idb",null);localStorage.getItem("sp_demo_mode")==="true"&&(this.demoMode=!0),this.initIDB()}initIDB(){return new Promise((t,n)=>{const r=indexedDB.open(this.dbName,this.dbVersion);r.onerror=()=>console.error("IDB Error"),r.onupgradeneeded=l=>{const a=l.target.result;a.objectStoreNames.contains("videos")||a.createObjectStore("videos",{keyPath:"id"}),a.objectStoreNames.contains("history")||a.createObjectStore("history",{keyPath:"id"}),a.objectStoreNames.contains("downloads")||a.createObjectStore("downloads",{keyPath:"id"})},r.onsuccess=l=>{this.idb=l.target.result,t()}})}enableDemoMode(){this.demoMode=!0,localStorage.setItem("sp_demo_mode","true")}async request(t,n){const r=localStorage.getItem("sp_session_token"),l=(n==null?void 0:n.headers)||{};r&&(l.Authorization=`Bearer ${r}`);try{const a=await fetch(`${this.baseUrl}?${t}`,{...n,headers:{...l}});if(!a.ok)throw new Error(`Network response was not ok: ${a.statusText}`);const i=await a.text();try{const o=JSON.parse(i);if(o.success===!1)throw new Error(o.error||o.message||"API Error");return o.data}catch(o){throw new Error(o.message||"Invalid JSON response")}}catch(a){if(!n||n.method==="GET"||!n.method){if(t.includes("action=get_videos"))return this.getOfflineVideos();if(t.includes("action=get_video")){const i=t.match(/id=([^&]+)/);if(i&&i[1]){const o=await this.getOfflineVideo(i[1]);if(o)return o}}}throw a}}async putIDB(t,n){this.idb||await this.initIDB(),this.idb.transaction(t,"readwrite").objectStore(t).put(n)}async getIDB(t,n){return this.idb||await this.initIDB(),new Promise(r=>{const a=this.idb.transaction(t,"readonly").objectStore(t).get(n);a.onsuccess=()=>r(a.result),a.onerror=()=>r(null)})}async getAllIDB(t){return this.idb||await this.initIDB(),new Promise(n=>{const l=this.idb.transaction(t,"readonly").objectStore(t).getAll();l.onsuccess=()=>n(l.result||[]),l.onerror=()=>n([])})}async getOfflineVideos(){return this.getAllIDB("videos")}async getOfflineVideo(t){return this.getIDB("videos",t)}async getAllVideos(){var n;const t=await this.request("action=get_videos");if(t&&t.length>0){const r=(n=this.idb)==null?void 0:n.transaction("videos","readwrite");if(r){const l=r.objectStore("videos");t.forEach(a=>l.put(a))}}return t}async getVideo(t){const n=await this.request(`action=get_video&id=${t}`);return n&&this.putIDB("videos",n),n}async downloadVideoForOffline(t){if(!("serviceWorker"in navigator))throw new Error("Service Worker not supported");const n=await navigator.serviceWorker.ready;if(!n.backgroundFetch)throw new Error("Background Fetch not supported");let r=t.videoUrl;(!!t.isLocal||t.isLocal===1||t.isLocal==="1")&&!r.includes("action=stream")&&(r=`api/index.php?action=stream&id=${t.id}`);try{const a=`dl-${t.id}-${Date.now()}`,i=await n.backgroundFetch.fetch(a,[r],{title:`Descargando: ${t.title}`,icons:[{src:t.thumbnailUrl||"/pwa-192x192.png",sizes:"192x192",type:"image/png"}],downloadTotal:0});await this.putIDB("downloads",{id:t.id,status:"downloading",fetchId:a}),i.addEventListener("progress",o=>{})}catch(a){throw console.error("BG Fetch Error",a),new Error("No se pudo iniciar la descarga.")}}async checkDownloadStatus(t){if("caches"in window){const n=await caches.open("streampay-videos-v1"),r=await this.getOfflineVideo(t);if(!r)return!1;let l=r.videoUrl;return(r.isLocal||r.isLocal===1)&&!l.includes("action=stream")&&(l=`api/index.php?action=stream&id=${t}`),!!await n.match(l)}return!1}async getUnprocessedVideos(t=0,n="normal"){return this.request(`action=get_unprocessed_videos&limit=${t}&mode=${n}`)}async updateVideoMetadata(t,n,r){const l=new FormData;l.append("id",t),l.append("duration",n.toString()),r&&l.append("thumbnail",r);const a={},i=localStorage.getItem("sp_session_token");i&&(a.Authorization=`Bearer ${i}`);const o=await fetch(`${this.baseUrl}?action=update_video_metadata`,{method:"POST",body:l,headers:a});if(!o.ok)throw new Error("Metadata update failed");const c=await o.json();if(!c.success)throw new Error(c.message||"Metadata update failed")}async login(t,n){return this.request("action=login",{method:"POST",body:JSON.stringify({username:t,password:n})})}async register(t,n,r){const l=new FormData;l.append("username",t),l.append("password",n),r&&l.append("avatar",r);const i=await(await fetch(`${this.baseUrl}?action=register`,{method:"POST",body:l})).json();if(!i.success)throw new Error(i.message);return i.data}async logout(t){this.request(`action=logout&user_id=${t}`)}async getUser(t){return this.request(`action=get_user&id=${t}`)}saveOfflineUser(t){localStorage.setItem("sp_offline_user",JSON.stringify(t))}getOfflineUser(){const t=localStorage.getItem("sp_offline_user");return t?JSON.parse(t):null}async heartbeat(t,n){try{return await this.request("action=heartbeat",{method:"POST",body:JSON.stringify({userId:t,token:n})}),!0}catch{return!1}}async getUserActivity(t){return this.request(`action=get_user_activity&userId=${t}`)}async getSubscriptions(t){return this.request(`action=get_subscriptions&userId=${t}`)}async getRelatedVideos(t){return this.request(`action=get_related_videos&id=${t}`)}async getVideosByCreator(t){return this.request(`action=get_creator_videos&creatorId=${t}`)}async deleteVideo(t,n){return this.request("action=delete_video",{method:"POST",body:JSON.stringify({id:t,userId:n})})}async getComments(t){return this.request(`action=get_comments&videoId=${t}`)}async addComment(t,n,r){return this.request("action=add_comment",{method:"POST",body:JSON.stringify({userId:t,videoId:n,text:r})})}async getInteraction(t,n){return this.request(`action=get_interaction&userId=${t}&videoId=${n}`)}async rateVideo(t,n,r){return this.request("action=rate_video",{method:"POST",body:JSON.stringify({userId:t,videoId:n,rating:r})})}async markWatched(t,n){this.request("action=mark_watched",{method:"POST",body:JSON.stringify({userId:t,videoId:n})})}async checkSubscription(t,n){return(await this.request(`action=check_subscription&subscriberId=${t}&creatorId=${n}`)).isSubscribed}async toggleSubscribe(t,n){return this.request("action=toggle_subscribe",{method:"POST",body:JSON.stringify({subscriberId:t,creatorId:n})})}async hasPurchased(t,n){return(await this.request(`action=has_purchased&userId=${t}&videoId=${n}`)).hasPurchased}async purchaseVideo(t,n){return this.request("action=purchase_video",{method:"POST",body:JSON.stringify({userId:t,videoId:n})})}async getUserTransactions(t){return this.request(`action=get_transactions&userId=${t}`)}async requestVip(t,n,r){return this.request("action=request_vip",{method:"POST",body:JSON.stringify({userId:t,plan:n,paymentRef:r})})}async createPaymentLink(t,n){return(await this.request("action=create_payment_link",{method:"POST",body:JSON.stringify({userId:t,plan:n})})).paymentUrl}async verifyPayment(t,n){return this.request("action=verify_payment",{method:"POST",body:JSON.stringify({userId:t,reference:n})})}async uploadVideo(t,n,r,l,a,i,o,c,m){return new Promise((h,f)=>{const g=new FormData;g.append("title",t),g.append("description",n),g.append("price",r.toString()),g.append("category",l),g.append("duration",a.toString()),g.append("creatorId",i.id),g.append("video",o),c&&g.append("thumbnail",c);const y=new XMLHttpRequest;y.open("POST",`${this.baseUrl}?action=upload_video`);const N=localStorage.getItem("sp_session_token");N&&y.setRequestHeader("Authorization",`Bearer ${N}`),y.upload.onprogress=v=>{v.lengthComputable&&m(v.loaded/v.total*100,v.loaded,v.total)},y.onload=()=>{if(y.status>=200&&y.status<300)try{const v=JSON.parse(y.responseText);v.success?h():f(new Error(v.error||"Upload failed"))}catch{f(new Error("Invalid JSON from server"))}else f(new Error(y.statusText))},y.onerror=()=>f(new Error("Network Error")),y.send(g)})}async getSystemSettings(){return this.request("action=get_system_settings")}async updateSystemSettings(t){return this.request("action=update_system_settings",{method:"POST",body:JSON.stringify({settings:t})})}async getAllUsers(){return this.request("action=get_all_users")}async adminAddBalance(t,n,r){return this.request("action=admin_add_balance",{method:"POST",body:JSON.stringify({adminId:t,targetUserId:n,amount:r})})}async getNotifications(t){return this.request(`action=get_notifications&userId=${t}`)}async markNotificationRead(t){return this.request("action=mark_notification_read",{method:"POST",body:JSON.stringify({notifId:t})})}async searchExternal(t,n){return this.request("action=search_external",{method:"POST",body:JSON.stringify({query:t,source:n})})}async requestContent(t,n,r){return this.request("action=request_content",{method:"POST",body:JSON.stringify({userId:t,query:n,useLocalNetwork:r})})}async getRequests(t="ALL"){return this.request(`action=get_requests&status=${t}`)}async deleteRequest(t){return this.request("action=delete_request",{method:"POST",body:JSON.stringify({requestId:t})})}async updateRequestStatus(t,n){return this.request("action=admin_update_request_status",{method:"POST",body:JSON.stringify({id:t,status:n})})}invalidateCache(t){localStorage.removeItem("sp_cache_"+t)}setHomeDirty(){this.invalidateCache("get_videos")}async checkInstallation(){try{return{status:(await this.request("action=check")).installed?"installed":"not_installed"}}catch{return{status:"error"}}}needsSetup(){return!1}async scanLocalLibrary(t){return this.request("action=scan_local_library",{method:"POST",body:JSON.stringify({path:t})})}async processScanBatch(){return this.request("action=process_queue")}async smartOrganizeLibrary(){return this.request("action=smart_organize")}async rectifyLibraryTitles(t){return this.request("action=rectify_titles",{method:"POST",body:JSON.stringify({lastId:t})})}async updateUserProfile(t,n){return this.request("action=update_user",{method:"POST",body:JSON.stringify({userId:t,updates:n})})}async updatePricesBulk(t,n){return this.request("action=update_prices_bulk",{method:"POST",body:JSON.stringify({creatorId:t,newPrice:n})})}async uploadAvatar(t,n){const r=new FormData;r.append("userId",t),r.append("avatar",n),await fetch(`${this.baseUrl}?action=update_avatar`,{method:"POST",body:r})}async changePassword(t,n,r){return this.request("action=change_password",{method:"POST",body:JSON.stringify({userId:t,oldPass:n,newPass:r})})}async requestBalance(t,n){return this.request("action=request_balance",{method:"POST",body:JSON.stringify({userId:t,amount:n})})}async getBalanceRequests(){return this.request("action=admin_get_balance_requests")}async handleBalanceRequest(t,n,r){return this.request("action=admin_handle_balance_request",{method:"POST",body:JSON.stringify({adminId:t,requestId:n,action:r})})}async handleVipRequest(t,n,r){return this.request("action=admin_handle_vip_request",{method:"POST",body:JSON.stringify({adminId:t,requestId:n,action:r})})}async listFtpFiles(t){return this.request("action=ftp_list",{method:"POST",body:JSON.stringify({path:t})})}async importFtpFile(t){return this.request("action=ftp_import",{method:"POST",body:JSON.stringify({path:t})})}async scanFtpRecursive(t){return this.request("action=scan_ftp_recursive",{method:"POST",body:JSON.stringify({path:t})})}async getMarketplaceItems(){return this.request("action=get_marketplace_items")}async getMarketplaceItem(t){return this.request(`action=get_marketplace_item&id=${t}`)}async createListing(t){const n=localStorage.getItem("sp_session_token");await fetch(`${this.baseUrl}?action=create_listing`,{method:"POST",body:t,headers:n?{Authorization:`Bearer ${n}`}:{}})}async editListing(t,n,r){return this.request("action=edit_listing",{method:"POST",body:JSON.stringify({id:t,userId:n,data:r})})}async getReviews(t){return this.request(`action=get_reviews&itemId=${t}`)}async addReview(t,n,r,l){return this.request("action=add_review",{method:"POST",body:JSON.stringify({itemId:t,userId:n,rating:r,comment:l})})}async checkoutCart(t,n,r){return this.request("action=checkout_cart",{method:"POST",body:JSON.stringify({userId:t,cart:n,shippingDetails:r})})}async getSales(t){return this.request(`action=get_sales&userId=${t}`)}async updateOrderStatus(t,n,r){return this.request("action=update_order_status",{method:"POST",body:JSON.stringify({userId:t,transactionId:n,status:r})})}async adminGetMarketplaceItems(){return this.request("action=admin_get_marketplace_items")}async adminDeleteListing(t){return this.request("action=admin_delete_listing",{method:"POST",body:JSON.stringify({id:t})})}async adminCleanupSystemFiles(){return this.request("action=admin_cleanup_system_files")}async adminRepairDb(){return this.request("action=admin_repair_db")}async getSmartCleanerPreview(t,n,r){return this.request("action=admin_smart_cleaner_preview",{method:"POST",body:JSON.stringify({category:t,percentage:n,safeHarborDays:r})})}async executeSmartCleaner(t){return this.request("action=admin_smart_cleaner_execute",{method:"POST",body:JSON.stringify({videoIds:t})})}async getGlobalTransactions(){return this.request("action=admin_get_global_transactions")}async getRealStats(){return this.request("action=admin_get_real_stats")}async verifyDbConnection(t){try{return await this.request("action=verify_db",{method:"POST",body:JSON.stringify(t)}),!0}catch{return!1}}async initializeSystem(t,n){return this.request("action=install",{method:"POST",body:JSON.stringify({dbConfig:t,adminUser:n})})}async serverImportVideo(t){return this.request("action=server_import_video",{method:"POST",body:JSON.stringify({url:t})})}}const E=new Dm,Eu=p.createContext(null),we=()=>{const e=p.useContext(Eu);if(!e)throw new Error("useAuth must be used within AuthProvider");return e},$m=({children:e})=>{const[t,n]=p.useState(null),[r,l]=p.useState(!0),a=p.useRef(null);p.useEffect(()=>{const h=localStorage.getItem("sp_current_user_id"),f=localStorage.getItem("sp_session_token");(async()=>{if(h&&f)try{const y=await E.getUser(h);y?(y.sessionToken=f,y.balance=Number(y.balance),n(y),E.saveOfflineUser(y)):m()}catch(y){console.warn("Network auth check failed, trying offline backup:",y);const N=E.getOfflineUser();N&&N.id===h&&n(N)}finally{l(!1)}else l(!1)})()},[]),p.useEffect(()=>(t&&t.sessionToken?(E.saveOfflineUser(t),a.current&&window.clearInterval(a.current),E.heartbeat(t.id,t.sessionToken),a.current=window.setInterval(async()=>{if(t&&t.sessionToken)try{const h=await E.heartbeat(t.id,t.sessionToken)}catch{}},3e4)):a.current&&window.clearInterval(a.current),()=>{a.current&&window.clearInterval(a.current)}),[t]);const i=()=>{const h=localStorage.getItem("sp_session_token");t&&h&&E.getUser(t.id).then(f=>{if(f&&f.id===t.id){const g={...f,sessionToken:h,balance:Number(f.balance)};n(g),E.saveOfflineUser(g)}}).catch(f=>console.log("Refresh failed (offline)"))},o=async(h,f)=>{l(!0);try{const g=await E.login(h,f);g.balance=Number(g.balance),n(g),E.saveOfflineUser(g),localStorage.setItem("sp_current_user_id",g.id),g.sessionToken&&localStorage.setItem("sp_session_token",g.sessionToken)}finally{l(!1)}},c=async(h,f,g)=>{l(!0);try{const y=await E.register(h,f,g);y.balance=Number(y.balance),n(y),E.saveOfflineUser(y),localStorage.setItem("sp_current_user_id",y.id),y.sessionToken&&localStorage.setItem("sp_session_token",y.sessionToken)}finally{l(!1)}},m=()=>{if(t)try{E.logout(t.id).catch(console.error)}catch{}n(null),localStorage.removeItem("sp_current_user_id"),localStorage.removeItem("sp_session_token"),localStorage.removeItem("sp_offline_user"),a.current&&window.clearInterval(a.current),window.dispatchEvent(new Event("sp_logout"))};return s.jsx(Eu.Provider,{value:{user:t,login:o,register:c,logout:m,refreshUser:i,isLoading:r},children:e})},Pu=p.createContext({pathname:"/"}),_u=p.createContext(null);function Vi(){return p.useContext(Pu)}function mt(){return(e,t)=>{typeof e=="number"?window.history.go(e):window.location.hash=e}}function yl(){const{pathname:e}=Vi(),t=e.match(/\/watch\/([^/?&]+)/);if(t)return{id:t[1]};const n=e.match(/\/channel\/([^/?&]+)/);if(n)return{userId:n[1]};const r=e.match(/\/marketplace\/edit\/([^/?&]+)/);if(r)return{id:r[1]};const l=e.match(/\/marketplace\/([^/?&]+)/);return l&&!e.includes("/marketplace/create")&&!e.includes("/marketplace/edit")&&!e.endsWith("/marketplace")?{id:l[1]}:{}}const he=({to:e,children:t,className:n,...r})=>s.jsx("a",{href:`#${e}`,className:n,...r,children:t});function og(){return p.useContext(_u)}function bl({to:e}){return p.useEffect(()=>{window.location.hash=e},[e]),null}function Um({children:e}){const[t,n]=p.useState(window.location.hash.slice(1)||"/");return p.useEffect(()=>{const r=()=>{let l=window.location.hash.slice(1);l||(l="/"),n(l)};return window.addEventListener("hashchange",r),()=>window.removeEventListener("hashchange",r)},[]),s.jsx(Pu.Provider,{value:{pathname:t},children:e})}function Fm({children:e}){const{pathname:t}=Vi(),n=is.Children.toArray(e);for(const r of n){const{path:l,element:a,children:i}=r.props;if(!l&&i){const o=is.Children.toArray(i);for(const c of o){const m=c.props.path;let h=!1;if(m==="*")h=!0;else if(m===t)h=!0;else if(m&&m.includes(":")){const f=m.split(":")[0];t.startsWith(f)&&(h=!0)}if(h)return s.jsx(_u.Provider,{value:c.props.element,children:a})}}else{let o=!1;if(l==="*")o=!0;else if(l===t)o=!0;else if(l&&l.includes(":")){const c=l.split(":")[0];t.startsWith(c)&&(o=!0)}if(o)return a}}return null}function be(e){return null}/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vm=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Bm=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),dc=e=>{const t=Bm(e);return t.charAt(0).toUpperCase()+t.slice(1)},zu=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),qm=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Hm={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wm=p.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:l="",children:a,iconNode:i,...o},c)=>p.createElement("svg",{ref:c,...Hm,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:zu("lucide",l),...!a&&!qm(o)&&{"aria-hidden":"true"},...o},[...i.map(([m,h])=>p.createElement(m,h)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T=(e,t)=>{const n=p.forwardRef(({className:r,...l},a)=>p.createElement(Wm,{ref:a,iconNode:t,className:zu(`lucide-${Vm(dc(e))}`,`lucide-${e}`,r),...l}));return n.displayName=dc(e),n};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qm=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Gm=T("activity",Qm);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ym=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],Iu=T("archive",Ym);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jm=[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]],Km=T("arrow-down-left",Jm);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xm=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Bi=T("arrow-left",Xm);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zm=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],qi=T("arrow-right",Zm);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ex=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],tx=T("arrow-up-right",ex);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sx=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],nx=T("bell",sx);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rx=[["path",{d:"m11 10 3 3",key:"fzmg1i"}],["path",{d:"M6.5 21A3.5 3.5 0 1 0 3 17.5a2.62 2.62 0 0 1-.708 1.792A1 1 0 0 0 3 21z",key:"p4q2r7"}],["path",{d:"M9.969 17.031 21.378 5.624a1 1 0 0 0-3.002-3.002L6.967 14.031",key:"wy6l02"}]],lx=T("brush",rx);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ax=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],ix=T("calculator",ax);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ox=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Tu=T("camera",ox);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cx=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],St=T("check",cx);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dx=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ux=T("chevron-down",dx);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fx=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Hi=T("chevron-right",fx);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mx=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Mu=T("chevron-left",mx);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xx=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],px=T("chevron-up",xx);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],qn=T("circle-alert",hx);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gx=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],jl=T("circle-check-big",gx);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],uc=T("circle-check",vx);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yx=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],bx=T("circle-play",yx);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],Lu=T("circle-plus",jx);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],wx=T("circle-question-mark",Nx);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kx=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Xn=T("clock",kx);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sx=[["path",{d:"M12 13v8l-4-4",key:"1f5nwf"}],["path",{d:"m12 21 4-4",key:"1lfcce"}],["path",{d:"M4.393 15.269A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.436 8.284",key:"ui1hmy"}]],Zn=T("cloud-download",Sx);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cx=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Au=T("credit-card",Cx);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ex=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Hn=T("crown",Ex);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Px=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Ys=T("database",Px);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _x=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Wi=T("dollar-sign",_x);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zx=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],fc=T("download",zx);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ix=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],Tx=T("ellipsis-vertical",Ix);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mx=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Lx=T("external-link",Mx);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ax=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M15.033 13.44a.647.647 0 0 1 0 1.12l-4.065 2.352a.645.645 0 0 1-.968-.56v-4.704a.645.645 0 0 1 .967-.56z",key:"1tzo1f"}]],Ou=T("file-play",Ax);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ox=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]],Rx=T("file-plus",Ox);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dx=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],$x=T("file-text",Dx);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ux=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]],mc=T("film",Ux);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fx=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],Vx=T("flame",Fx);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bx=[["path",{d:"M10.7 20H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H20a2 2 0 0 1 2 2v4.1",key:"1bw5m7"}],["path",{d:"m21 21-1.9-1.9",key:"1g2n9r"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}]],qx=T("folder-search",Bx);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hx=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],Yl=T("folder",Hx);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wx=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Ru=T("funnel",Wx);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Gx=T("globe",Qx);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yx=[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]],Du=T("hard-drive",Yx);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jx=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],Qi=T("heart",Jx);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kx=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Xx=T("history",Kx);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zx=[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M10.41 10.41a2 2 0 1 1-2.83-2.83",key:"1bzlo9"}],["line",{x1:"13.5",x2:"6",y1:"13.5",y2:"21",key:"1q0aeu"}],["line",{x1:"18",x2:"21",y1:"12",y2:"15",key:"5mozeu"}],["path",{d:"M3.59 3.59A1.99 1.99 0 0 0 3 5v14a2 2 0 0 0 2 2h14c.55 0 1.052-.22 1.41-.59",key:"mmje98"}],["path",{d:"M21 15V5a2 2 0 0 0-2-2H9",key:"43el77"}]],ep=T("image-off",Zx);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tp=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],$u=T("image",tp);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sp=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],np=T("info",sp);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rp=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Gi=T("layers",rp);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lp=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],X=T("loader-circle",lp);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ap=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],ip=T("lock",ap);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const op=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Uu=T("map-pin",op);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cp=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],Fu=T("message-circle",cp);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dp=[["path",{d:"M5 12h14",key:"1ays0h"}]],up=T("minus",dp);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fp=[["path",{d:"M15.033 9.44a.647.647 0 0 1 0 1.12l-4.065 2.352a.645.645 0 0 1-.968-.56V7.648a.645.645 0 0 1 .967-.56z",key:"vbtd3f"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"M8 21h8",key:"1ev6f3"}],["rect",{x:"2",y:"3",width:"20",height:"14",rx:"2",key:"x3v2xh"}]],mp=T("monitor-play",fp);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xp=[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]],Wa=T("network",xp);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pp=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Sn=T("package",pp);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hp=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],gp=T("panels-top-left",hp);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vp=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Yi=T("pen-line",vp);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yp=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],Ji=T("percent",yp);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bp=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],jp=T("phone",bp);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Np=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Wn=T("plus",Np);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wp=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Ut=T("refresh-cw",wp);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kp=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Js=T("save",kp);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sp=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],ms=T("search",Sp);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cp=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Vu=T("send",Cp);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ep=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],sl=T("server",Ep);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pp=[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],_p=T("settings-2",Pp);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zp=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ki=T("settings",zp);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ip=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],Tp=T("share-2",Ip);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mp=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Bu=T("shield-check",Mp);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lp=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],qu=T("shield",Lp);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ap=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],Ks=T("shopping-bag",Ap);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Op=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Hu=T("shopping-cart",Op);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rp=[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]],Dp=T("shuffle",Rp);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $p=[["path",{d:"M10 5H3",key:"1qgfaw"}],["path",{d:"M12 19H3",key:"yhmn1j"}],["path",{d:"M14 3v4",key:"1sua03"}],["path",{d:"M16 17v4",key:"1q0r14"}],["path",{d:"M21 12h-9",key:"1o4lsq"}],["path",{d:"M21 19h-5",key:"1rlt1p"}],["path",{d:"M21 5h-7",key:"1oszz2"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M8 12H3",key:"a7s4jb"}]],Up=T("sliders-horizontal",$p);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fp=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],Vp=T("smartphone",Fp);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bp=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],qp=T("sparkles",Bp);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hp=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],As=T("star",Hp);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wp=[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]],Qp=T("store",Wp);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gp=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],Xs=T("tag",Gp);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yp=[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]],Jp=T("terminal",Yp);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kp=[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]],Wu=T("thumbs-down",Kp);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xp=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],gs=T("trash-2",Xp);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zp=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Cn=T("trending-up",Zp);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eh=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Qu=T("triangle-alert",eh);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const th=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],Ir=T("truck",th);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sh=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Qa=T("upload",sh);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nh=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],rh=T("user-check",nh);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lh=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],xs=T("user",lh);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ah=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],ih=T("users",ah);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oh=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],ch=T("volume-2",oh);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dh=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],uh=T("volume-x",dh);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fh=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],er=T("wallet",fh);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mh=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],Gu=T("wand-sparkles",mh);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xh=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Yu=T("wifi-off",xh);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ph=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],Ju=T("wrench",ph);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hh=[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]],gh=T("youtube",hh);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vh=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],lt=T("x",vh);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yh=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],xc=T("zap",yh);function bh(){const[e,t]=p.useState(!0),[n,r]=p.useState(""),[l,a]=p.useState(""),[i,o]=p.useState(null),[c,m]=p.useState(null),[h,f]=p.useState(""),{login:g,register:y}=we(),N=mt(),v=u=>{if(u.target.files&&u.target.files[0]){const d=u.target.files[0];o(d),m(URL.createObjectURL(d))}},C=async u=>{if(u.preventDefault(),f(""),!n.trim()||!l.trim()){f("Username and password are required");return}try{e?await g(n,l):await y(n,l,i),N("/")}catch(d){f(d.message||"An error occurred")}};return s.jsx("div",{className:"min-h-screen bg-slate-950 flex flex-col items-center justify-center px-4",children:s.jsxs("div",{className:"w-full max-w-md",children:[s.jsxs("div",{className:"text-center mb-10",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-gradient-to-tr from-indigo-500 to-purple-500 mb-4 shadow-xl shadow-indigo-500/20",children:s.jsx(gp,{size:32,className:"text-white"})}),s.jsx("h1",{className:"text-3xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-indigo-400 to-purple-400",children:"StreamPay"}),s.jsx("p",{className:"text-slate-400 mt-2",children:"The premier Pay-Per-View marketplace."})]}),s.jsxs("div",{className:"bg-slate-900 p-8 rounded-2xl border border-slate-800 shadow-2xl",children:[s.jsxs("div",{className:"flex gap-4 mb-6 p-1 bg-slate-950 rounded-lg",children:[s.jsx("button",{onClick:()=>{t(!0),f("")},className:`flex-1 py-2 text-sm font-medium rounded-md transition-colors ${e?"bg-indigo-600 text-white shadow-lg":"text-slate-400 hover:text-white"}`,children:"Login"}),s.jsx("button",{onClick:()=>{t(!1),f("")},className:`flex-1 py-2 text-sm font-medium rounded-md transition-colors ${e?"text-slate-400 hover:text-white":"bg-indigo-600 text-white shadow-lg"}`,children:"Register"})]}),s.jsxs("form",{onSubmit:C,className:"space-y-4",children:[!e&&s.jsx("div",{className:"flex justify-center mb-4",children:s.jsxs("div",{className:"relative group cursor-pointer",children:[s.jsx("div",{className:"w-20 h-20 rounded-full bg-slate-800 border-2 border-slate-700 flex items-center justify-center overflow-hidden",children:c?s.jsx("img",{src:c,alt:"Avatar",className:"w-full h-full object-cover"}):s.jsx(xs,{size:32,className:"text-slate-500"})}),s.jsx("input",{type:"file",accept:"image/*",onChange:v,className:"absolute inset-0 opacity-0 cursor-pointer"}),s.jsx("div",{className:"absolute bottom-0 right-0 bg-indigo-600 text-white p-1.5 rounded-full shadow-lg border border-slate-900",children:s.jsx(Tu,{size:12})})]})}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-slate-400 mb-1 uppercase tracking-wider",children:"Username"}),s.jsx("input",{type:"text",value:n,onChange:u=>r(u.target.value),className:"w-full bg-slate-950 border border-slate-800 rounded-lg px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all",placeholder:"Enter your username"}),!e&&s.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Choose a unique username."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-slate-400 mb-1 uppercase tracking-wider",children:"Password"}),s.jsx("input",{type:"password",value:l,onChange:u=>a(u.target.value),className:"w-full bg-slate-950 border border-slate-800 rounded-lg px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all",placeholder:"Enter your password"})]}),h&&s.jsxs("div",{className:"bg-red-500/10 border border-red-500/20 text-red-400 text-sm p-3 rounded-lg flex items-center gap-2",children:[s.jsx("span",{className:"block w-1.5 h-1.5 rounded-full bg-red-400"}),h]}),s.jsx("button",{type:"submit",className:"w-full bg-indigo-600 hover:bg-indigo-500 text-white font-bold py-3 rounded-lg transition-all transform active:scale-95 shadow-lg shadow-indigo-900/20",children:e?"Sign In":"Create Account"})]})]})]})})}const jh=e=>{const t=Math.floor(Date.now()/1e3-e);let n=t/31536e3;return n>1?Math.floor(n)+" years ago":(n=t/2592e3,n>1?Math.floor(n)+" months ago":(n=t/86400,n>1?Math.floor(n)+" days ago":(n=t/3600,n>1?Math.floor(n)+" hours ago":(n=t/60,n>1?Math.floor(n)+" min ago":"Just now"))))},Nh=e=>{const t=Math.floor(e/3600),n=Math.floor(e%3600/60),r=Math.floor(e%60);return t>0?`${t}:${n.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`:`${n}:${r.toString().padStart(2,"0")}`},bt=is.memo(({video:e,isUnlocked:t,isWatched:n,context:r})=>{const l=Date.now()/1e3-e.createdAt<86400,[a,i]=p.useState(!1),o=()=>{r&&r.query?sessionStorage.setItem("sp_nav_context",JSON.stringify(r)):sessionStorage.removeItem("sp_nav_context")};return s.jsxs("div",{className:`flex flex-col gap-3 group ${n?"opacity-70 hover:opacity-100 transition-opacity":""}`,children:[s.jsxs(he,{to:`/watch/${e.id}`,onClick:o,className:"relative aspect-video rounded-xl overflow-hidden bg-slate-900 shadow-sm hover:shadow-xl hover:shadow-indigo-500/10 hover:scale-[1.02] transition-all duration-300 block ring-1 ring-white/5 hover:ring-indigo-500/30",children:[a?s.jsx("div",{className:"w-full h-full flex items-center justify-center bg-slate-800 text-slate-600",children:s.jsx(ep,{size:24})}):s.jsx("img",{src:e.thumbnailUrl,alt:e.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500 ease-out",loading:"lazy",decoding:"async",onError:()=>i(!0)}),s.jsx("div",{className:"absolute bottom-1.5 right-1.5 bg-black/80 text-white text-[10px] font-bold px-1.5 py-0.5 rounded-md backdrop-blur-sm",children:Nh(e.duration)}),l&&!n&&s.jsx("div",{className:"absolute top-1.5 left-1.5 bg-red-600 text-white text-[10px] font-bold px-1.5 py-0.5 rounded shadow-sm animate-pulse",children:"NEW"}),n&&s.jsx("div",{className:"absolute inset-0 bg-black/60 flex items-center justify-center",children:s.jsxs("div",{className:"flex items-center gap-1 text-slate-200 bg-black/40 px-2 py-1 rounded backdrop-blur-md border border-white/10",children:[s.jsx(uc,{size:14})," ",s.jsx("span",{className:"text-[10px] font-bold tracking-wider",children:"WATCHED"})]})}),!t&&!n&&s.jsxs("div",{className:"absolute top-1.5 right-1.5 bg-amber-400 text-black text-[10px] font-bold px-1.5 py-0.5 rounded shadow-sm",children:[e.price," $"]})]}),s.jsxs("div",{className:"flex gap-3 px-1 md:px-0",children:[s.jsx(he,{to:`/channel/${e.creatorId}`,className:"shrink-0 mt-0.5",children:e.creatorAvatarUrl?s.jsx("img",{src:e.creatorAvatarUrl,className:"w-9 h-9 rounded-full object-cover bg-slate-800 border border-slate-800 group-hover:border-indigo-500/50 transition-colors",alt:e.creatorName}):s.jsx("div",{className:"w-9 h-9 rounded-full bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center text-xs font-bold text-white shadow-inner",children:e.creatorName[0]})}),s.jsxs("div",{className:"flex-1 min-w-0 flex flex-col",children:[s.jsx(he,{to:`/watch/${e.id}`,onClick:o,title:e.title,children:s.jsx("h3",{className:"text-sm md:text-[15px] font-semibold text-white leading-snug line-clamp-2 mb-1 group-hover:text-indigo-400 transition-colors",children:e.title})}),s.jsxs("div",{className:"text-[11px] md:text-xs text-slate-400 flex flex-col gap-0.5",children:[s.jsxs(he,{to:`/channel/${e.creatorId}`,className:"hover:text-slate-200 transition-colors flex items-center gap-1 w-fit",children:[e.creatorName,s.jsx(uc,{size:10,className:"text-slate-500 fill-slate-800"})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsxs("span",{children:[e.views," views"]}),s.jsx("span",{className:"text-slate-600",children:""}),s.jsx("span",{children:jh(e.createdAt)})]})]})]}),s.jsx("button",{className:"shrink-0 text-slate-500 hover:text-white self-start opacity-0 group-hover:opacity-100 transition-opacity -mr-1",children:s.jsx(Tx,{size:18})})]})]})});var ue=(e=>(e.SHORTS="SHORTS",e.MUSIC="MUSICA",e.SHORT_FILM="CORTOMETRAJE",e.SERIES="SERIES",e.NOVELAS="NOVELAS",e.MOVIE="PELICULA",e.EDUCATION="EDUCACION",e.OTHER="OTRO",e))(ue||{});const js=({title:e,icon:t,link:n})=>s.jsxs("div",{className:"flex items-center justify-between mb-3 px-4 md:px-0",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(t,{size:20,className:"text-indigo-400"}),s.jsx("h2",{className:"text-lg md:text-xl font-bold text-white tracking-tight",children:e})]}),n&&s.jsxs(he,{to:n,className:"text-xs font-bold text-slate-500 hover:text-white flex items-center gap-1 transition-colors",children:["Ver todo ",s.jsx(Hi,{size:14})]})]}),un=({children:e})=>s.jsx("div",{className:"flex overflow-x-auto pb-6 -mx-4 px-4 md:mx-0 md:px-0 gap-4 snap-x snap-mandatory scrollbar-hide",children:e});function wh(){const{user:e}=we(),[t,n]=p.useState(!0),[r,l]=p.useState(""),[a,i]=p.useState("ALL"),[o,c]=p.useState([]),[m,h]=p.useState([]),[f,g]=p.useState(null),[y,N]=p.useState(12),v=p.useRef(null),[C,u]=p.useState(["ALL",...Object.values(ue)]),d=async(b,w)=>{let P=[...b];const _=new Set,O=R=>R.forEach(q=>_.add(q.id)),W=R=>R.filter(q=>!_.has(q.id));let Q=[],B=[];if(w)try{const[R,q]=await Promise.all([E.getUserActivity(w),E.getSubscriptions(w)]);B=q||[];const de={};[...R.liked||[],...R.watched||[]].forEach(ge=>{var ke;const xe=b.find(Ke=>Ke.id===ge);if(xe){const Ke=(ke=R.liked)!=null&&ke.includes(ge)?3:1;de[xe.category]=(de[xe.category]||0)+Ke}}),Q=Object.entries(de).sort(([,ge],[,xe])=>xe-ge).map(([ge])=>ge)}catch(R){console.error("Error building profile",R)}Q.length===0&&(Q=Object.values(ue).sort(()=>.5-Math.random()).slice(0,2));const J=W(P.filter(R=>B.includes(R.creatorId))).sort((R,q)=>q.createdAt-R.createdAt).slice(0,10);O(J);const U=Date.now()/1e3-7*86400,I=W(P.filter(R=>R.createdAt>U&&Q.includes(R.category))).sort((R,q)=>q.createdAt-R.createdAt).slice(0,10);O(I);const V=W(P.filter(R=>R.createdAt>U)).sort((R,q)=>q.createdAt-R.createdAt).slice(0,10);O(V);const z=W(P).sort((R,q)=>q.views-R.views).slice(0,10);O(z);const k=W(P.filter(R=>Q.includes(R.category))).sort(()=>.5-Math.random()).slice(0,12);O(k);const A=W(P).sort(()=>.5-Math.random());return{tasteNew:I,generalNew:V,tasteGeneral:k,trending:z,subs:J,discovery:A}};p.useEffect(()=>{(async()=>{n(!0);try{const P=(await E.getAllVideos()).filter(W=>W.category!=="PENDING"&&W.category!=="PROCESSING");if(c(P),e){const W=await E.getUserActivity(e.id);h(W.watched||[])}const _=await d(P,e==null?void 0:e.id);g(_);const O=await E.getSystemSettings();O&&O.customCategories&&u(["ALL",...Object.values(ue),...O.customCategories])}catch(w){console.error("Home Load Error",w)}finally{n(!1)}})()},[e]);const x=r.trim()!==""||a!=="ALL",j=p.useMemo(()=>x?o.filter(b=>{const w=a==="ALL"||b.category===a,P=b.title.toLowerCase().includes(r.toLowerCase())||b.creatorName.toLowerCase().includes(r.toLowerCase());return w&&P}).sort((b,w)=>w.createdAt-b.createdAt):[],[o,a,r]);p.useEffect(()=>{const b=x?j.length:(f==null?void 0:f.discovery.length)||0;if(y>=b)return;const w=new IntersectionObserver(P=>{P[0].isIntersecting&&N(_=>_>=b?_:_+12)},{threshold:.1,rootMargin:"1200px"});return v.current&&w.observe(v.current),()=>w.disconnect()},[x,j.length,f==null?void 0:f.discovery.length,y]),p.useEffect(()=>{N(12)},[a,r]);const S=(b,w)=>e?e.role==="ADMIN"||e.id===w:!1;return s.jsxs("div",{className:"pb-20",children:[s.jsxs("div",{className:"sticky top-0 z-30 bg-black/95 backdrop-blur-md py-4 -mx-4 px-4 md:-mx-0 md:px-0 mb-6 border-b border-slate-800/50",children:[s.jsx("div",{className:"flex gap-2 mb-4",children:s.jsxs("div",{className:"relative flex-1",children:[s.jsx(ms,{className:"absolute left-3 top-2.5 text-slate-500",size:18}),s.jsx("input",{type:"text",value:r,onChange:b=>l(b.target.value),placeholder:"Buscar videos, creadores...",className:"w-full bg-slate-900 border border-slate-800 rounded-full pl-10 pr-4 py-2 text-sm text-white focus:border-indigo-500 outline-none transition-all"}),r&&s.jsx("button",{onClick:()=>l(""),className:"absolute right-3 top-2.5 text-slate-500 hover:text-white",children:s.jsx(lt,{size:16})})]})}),s.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 scrollbar-hide",children:C.map(b=>s.jsx("button",{onClick:()=>i(b),className:`whitespace-nowrap px-4 py-1.5 rounded-full text-xs font-bold border transition-all ${a===b?"bg-white text-black border-white":"bg-slate-900 text-slate-400 border-slate-800 hover:border-slate-600"}`,children:b.replace("_"," ")},b))})]}),t?s.jsx("div",{className:"flex justify-center py-20",children:s.jsx(Ut,{className:"animate-spin text-indigo-500",size:32})}):x?s.jsxs("div",{className:"animate-in fade-in",children:[s.jsxs("div",{className:"mb-4 text-slate-400 text-sm font-bold flex items-center gap-2",children:[s.jsx(Ru,{size:16})," Resultados de bsqueda"]}),j.length===0?s.jsxs("div",{className:"text-center py-20 text-slate-500 flex flex-col items-center",children:[s.jsx(ms,{size:48,className:"mb-4 opacity-20"}),s.jsx("p",{children:"No se encontraron videos."}),s.jsx("button",{onClick:()=>{i("ALL"),l("")},className:"text-indigo-400 text-sm mt-2 hover:underline",children:"Limpiar filtros"})]}):s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-y-8 gap-x-4",children:j.slice(0,y).map(b=>s.jsx(bt,{video:b,isUnlocked:S(b.id,b.creatorId),isWatched:m.includes(b.id),context:{query:r,category:a}},b.id))}),s.jsx("div",{ref:v,className:"h-10"})]}):s.jsxs("div",{className:"space-y-10 animate-in fade-in",children:[(f==null?void 0:f.tasteNew)&&f.tasteNew.length>0&&s.jsxs("section",{children:[s.jsx(js,{title:"Nuevos para ti",icon:qp}),s.jsx(un,{children:f.tasteNew.map(b=>s.jsx("div",{className:"w-72 md:w-80 flex-shrink-0 snap-start",children:s.jsx(bt,{video:b,isUnlocked:S(b.id,b.creatorId),isWatched:m.includes(b.id)})},b.id))})]}),e&&(f==null?void 0:f.subs)&&f.subs.length>0&&s.jsxs("section",{className:"bg-slate-900/30 -mx-4 px-4 py-6 border-y border-slate-800/50",children:[s.jsx(js,{title:"De tus suscripciones",icon:rh}),s.jsx(un,{children:f.subs.map(b=>s.jsx("div",{className:"w-64 md:w-72 flex-shrink-0 snap-start",children:s.jsx(bt,{video:b,isUnlocked:S(b.id,b.creatorId),isWatched:m.includes(b.id)})},b.id))})]}),(f==null?void 0:f.trending)&&f.trending.length>0&&s.jsxs("section",{children:[s.jsx(js,{title:"Tendencias",icon:Vx}),s.jsx(un,{children:f.trending.map((b,w)=>s.jsxs("div",{className:"w-72 md:w-80 flex-shrink-0 snap-start relative",children:[s.jsx("div",{className:"absolute -left-2 -top-4 text-[100px] font-black text-slate-800/50 z-0 pointer-events-none select-none drop-shadow-lg font-serif",children:w+1}),s.jsx("div",{className:"relative z-10 pl-4",children:s.jsx(bt,{video:b,isUnlocked:S(b.id,b.creatorId),isWatched:m.includes(b.id)})})]},b.id))})]}),(f==null?void 0:f.generalNew)&&f.generalNew.length>0&&s.jsxs("section",{children:[s.jsx(js,{title:"Recin llegados",icon:Xn}),s.jsx(un,{children:f.generalNew.map(b=>s.jsx("div",{className:"w-60 md:w-64 flex-shrink-0 snap-start",children:s.jsx(bt,{video:b,isUnlocked:S(b.id,b.creatorId),isWatched:m.includes(b.id)})},b.id))})]}),(f==null?void 0:f.tasteGeneral)&&f.tasteGeneral.length>0&&s.jsxs("section",{children:[s.jsx(js,{title:"Porque te gusta...",icon:Qi}),s.jsx(un,{children:f.tasteGeneral.map(b=>s.jsx("div",{className:"w-72 md:w-80 flex-shrink-0 snap-start",children:s.jsx(bt,{video:b,isUnlocked:S(b.id,b.creatorId),isWatched:m.includes(b.id)})},b.id))})]}),s.jsxs("section",{className:"pt-4 border-t border-slate-800",children:[s.jsx(js,{title:"Descubrimiento",icon:Dp}),f!=null&&f.discovery&&f.discovery.length>0?s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-y-8 gap-x-4",children:f.discovery.slice(0,y).map(b=>s.jsx(bt,{video:b,isUnlocked:S(b.id,b.creatorId),isWatched:m.includes(b.id)},b.id))}):s.jsx("div",{className:"text-center py-10 text-slate-500",children:"No hay ms videos para descubrir."}),s.jsx("div",{ref:v,className:"h-20 flex items-center justify-center opacity-50",children:y<((f==null?void 0:f.discovery.length)||0)&&s.jsx(Ut,{className:"animate-spin text-slate-600"})})]})]})]})}const Ku=p.createContext(null),Ve=()=>{const e=p.useContext(Ku);if(!e)throw new Error("useToast must be used within ToastProvider");return e},kh=({children:e})=>{const[t,n]=p.useState([]),r=p.useCallback(c=>{n(m=>m.filter(h=>h.id!==c))},[]),l=p.useCallback((c,m="info")=>{const h=Math.random().toString(36).substring(2,9);n(f=>[...f,{id:h,message:c,type:m}]),setTimeout(()=>{r(h)},4e3)},[r]),a=c=>l(c,"success"),i=c=>l(c,"error"),o=c=>l(c,"info");return s.jsxs(Ku.Provider,{value:{addToast:l,success:a,error:i,info:o},children:[e,s.jsx("div",{className:"fixed bottom-20 md:bottom-6 left-1/2 -translate-x-1/2 md:translate-x-0 md:left-auto md:right-6 z-[100] flex flex-col gap-2 w-[90%] max-w-sm pointer-events-none",children:t.map(c=>s.jsxs("div",{className:`pointer-events-auto flex items-center gap-3 p-4 rounded-xl shadow-2xl border backdrop-blur-md animate-in slide-in-from-bottom-5 fade-in duration-300 ${c.type==="success"?"bg-emerald-900/90 border-emerald-500/50 text-white":c.type==="error"?"bg-red-900/90 border-red-500/50 text-white":c.type==="warning"?"bg-amber-900/90 border-amber-500/50 text-white":"bg-slate-900/90 border-slate-700 text-white"}`,children:[s.jsxs("div",{className:"shrink-0",children:[c.type==="success"&&s.jsx(jl,{size:20,className:"text-emerald-400"}),c.type==="error"&&s.jsx(qn,{size:20,className:"text-red-400"}),c.type==="warning"&&s.jsx(Qu,{size:20,className:"text-amber-400"}),c.type==="info"&&s.jsx(np,{size:20,className:"text-blue-400"})]}),s.jsx("p",{className:"text-sm font-medium flex-1",children:c.message}),s.jsx("button",{onClick:()=>r(c.id),className:"text-white/50 hover:text-white transition-colors",children:s.jsx(lt,{size:16})})]},c.id))})]})};function Sh(){const{id:e}=yl(),{user:t,refreshUser:n}=we(),r=mt(),l=Ve(),[a,i]=p.useState(null),[o,c]=p.useState(!0),[m,h]=p.useState(!1),[f,g]=p.useState(null),[y,N]=p.useState([]),[v,C]=p.useState(!1),[u,d]=p.useState(!1),[x,j]=p.useState([]),[S,b]=p.useState(!1),[w,P]=p.useState("");p.useEffect(()=>{window.scrollTo(0,0)},[e]),p.useEffect(()=>{if(!e)return;c(!0),i(null),h(!1),j([]),b(!0),C(!1),(async()=>{try{const V=await E.getVideo(e);V?(i(V),E.checkDownloadStatus(V.id).then(C),E.getRelatedVideos(V.id).then(z=>j(z)).catch(z=>console.error("Related error",z)).finally(()=>b(!1)),E.getComments(V.id).then(N).catch(()=>{})):(l.error("Video no encontrado"),b(!1))}catch(V){console.error(V)}finally{c(!1)}})()},[e]),p.useEffect(()=>{if(!e||!t||!a)return;(async()=>{if(t.role==="ADMIN"||t.id===a.creatorId)h(!0);else try{m||await E.hasPurchased(t.id,a.id)&&h(!0)}catch{}E.getInteraction(t.id,a.id).then(g).catch(()=>{})})()},[e,t==null?void 0:t.id,a==null?void 0:a.id]);const _=async()=>{if(!(!t||!a)){if(t.balance<a.price){r("/vip");return}if(confirm(`Desbloquear video por ${a.price} Saldo?`))try{await E.purchaseVideo(t.id,a.id),h(!0),n(),l.success("Video desbloqueado")}catch(I){l.error("Error al comprar: "+I.message)}}},O=async()=>{if(a){if(!m){l.error("Debes desbloquear el video primero.");return}d(!0);try{await E.downloadVideoForOffline(a),l.info("Descarga iniciada en segundo plano."),setTimeout(()=>E.checkDownloadStatus(a.id).then(C),2e3)}catch(I){l.error(I.message)}finally{d(!1)}}},W=async I=>{if(!(!t||!a))try{const V=await E.rateVideo(t.id,a.id,I);g(V)}catch{}},Q=async I=>{if(I.preventDefault(),!(!t||!a||!w.trim()))try{const V=await E.addComment(t.id,a.id,w);N(z=>[V,...z]),P("")}catch{l.error("Error posting comment")}},B=I=>I?(!!I.isLocal||I.isLocal===1||I.isLocal==="1")&&I.videoUrl&&!I.videoUrl.includes("action=stream")?`api/index.php?action=stream&id=${I.id}`:I.videoUrl:"",J=I=>{if(!a)return;const V=B(a),z=new URL(V,window.location.href).href;{const k=`intent:${z}#Intent;action=android.intent.action.VIEW;type=video/*;end`;window.location.href=k}},U=B(a);return s.jsxs("div",{className:"flex flex-col animate-in fade-in min-h-screen bg-slate-950",children:[s.jsx("div",{className:"w-full bg-black z-40 shadow-2xl border-b border-slate-800 transition-all duration-300 portrait:sticky portrait:top-0 landscape:relative md:sticky md:top-[74px]",children:s.jsx("div",{className:`relative w-full mx-auto max-w-[2000px] ${m?"aspect-video":"aspect-video md:aspect-[21/9] lg:aspect-video"}`,children:m&&a?s.jsxs(s.Fragment,{children:[s.jsx("video",{src:U,poster:a.thumbnailUrl,controls:!0,autoPlay:!0,playsInline:!0,className:"w-full h-full object-contain bg-black",crossOrigin:"anonymous",onEnded:()=>{t&&!(f!=null&&f.isWatched)&&(E.markWatched(t.id,a.id).catch(()=>{}),g(I=>I?{...I,isWatched:!0}:null))}}),s.jsxs("div",{className:"absolute top-2 right-2 opacity-0 hover:opacity-100 transition-opacity duration-300 flex gap-2",children:[s.jsx("button",{onClick:O,disabled:v||u,className:`p-2 rounded-full backdrop-blur-md border transition-colors ${v?"bg-emerald-600/80 text-white border-emerald-500":"bg-black/60 text-white hover:bg-indigo-600 border-white/20"}`,title:v?"Disponible Offline":"Descargar",children:u?s.jsx(X,{size:20,className:"animate-spin"}):v?s.jsx(Yu,{size:20}):s.jsx(fc,{size:20})}),s.jsx("button",{onClick:()=>J(),className:"bg-black/60 text-white p-2 rounded-full backdrop-blur-md hover:bg-indigo-600 border border-white/20",children:s.jsx(Lx,{size:20})})]})]}):s.jsxs("div",{onClick:_,className:"absolute inset-0 flex flex-col items-center justify-center z-10 overflow-hidden cursor-pointer group select-none",children:[s.jsxs("div",{className:"absolute inset-0 z-0",children:[a&&s.jsx("img",{src:a.thumbnailUrl,className:"w-full h-full object-cover blur-sm scale-105 group-hover:scale-110 transition-transform duration-700 opacity-60",alt:"Locked Content"}),s.jsx("div",{className:"absolute inset-0 bg-black/60 group-hover:bg-black/50 transition-colors duration-500"})]}),a&&s.jsxs("div",{className:"relative z-20 text-center flex flex-col items-center animate-in zoom-in duration-300",children:[s.jsx("div",{className:"bg-white/10 backdrop-blur-md p-4 rounded-full border border-white/20 mb-3 group-hover:scale-110 group-active:scale-95 transition-all shadow-xl shadow-indigo-500/20",children:s.jsx(ip,{className:"text-white",size:32})}),s.jsx("h2",{className:"text-xl md:text-3xl font-black text-white mb-1 uppercase tracking-wider drop-shadow-lg",children:"Contenido Premium"}),s.jsxs("div",{className:"flex items-center gap-2 text-slate-300 text-xs md:text-sm font-medium bg-black/40 px-3 py-1 rounded-full backdrop-blur-sm border border-white/10 mt-2",children:[s.jsx("span",{children:"Desbloquear por"}),s.jsxs("span",{className:"text-amber-400 font-bold text-lg",children:[a.price," $"]})]}),t&&t.balance<a.price&&s.jsxs("div",{className:"mt-4 bg-red-600/90 text-white text-xs font-bold px-4 py-2 rounded-lg flex items-center gap-2 shadow-lg animate-pulse",children:[s.jsx(qn,{size:14})," Saldo insuficiente (",t.balance.toFixed(2)," $)"]}),s.jsx("p",{className:"mt-4 text-[10px] text-white/50 uppercase tracking-widest font-bold",children:"Toca para comprar"})]})]})})}),m&&s.jsxs("div",{className:"bg-slate-900 border-b border-slate-800 px-4 py-2 flex items-center justify-between text-xs md:text-sm",children:[s.jsxs("span",{className:"text-slate-400 flex items-center gap-2",children:[s.jsx(qn,{className:"text-amber-500",size:14}),"Problemas?"]}),s.jsx("div",{className:"flex gap-2",children:s.jsxs("button",{onClick:()=>J(),className:"flex items-center gap-1 bg-slate-800 hover:bg-slate-700 text-white px-3 py-1.5 rounded-lg border border-slate-700 transition-colors",children:[s.jsx(mp,{size:14})," ",s.jsx("span",{className:"font-bold",children:"App Externa"})]})})]}),s.jsxs("div",{className:"w-full max-w-7xl mx-auto p-4 lg:px-8 flex flex-col lg:flex-row gap-6 mt-4",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[a&&s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-xl md:text-2xl font-bold text-white mb-2 leading-tight",children:a.title}),s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 border-b border-slate-800 pb-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(he,{to:`/channel/${a.creatorId}`,children:s.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-700 overflow-hidden border border-slate-600",children:a.creatorAvatarUrl?s.jsx("img",{src:a.creatorAvatarUrl,className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center font-bold text-slate-400",children:a.creatorName[0]})})}),s.jsxs("div",{children:[s.jsx(he,{to:`/channel/${a.creatorId}`,className:"font-bold text-white hover:underline block",children:a.creatorName}),s.jsx("div",{className:"text-xs text-slate-500",children:new Date(a.createdAt*1e3).toLocaleDateString()})]})]}),s.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto scrollbar-hide",children:[s.jsxs("button",{onClick:()=>W("like"),className:`flex items-center gap-2 px-4 py-2 rounded-full bg-slate-900 border border-slate-800 hover:bg-slate-800 transition-colors ${f!=null&&f.liked?"text-indigo-400 border-indigo-500/50":"text-slate-400"}`,children:[s.jsx(Qi,{size:18,fill:f!=null&&f.liked?"currentColor":"none"}),s.jsx("span",{className:"text-sm font-bold",children:a.likes})]}),s.jsx("button",{onClick:()=>W("dislike"),className:`px-4 py-2 rounded-full bg-slate-900 border border-slate-800 hover:bg-slate-800 transition-colors ${f!=null&&f.disliked?"text-red-400 border-red-500/50":"text-slate-400"}`,children:s.jsx(Wu,{size:18,fill:f!=null&&f.disliked?"currentColor":"none"})}),s.jsxs("button",{onClick:O,disabled:v||u,className:`flex items-center gap-2 px-4 py-2 rounded-full bg-slate-900 border border-slate-800 hover:bg-slate-800 transition-colors ${v?"text-emerald-400 border-emerald-500/50":"text-slate-400"}`,children:[u?s.jsx(X,{size:18,className:"animate-spin"}):s.jsx(fc,{size:18}),s.jsx("span",{className:"hidden md:inline text-sm font-bold",children:v?"Offline":"Descargar"})]})]})]}),s.jsx("div",{className:"bg-slate-900/50 rounded-xl p-4 mt-4 text-sm text-slate-300 whitespace-pre-wrap",children:a.description||"Sin descripcin."})]}),s.jsxs("div",{className:"mb-8",children:[s.jsxs("h3",{className:"font-bold text-white mb-4 flex items-center gap-2",children:[s.jsx(Fu,{size:18})," Comentarios (",y.length,")"]}),t&&s.jsxs("form",{onSubmit:Q,className:"flex gap-3 mb-6",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-700 shrink-0 overflow-hidden border border-slate-600",children:t.avatarUrl?s.jsx("img",{src:t.avatarUrl,className:"w-full h-full object-cover"}):null}),s.jsxs("div",{className:"flex-1",children:[s.jsx("input",{type:"text",value:w,onChange:I=>P(I.target.value),className:"w-full bg-transparent border-b border-slate-700 text-white pb-2 focus:border-indigo-500 outline-none transition-colors placeholder-slate-600",placeholder:"Aade un comentario..."}),s.jsx("div",{className:"flex justify-end mt-2",children:s.jsx("button",{disabled:!w.trim(),className:"bg-indigo-600 hover:bg-indigo-500 disabled:opacity-50 text-white px-4 py-1.5 rounded-full text-sm font-bold transition-colors",children:"Comentar"})})]})]}),s.jsx("div",{className:"space-y-4",children:y.map(I=>s.jsxs("div",{className:"flex gap-3 animate-in fade-in",children:[s.jsx(he,{to:`/channel/${I.userId}`,className:"w-8 h-8 rounded-full bg-slate-800 shrink-0 overflow-hidden border border-slate-700",children:I.userAvatarUrl?s.jsx("img",{src:I.userAvatarUrl,className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center font-bold text-xs text-slate-500",children:I.username[0]})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-baseline gap-2",children:[s.jsx(he,{to:`/channel/${I.userId}`,className:"text-xs font-bold text-white hover:underline",children:I.username}),s.jsx("span",{className:"text-[10px] text-slate-600",children:new Date(I.timestamp*1e3).toLocaleDateString()})]}),s.jsx("p",{className:"text-sm text-slate-300 mt-0.5",children:I.text})]})]},I.id))})]})]}),s.jsxs("div",{className:"w-full lg:w-80 shrink-0",children:[s.jsx("h3",{className:"font-bold text-white mb-4",children:"A continuacin"}),s.jsx("div",{className:"flex flex-col gap-3",children:S?s.jsxs("div",{className:"text-center py-10 flex flex-col items-center",children:[s.jsx(X,{className:"animate-spin text-indigo-500 mb-2"}),s.jsx("span",{className:"text-slate-500 text-sm italic",children:"Buscando sugerencias..."})]}):x.length>0?x.map(I=>s.jsx(bt,{video:I,isUnlocked:!1,isWatched:!1},I.id)):s.jsx("div",{className:"text-slate-500 text-sm text-center py-10 italic border border-slate-800 rounded-xl bg-slate-900/50",children:"No hay videos relacionados."})})]})]})]})}const Xu=p.createContext(null),Zu=()=>{const e=p.useContext(Xu);if(!e)throw new Error("useUpload must be used within UploadProvider");return e},Ch=({children:e})=>{const[t,n]=p.useState(!1),[r,l]=p.useState(0),[a,i]=p.useState(0),[o,c]=p.useState(0),[m,h]=p.useState("0 MB/s");p.useRef(null);const f=p.useRef(0),g=p.useRef(0),y=p.useCallback(async(v,C)=>{if(t){alert("Wait for current upload to finish");return}n(!0),c(v.length),i(0),l(0);for(let u=0;u<v.length;u++){i(u+1);const d=v[u];f.current=0,g.current=Date.now();try{await E.uploadVideo(d.title,d.description,d.price,d.category,d.duration,C,d.file,d.thumbnail,(x,j,S)=>{l(x);const b=Date.now(),w=b-g.current;if(w>=1e3){const _=(j-f.current)/1024/1024/(w/1e3);h(`${_.toFixed(1)} MB/s`),f.current=j,g.current=b}})}catch(x){console.error(`Failed to upload ${d.title}`,x)}}n(!1),h("0 MB/s"),c(0),i(0),alert("All uploads completed!")},[t]),N=()=>{n(!1),window.location.reload()};return s.jsx(Xu.Provider,{value:{isUploading:t,progress:r,currentFileIndex:a,totalFiles:o,uploadSpeed:m,addToQueue:y,cancelUploads:N},children:e})},e0=async e=>{const t=typeof e!="string",n=t?URL.createObjectURL(e):e;return new Promise((r,l)=>{const a=document.createElement("video");a.preload="auto",a.muted=!0,a.playsInline=!0,a.crossOrigin="anonymous",a.style.position="fixed",a.style.top="-9999px",a.style.left="-9999px",a.style.width="640px",a.style.height="360px",a.style.opacity="0",document.body.appendChild(a);const i=()=>{try{a.pause(),a.removeAttribute("src"),a.load(),a.remove(),t&&URL.revokeObjectURL(n)}catch{}},o=setTimeout(()=>{i();const c=a.duration&&isFinite(a.duration)?a.duration:0;console.warn("Video thumb generator timed out"),r({thumbnail:null,duration:c})},2e4);a.onloadeddata=()=>{const c=a.duration;let m=Math.min(2,c/2);c>60&&(m=5),a.currentTime=m},a.onseeked=()=>{try{const c=document.createElement("canvas");c.width=a.videoWidth||640,c.height=a.videoHeight||360;const m=c.getContext("2d");if(m)m.drawImage(a,0,0,c.width,c.height),c.toBlob(h=>{clearTimeout(o),i();const f=h?new File([h],"thumbnail.jpg",{type:"image/jpeg"}):null,g=a.duration&&isFinite(a.duration)?a.duration:0;r({thumbnail:f,duration:g})},"image/jpeg",.8);else throw new Error("Canvas failed")}catch(c){console.error("Frame capture error",c),clearTimeout(o),i(),r({thumbnail:null,duration:a.duration||0})}},a.onerror=c=>{console.error("Video load error",c),clearTimeout(o),i(),r({thumbnail:null,duration:0})},a.src=n,a.load()})},Eh=({file:e})=>{const[t,n]=p.useState("");return p.useEffect(()=>{const r=URL.createObjectURL(e);return n(r),()=>URL.revokeObjectURL(r)},[e]),s.jsx("img",{src:t,alt:"Thumb",className:"w-full h-full object-cover transition-opacity duration-500 animate-in fade-in"})};function Ph(){const{user:e,refreshUser:t}=we(),{addToQueue:n,isUploading:r}=Zu(),l=mt(),a=Ve(),[i,o]=p.useState([]),[c,m]=p.useState([]),[h,f]=p.useState([]),[g,y]=p.useState([]),[N,v]=p.useState([]),[C,u]=p.useState([]),[d,x]=p.useState(""),[j,S]=p.useState(""),[b,w]=p.useState(""),[P,_]=p.useState(Object.values(ue)),[O,W]=p.useState({}),[Q,B]=p.useState(!1),[J,U]=p.useState({current:0,total:0}),I=p.useRef(!1),V=p.useRef([]),z=p.useRef(!0),[k,A]=p.useState(!1),[R,q]=p.useState({});p.useEffect(()=>(z.current=!0,(async()=>{try{const F=await E.getSystemSettings();if(z.current){const H=Object.values(ue),re=F.customCategories||[];_([...H,...re]),W(F.categoryPrices||{})}}catch(F){console.error(F)}})(),()=>{z.current=!1}),[]),p.useEffect(()=>{e!=null&&e.defaultPrices&&q(e.defaultPrices)},[e]);const de=async()=>{if(e)try{await E.updateUserProfile(e.id,{defaultPrices:R}),await t(),A(!1),a.success("Precios guardados")}catch{a.error("Error al guardar")}},me=$=>e!=null&&e.defaultPrices&&e.defaultPrices[$]!==void 0?e.defaultPrices[$]:O[$]!==void 0?O[$]:1,ge=$=>$<=180?ue.SHORTS:$<=300?ue.MUSIC:$<=1500?ue.SHORT_FILM:$<=2700?ue.SERIES:$>2700?ue.MOVIE:ue.OTHER,xe=$=>{if($.target.files&&$.target.files.length>0){const F=Array.from($.target.files),H=i.length,re=F.map(Y=>Y.name.replace(/\.[^/.]+$/,"").replace(/[-_]/g," "));o(Y=>[...Y,...F]),m(Y=>[...Y,...re]),f(Y=>[...Y,...new Array(F.length).fill(null)]),y(Y=>[...Y,...new Array(F.length).fill(0)]);const Tt=ue.OTHER,Nl=me(Tt);v(Y=>[...Y,...new Array(F.length).fill(Tt)]),u(Y=>[...Y,...new Array(F.length).fill(Nl)]),F.forEach((Y,Be)=>{V.current.push({file:Y,index:H+Be})}),U(Y=>({...Y,total:Y.total+F.length})),I.current||ke()}},ke=async()=>{if(!z.current)return;if(V.current.length===0){I.current=!1,B(!1);return}I.current=!0,B(!0);const $=V.current.shift();if($){U(F=>({...F,current:F.current+1}));try{const F=await e0($.file),H=F.duration||0,re=F.thumbnail;if(z.current){const Tt=ge(H),Nl=me(Tt);f(Y=>{if(Y.length<=$.index)return Y;const Be=[...Y];return Be[$.index]=re,Be}),y(Y=>{if(Y.length<=$.index)return Y;const Be=[...Y];return Be[$.index]=H,Be}),v(Y=>{if(Y.length<=$.index||Y[$.index]!==ue.OTHER)return Y;const Be=[...Y];return Be[$.index]=Tt,Be}),u(Y=>{if(Y.length<=$.index)return Y;const Be=[...Y];return Be[$.index]=Nl,Be})}}catch(F){console.error("Analysis failed for file:",$.file.name,F)}await new Promise(F=>setTimeout(F,100)),ke()}},Ke=$=>{if(Q){a.error("Espera a que termine el anlisis");return}const F=(H,re)=>re!==$;o(H=>H.filter(F)),m(H=>H.filter(F)),f(H=>H.filter(F)),y(H=>H.filter(F)),v(H=>H.filter(F)),u(H=>H.filter(F))},It=($,F)=>{m(H=>{const re=[...H];return re[$]=F,re})},L=($,F)=>{v(re=>{const Tt=[...re];return Tt[$]=F,Tt});const H=me(F);oe($,H)},oe=($,F)=>{u(H=>{const re=[...H];return re[$]=F,re})},Xe=()=>{if(i.length===0)return;let $=!1;if(j){if(v(F=>F.map(()=>j)),b===""){const F=me(j);u(H=>H.map(()=>F))}$=!0}if(b!==""){const F=parseFloat(b);isNaN(F)||(u(H=>H.map(()=>F)),$=!0)}($||d)&&a.success("Cambios aplicados a todos los videos")},vs=async $=>{if($.preventDefault(),!e||i.length===0)return;const F=i.map((H,re)=>({title:c[re],description:d,price:C[re],category:N[re],duration:g[re]||0,file:H,thumbnail:h[re]}));n(F,e),a.success("Aadido a cola de subida"),l("/")};return s.jsxs("div",{className:"max-w-6xl mx-auto px-2 pb-20",children:[s.jsx("div",{className:"flex justify-between items-center mb-6",children:s.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2 text-white",children:[s.jsx(Qa,{className:"text-indigo-500"}),"Subir Contenido"]})}),r&&s.jsxs("div",{className:"bg-amber-500/10 border border-amber-500/30 text-amber-200 p-4 rounded-xl mb-6 flex items-center gap-3 animate-in slide-in-from-top-4",children:[s.jsx(X,{className:"animate-spin"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-bold",children:"Subida en progreso"}),s.jsx("div",{className:"text-xs opacity-80",children:"Puedes aadir ms archivos a la cola."})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-1 space-y-4",children:[s.jsxs("div",{className:`relative border-2 border-dashed border-slate-700 rounded-xl p-6 text-center hover:bg-slate-800/50 transition-colors group cursor-pointer h-40 flex flex-col items-center justify-center bg-slate-900/50 ${Q?"pointer-events-none opacity-50":""}`,children:[s.jsx("input",{type:"file",accept:"video/*",multiple:!0,onChange:xe,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer z-10",disabled:Q}),s.jsx("div",{className:"flex flex-col items-center justify-center gap-2 pointer-events-none",children:Q?s.jsxs(s.Fragment,{children:[s.jsx(X,{size:32,className:"text-indigo-500 animate-spin"}),s.jsx("span",{className:"text-slate-400 text-xs mt-2 font-bold",children:"Analizando..."}),s.jsx("div",{className:"w-32 h-1.5 bg-slate-800 rounded-full mt-1 overflow-hidden",children:s.jsx("div",{className:"h-full bg-indigo-500 transition-all duration-300",style:{width:`${J.total>0?J.current/J.total*100:0}%`}})}),s.jsxs("span",{className:"text-[10px] text-slate-500",children:[J.current,"/",J.total]})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-slate-800 flex items-center justify-center group-hover:scale-110 transition-transform shadow-lg shadow-black/50",children:s.jsx(Wn,{size:24,className:"text-indigo-400"})}),s.jsx("span",{className:"text-slate-400 text-sm font-bold",children:"Aadir Videos"})]})})]}),s.jsxs("div",{className:"bg-slate-900 rounded-xl border border-slate-800 overflow-hidden",children:[s.jsxs("div",{className:"p-3 border-b border-slate-800 bg-slate-950/50 flex items-center gap-2",children:[s.jsx(Yi,{size:16,className:"text-indigo-400"}),s.jsx("h3",{className:"font-bold text-sm text-white",children:"Edicin Masiva"})]}),s.jsxs("div",{className:"p-4 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-[10px] font-bold text-slate-500 uppercase mb-1",children:"Descripcin (Para Todos)"}),s.jsx("textarea",{rows:3,value:d,onChange:$=>x($.target.value),className:"w-full bg-slate-950 border border-slate-700 rounded-lg px-3 py-2 text-xs focus:border-indigo-500 outline-none text-white resize-none",placeholder:"Descripcin comn..."})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-[10px] font-bold text-slate-500 uppercase mb-1",children:"Categora"}),s.jsxs("select",{value:j,onChange:$=>S($.target.value),className:"w-full bg-slate-950 border border-slate-700 rounded-lg px-2 py-2 text-xs text-white focus:border-indigo-500 outline-none",children:[s.jsx("option",{value:"",children:"-- No cambiar --"}),P.map($=>s.jsx("option",{value:$,children:$.replace("_"," ")},$))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-[10px] font-bold text-slate-500 uppercase mb-1",children:"Precio ($)"}),s.jsx("input",{type:"number",min:"0",step:"0.1",value:b,onChange:$=>w($.target.value),className:"w-full bg-slate-950 border border-slate-700 rounded-lg px-2 py-2 text-xs text-white focus:border-indigo-500 outline-none",placeholder:"-- --"})]})]}),s.jsxs("button",{type:"button",onClick:Xe,className:"w-full bg-indigo-600/20 hover:bg-indigo-600/30 text-indigo-300 border border-indigo-500/30 py-2 rounded-lg text-xs font-bold transition-all flex items-center justify-center gap-2",children:[s.jsx(Gu,{size:14})," Aplicar a Todos"]})]})]}),s.jsxs("div",{className:"bg-slate-900 p-4 rounded-xl border border-slate-800 flex items-center justify-between",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-xs font-bold text-slate-300",children:"Precios por Defecto"}),s.jsx("span",{className:"text-[10px] text-slate-500",children:"Configura tus precios base"})]}),s.jsx("button",{type:"button",onClick:()=>A(!0),className:"p-2 bg-slate-800 hover:bg-slate-700 rounded-lg text-white transition-colors",children:s.jsx(Ki,{size:16})})]})]}),s.jsx("div",{className:"lg:col-span-2",children:s.jsxs("form",{onSubmit:vs,className:"bg-slate-900 rounded-xl border border-slate-800 shadow-xl overflow-hidden flex flex-col h-full max-h-[70vh]",children:[s.jsxs("div",{className:"p-4 border-b border-slate-800 flex justify-between items-center bg-slate-950/50",children:[s.jsxs("h3",{className:"font-bold text-slate-200 text-sm",children:["Archivos Seleccionados (",i.length,")"]}),i.length>0&&!Q&&s.jsx("button",{type:"button",onClick:()=>{o([]),m([]),f([]),y([]),v([]),u([])},className:"text-xs text-red-400 hover:text-red-300 font-bold px-3 py-1 rounded hover:bg-red-900/20 transition-colors",children:"Limpiar Todo"})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-2 bg-slate-950/30",children:i.length===0?s.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-600 opacity-50 py-20",children:[s.jsx(Ou,{size:48,className:"mb-4"}),s.jsx("p",{className:"text-sm font-medium",children:"No hay videos seleccionados"})]}):i.map(($,F)=>s.jsxs("div",{className:"flex gap-3 bg-slate-900 p-3 rounded-xl border border-slate-800 items-center group hover:border-slate-600 transition-colors",children:[s.jsxs("div",{className:"w-24 h-16 rounded-lg bg-black shrink-0 overflow-hidden relative border border-slate-700",children:[h[F]?s.jsx(Eh,{file:h[F]}):s.jsx("div",{className:"w-full h-full flex items-center justify-center",children:s.jsx(X,{className:"w-5 h-5 text-indigo-500 animate-spin"})}),s.jsxs("div",{className:"absolute bottom-0.5 right-0.5 bg-black/80 backdrop-blur text-[9px] px-1.5 py-0.5 rounded text-white font-mono font-bold",children:[Math.floor((g[F]||0)/60),":",((g[F]||0)%60).toFixed(0).padStart(2,"0")]})]}),s.jsxs("div",{className:"flex-1 min-w-0 grid grid-cols-1 md:grid-cols-12 gap-3 items-center",children:[s.jsxs("div",{className:"md:col-span-6",children:[s.jsx("input",{type:"text",value:c[F],onChange:H=>It(F,H.target.value),className:"w-full bg-transparent border-b border-transparent hover:border-slate-600 focus:border-indigo-500 outline-none text-sm font-bold text-white p-1 transition-colors placeholder-slate-600",placeholder:"Ttulo del video",required:!0}),s.jsxs("div",{className:"text-[10px] text-slate-500 mt-0.5 pl-1",children:[($.size/1024/1024).toFixed(1)," MB"]})]}),s.jsx("div",{className:"md:col-span-3",children:s.jsxs("div",{className:"relative",children:[s.jsx(Xs,{size:10,className:"absolute left-2 top-2.5 text-slate-500 pointer-events-none"}),s.jsx("select",{value:N[F],onChange:H=>L(F,H.target.value),className:"w-full bg-slate-950 border border-slate-700 rounded-lg text-[10px] text-slate-300 py-1.5 pl-6 pr-2 outline-none focus:border-indigo-500 uppercase font-bold appearance-none cursor-pointer hover:bg-slate-800",children:P.map(H=>s.jsx("option",{value:H,children:H.replace("_"," ")},H))})]})}),s.jsx("div",{className:"md:col-span-3",children:s.jsxs("div",{className:"relative",children:[s.jsx(Wi,{size:10,className:"absolute left-2 top-2.5 text-amber-500 pointer-events-none"}),s.jsx("input",{type:"number",min:"0",step:"0.1",value:C[F],onChange:H=>oe(F,parseFloat(H.target.value)),className:"w-full bg-slate-950 border border-slate-700 rounded-lg text-[11px] text-amber-400 font-bold py-1.5 pl-6 pr-2 outline-none focus:border-indigo-500"})]})})]}),s.jsx("button",{type:"button",onClick:()=>Ke(F),disabled:Q,className:`text-slate-600 hover:text-red-400 transition-colors p-2 hover:bg-slate-800 rounded-full ${Q?"opacity-30 cursor-not-allowed":""}`,children:s.jsx(lt,{size:18})})]},`${$.name}-${F}`))}),s.jsx("div",{className:"p-4 bg-slate-900 border-t border-slate-800",children:s.jsx("button",{type:"submit",disabled:Q||i.length===0,className:`w-full py-3.5 rounded-xl font-bold text-white shadow-lg transition-all flex justify-center items-center gap-2 ${Q||i.length===0?"bg-slate-800 text-slate-500 cursor-not-allowed":"bg-indigo-600 hover:bg-indigo-500 active:scale-95"}`,children:Q?s.jsxs(s.Fragment,{children:[s.jsx(X,{className:"animate-spin",size:18})," Procesando..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Qa,{size:20})," Publicar ",i.length," Videos"]})})})]})})]}),k&&s.jsx("div",{className:"fixed inset-0 z-50 bg-black/80 backdrop-blur-sm flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-slate-900 w-full max-w-md rounded-2xl border border-slate-800 shadow-2xl overflow-hidden animate-in fade-in zoom-in-95",children:[s.jsxs("div",{className:"p-4 border-b border-slate-800 flex justify-between items-center bg-slate-950",children:[s.jsxs("h3",{className:"font-bold text-white flex items-center gap-2",children:[s.jsx(Xs,{size:18,className:"text-indigo-400"})," Configuracin de Precios"]}),s.jsx("button",{onClick:()=>A(!1),className:"text-slate-500 hover:text-white p-1 rounded-full hover:bg-slate-800",children:s.jsx(lt,{size:20})})]}),s.jsxs("div",{className:"p-4 max-h-[60vh] overflow-y-auto space-y-3 bg-slate-900",children:[s.jsx("p",{className:"text-xs text-slate-400 mb-4 bg-slate-950 p-3 rounded-lg border border-slate-800",children:"Define tus precios base por categora. Estos valores se aplicarn automticamente al detectar la categora del video."}),P.map($=>{var F;return s.jsxs("div",{className:"flex justify-between items-center bg-slate-950 p-3 rounded-lg border border-slate-800 hover:border-slate-700 transition-colors",children:[s.jsx("span",{className:"text-xs font-bold text-slate-300 uppercase flex items-center gap-2",children:$.replace("_"," ")}),s.jsxs("div",{className:"relative w-24",children:[s.jsx("span",{className:"absolute left-3 top-2 text-slate-500 text-xs",children:"$"}),s.jsx("input",{type:"number",min:"0",value:R[$]!==void 0?R[$]:O[$]??"",onChange:H=>q(re=>({...re,[$]:parseFloat(H.target.value)||0})),className:"w-full bg-slate-900 border border-slate-700 rounded-md py-1.5 pl-6 pr-2 text-right text-white font-mono text-sm focus:border-indigo-500 outline-none",placeholder:(F=O[$])==null?void 0:F.toString()})]})]},$)})]}),s.jsx("div",{className:"p-4 border-t border-slate-800 bg-slate-950 flex justify-end",children:s.jsxs("button",{onClick:de,className:"bg-indigo-600 hover:bg-indigo-500 text-white px-6 py-2.5 rounded-xl font-bold text-sm flex items-center gap-2 shadow-lg",children:[s.jsx(Js,{size:16})," Guardar Preferencias"]})})]})})]})}function _h(){const{user:e,logout:t,refreshUser:n}=we(),r=Ve(),[l,a]=p.useState(1),[i,o]=p.useState(!1),[c,m]=p.useState(1),[h,f]=p.useState([]),[g,y]=p.useState([]),[N,v]=p.useState([]),[C,u]=p.useState([]),[d,x]=p.useState(null),[j,S]=p.useState(!1),[b,w]=p.useState(100),[P,_]=p.useState("OVERVIEW"),[O,W]=p.useState(""),[Q,B]=p.useState(""),[J,U]=p.useState(""),[I,V]=p.useState({fullName:"",address:"",city:"",zipCode:"",country:"",phoneNumber:""}),[z,k]=p.useState({}),[A,R]=p.useState(Object.values(ue));if(p.useEffect(()=>{e&&(m(e.autoPurchaseLimit),k(e.defaultPrices||{}),e.shippingDetails&&V(e.shippingDetails),Promise.all(e.watchLater.map(L=>E.getVideo(L))).then(L=>{f(L.filter(oe=>!!oe))}),E.getUserTransactions(e.id).then(y),E.getVideosByCreator(e.id).then(v),E.getSystemSettings().then(L=>{L.customCategories&&R([...Object.values(ue),...L.customCategories])}))},[e]),p.useEffect(()=>{e&&P==="SALES"&&E.getSales(e.id).then(u)},[e,P]),!e)return null;const q=async()=>{confirm(`Are you sure you want to set ALL your videos to ${l} Saldo?`)&&(await E.updatePricesBulk(e.id,l),r.success("Precios actualizados masivamente"),o(!1),n())},de=async()=>{await E.updateUserProfile(e.id,{autoPurchaseLimit:c}),n(),r.success("Lmite de autocompra actualizado")},me=async()=>{await E.updateUserProfile(e.id,{defaultPrices:z}),n(),r.success("Preferencias de precios guardadas")},ge=async()=>{await E.updateUserProfile(e.id,{shippingDetails:I}),n(),r.success("Direccin de envo guardada")},xe=async L=>{if(L.target.files&&L.target.files[0]){const oe=L.target.files[0];try{await E.uploadAvatar(e.id,oe),n(),r.success("Avatar actualizado")}catch(Xe){r.error("Error: "+Xe.message)}}},ke=async L=>{if(L.preventDefault(),Q!==J){r.error("Las contraseas no coinciden");return}if(!O||!Q){r.error("Completa todos los campos");return}try{await E.changePassword(e.id,O,Q),r.success("Contrasea cambiada exitosamente"),W(""),B(""),U("")}catch(oe){r.error(oe.message)}},Ke=async()=>{if(!(b<=0))try{await E.requestBalance(e.id,b),r.success("Solicitud enviada al administrador"),S(!1)}catch(L){r.error("Error: "+L.message)}},It=async L=>{try{await E.updateOrderStatus(e.id,L,"SHIPPED"),u(oe=>oe.map(Xe=>Xe.id===L?{...Xe,fulfillmentStatus:"SHIPPED"}:Xe)),r.success("Pedido marcado como ENVIADO")}catch(oe){r.error("Error: "+oe.message)}};return s.jsxs("div",{className:"space-y-6 pb-20",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Mi Perfil"}),s.jsx("button",{onClick:t,className:"text-sm text-red-400 hover:text-red-300 underline",children:"Cerrar Sesin"})]}),s.jsxs("div",{className:"flex bg-slate-900 p-1 rounded-lg border border-slate-800 overflow-x-auto scrollbar-hide",children:[s.jsxs("button",{onClick:()=>_("OVERVIEW"),className:`flex-1 py-2 px-3 text-sm font-bold rounded flex items-center justify-center gap-2 whitespace-nowrap ${P==="OVERVIEW"?"bg-indigo-600 text-white":"text-slate-400"}`,children:[s.jsx(xs,{size:16})," General"]}),s.jsxs("button",{onClick:()=>_("SALES"),className:`flex-1 py-2 px-3 text-sm font-bold rounded flex items-center justify-center gap-2 whitespace-nowrap ${P==="SALES"?"bg-indigo-600 text-white":"text-slate-400"}`,children:[s.jsx(Sn,{size:16})," Ventas"]}),s.jsxs("button",{onClick:()=>_("PRICING"),className:`flex-1 py-2 px-3 text-sm font-bold rounded flex items-center justify-center gap-2 whitespace-nowrap ${P==="PRICING"?"bg-indigo-600 text-white":"text-slate-400"}`,children:[s.jsx(Xs,{size:16})," Precios"]}),s.jsxs("button",{onClick:()=>_("SHIPPING"),className:`flex-1 py-2 px-3 text-sm font-bold rounded flex items-center justify-center gap-2 whitespace-nowrap ${P==="SHIPPING"?"bg-indigo-600 text-white":"text-slate-400"}`,children:[s.jsx(Ir,{size:16})," Envo"]}),s.jsxs("button",{onClick:()=>_("SECURITY"),className:`flex-1 py-2 px-3 text-sm font-bold rounded flex items-center justify-center gap-2 whitespace-nowrap ${P==="SECURITY"?"bg-indigo-600 text-white":"text-slate-400"}`,children:[s.jsx(qu,{size:16})," Seguridad"]})]}),P==="OVERVIEW"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"bg-gradient-to-br from-indigo-900 to-slate-900 p-6 rounded-2xl border border-indigo-500/30 shadow-xl relative overflow-hidden flex flex-col md:flex-row items-center gap-6",children:[s.jsxs("div",{className:"relative group shrink-0",children:[s.jsx("div",{className:"w-20 h-20 rounded-full border-4 border-indigo-500/50 overflow-hidden bg-black/50",children:e.avatarUrl?s.jsx("img",{src:e.avatarUrl,alt:e.username,className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center text-indigo-200 font-bold text-2xl",children:e.username[0]})}),s.jsxs("label",{className:"absolute inset-0 bg-black/50 rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 cursor-pointer transition-opacity",children:[s.jsx(Tu,{size:24,className:"text-white"}),s.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:xe})]})]}),s.jsxs("div",{className:"relative z-10 flex-1 text-center md:text-left",children:[s.jsxs("div",{className:"flex items-center justify-center md:justify-start gap-2 text-indigo-300 mb-1",children:[s.jsx(er,{size:18}),s.jsx("span",{className:"font-medium uppercase tracking-wide text-xs",children:"Saldo Actual"})]}),s.jsxs("div",{className:"text-4xl font-mono font-bold text-white tracking-tight flex flex-col md:flex-row items-center gap-4",children:[s.jsxs("span",{children:[e.balance.toFixed(2)," ",s.jsx("span",{className:"text-lg text-slate-400",children:"SALDO"})]}),s.jsxs("button",{onClick:()=>S(!0),className:"text-xs bg-indigo-600 hover:bg-indigo-500 text-white px-3 py-1.5 rounded-full flex items-center gap-1",children:[s.jsx(Lu,{size:14})," Recargar"]})]}),s.jsxs("p",{className:"text-xs text-slate-400 mt-2",children:["@",e.username]})]})]}),s.jsx(he,{to:"/requests",className:"block bg-slate-900 p-5 rounded-2xl border border-slate-800 hover:border-red-500/50 hover:bg-slate-900/80 transition-all group shadow-lg",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-red-600/20 text-red-500 flex items-center justify-center border border-red-500/20 group-hover:scale-110 transition-transform",children:s.jsx(Zn,{size:24})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-white text-lg",children:"Peticiones"}),s.jsx("p",{className:"text-slate-400 text-sm",children:"Solicita contenido de YouTube"})]})]}),s.jsx(Hi,{className:"text-slate-600 group-hover:text-white transition-colors"})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-slate-900 p-4 rounded-xl border border-slate-800",children:[s.jsxs("h3",{className:"text-sm font-semibold text-slate-200 mb-2 flex items-center gap-2",children:[s.jsx(bx,{size:16,className:"text-indigo-400"})," Lmite Auto-Compra"]}),s.jsx("p",{className:"text-xs text-slate-500 mb-3",children:"Precio mximo para comprar sin preguntar al ver series."}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"number",min:"0",value:c,onChange:L=>m(parseInt(L.target.value)),className:"flex-1 bg-slate-950 border border-slate-700 rounded-lg px-3 py-2 text-white"}),s.jsx("button",{onClick:de,className:"bg-indigo-600 hover:bg-indigo-500 text-white px-4 py-2 rounded-lg text-sm font-medium",children:"Guardar"})]})]}),s.jsxs("div",{className:"bg-slate-900 p-4 rounded-xl border border-slate-800",children:[s.jsxs("div",{className:"flex justify-between items-center cursor-pointer mb-2",onClick:()=>o(!i),children:[s.jsxs("div",{className:"flex items-center gap-2 text-slate-200 font-semibold text-sm",children:[s.jsx(_p,{size:16,className:"text-indigo-400"})," Precios Masivos (Videos)"]}),s.jsx("span",{className:"text-indigo-400 text-xs",children:i?"Cerrar":"Abrir"})]}),i?s.jsxs("div",{className:"mt-2",children:[s.jsxs("p",{className:"text-xs text-slate-500 mb-2",children:["Pon precio a todos tus ",N.length," videos."]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"number",min:"1",value:l,onChange:L=>a(parseInt(L.target.value)),className:"w-20 bg-slate-950 border border-slate-700 rounded-lg px-3 py-2 text-white"}),s.jsx("button",{onClick:q,className:"flex-1 bg-indigo-600 hover:bg-indigo-500 text-white px-3 py-2 rounded-lg text-sm font-medium",children:"Aplicar"})]})]}):s.jsx("p",{className:"text-xs text-slate-500",children:"Actualiza todos los precios de una vez."})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:[s.jsx(Xn,{size:18})," Ver Ms Tarde"]}),h.length===0?s.jsx("div",{className:"bg-slate-900 rounded-xl p-6 text-center text-slate-500 text-sm border border-slate-800",children:"Lista vaca."}):s.jsx("div",{className:"grid grid-cols-1 gap-3",children:h.map(L=>s.jsxs(he,{to:`/watch/${L.id}`,className:"flex items-center gap-3 bg-slate-900 p-3 rounded-lg border border-slate-800 hover:border-indigo-500 transition-colors",children:[s.jsx("img",{src:L.thumbnailUrl,alt:L.title,className:"w-16 h-10 object-cover rounded bg-slate-800"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"text-sm font-medium text-slate-200 truncate",children:L.title}),s.jsx("p",{className:"text-xs text-slate-500",children:L.creatorName})]}),s.jsxs("div",{className:"text-xs font-bold text-amber-400",children:[L.price," $"]})]},L.id))})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:[s.jsx(Xx,{size:18})," Historial Transacciones"]}),s.jsx("div",{className:"bg-slate-900 rounded-xl border border-slate-800 overflow-hidden max-h-60 overflow-y-auto",children:g.length===0?s.jsx("div",{className:"p-6 text-center text-slate-500 text-sm",children:"Sin transacciones."}):s.jsx("div",{className:"divide-y divide-slate-800",children:g.map(L=>{const oe=L.type==="DEPOSIT"||L.creatorId===e.id,Xe=L.type==="DEPOSIT",vs=L.type==="MARKETPLACE";return s.jsxs("div",{className:"p-4 flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-slate-200 text-sm",children:Xe?"Depsito Admin":vs?oe?"Venta Marketplace":"Compra Marketplace":oe?"Venta Video":"Compra Video"}),s.jsx("div",{className:"text-xs text-slate-500",children:new Date(L.timestamp*1e3).toLocaleString()})]}),s.jsxs("div",{className:`font-mono font-bold text-sm ${oe?"text-emerald-400":"text-red-400"}`,children:[oe?"+":"-",Number(L.amount).toFixed(2)]})]},L.id)})})})]})]}),P==="SALES"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"text-lg font-bold text-white flex items-center gap-2 mb-4",children:[s.jsx(Sn,{size:20})," Gestin de Pedidos"]}),C.length===0?s.jsx("div",{className:"text-center p-10 bg-slate-900 rounded-xl border border-slate-800 text-slate-500",children:"No has vendido nada an."}):s.jsx("div",{className:"space-y-4",children:C.map(L=>{const oe=Number(L.amount),Xe=Number(L.adminFee||0),vs=oe-Xe;return s.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-xl overflow-hidden shadow-sm",children:[s.jsxs("div",{className:"p-4 flex gap-4 cursor-pointer hover:bg-slate-800/50 transition-colors",onClick:()=>x(d===L.id?null:L.id),children:[s.jsx("div",{className:"w-16 h-16 bg-black rounded-lg shrink-0 overflow-hidden",children:L.itemImage&&s.jsx("img",{src:L.itemImage,className:"w-full h-full object-cover"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsx("h4",{className:"font-bold text-white truncate pr-2",children:L.itemTitle}),s.jsxs("span",{className:"font-mono text-emerald-400 font-bold",children:["+",vs.toFixed(2)," $"]})]}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx("div",{className:"w-5 h-5 rounded-full overflow-hidden bg-slate-700",children:L.buyerAvatar&&s.jsx("img",{src:L.buyerAvatar,className:"w-full h-full object-cover"})}),s.jsx("span",{className:"text-xs text-slate-400",children:L.buyerName})]}),s.jsxs("div",{className:"flex justify-between items-center mt-2",children:[s.jsx("span",{className:"text-[10px] text-slate-500",children:new Date(L.timestamp*1e3).toLocaleDateString()}),s.jsx("span",{className:`text-[10px] px-2 py-0.5 rounded font-bold uppercase ${L.fulfillmentStatus==="SHIPPED"?"bg-emerald-500/20 text-emerald-400":"bg-amber-500/20 text-amber-400"}`,children:L.fulfillmentStatus==="SHIPPED"?"ENVIADO":"PENDIENTE"})]})]})]}),d===L.id&&s.jsxs("div",{className:"border-t border-slate-800 p-4 bg-slate-950/50 animate-in slide-in-from-top-2",children:[s.jsxs("div",{className:"bg-slate-900 rounded-lg p-3 mb-4 border border-slate-800 text-xs",children:[s.jsxs("div",{className:"flex justify-between text-slate-400 mb-1",children:[s.jsx("span",{children:"Precio Venta:"}),s.jsxs("span",{children:[oe.toFixed(2)," $"]})]}),s.jsxs("div",{className:"flex justify-between text-red-400 mb-1",children:[s.jsx("span",{children:"Comisin Plataforma:"}),s.jsxs("span",{children:["-",Xe.toFixed(2)," $"]})]}),s.jsxs("div",{className:"flex justify-between font-bold text-emerald-400 pt-2 border-t border-slate-800 mt-2",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Cn,{size:12})," Tu Ganancia:"]}),s.jsxs("span",{children:[vs.toFixed(2)," $"]})]})]}),L.shippingData?s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsxs("div",{className:"flex items-start gap-2 text-slate-300",children:[s.jsx(xs,{size:16,className:"text-indigo-400 mt-0.5 shrink-0"}),s.jsx("div",{children:s.jsx("span",{className:"block font-bold text-white",children:L.shippingData.fullName})})]}),s.jsxs("div",{className:"flex items-start gap-2 text-slate-300",children:[s.jsx(Uu,{size:16,className:"text-indigo-400 mt-0.5 shrink-0"}),s.jsxs("div",{children:[s.jsx("span",{className:"block",children:L.shippingData.address}),s.jsxs("span",{className:"block text-slate-400",children:[L.shippingData.city,", ",L.shippingData.zipCode]})]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-slate-300",children:[s.jsx(jp,{size:16,className:"text-indigo-400 shrink-0"}),s.jsx("span",{children:L.shippingData.phoneNumber})]}),L.fulfillmentStatus!=="SHIPPED"&&s.jsxs("button",{onClick:()=>It(L.id),className:"w-full mt-4 bg-emerald-600 hover:bg-emerald-500 text-white font-bold py-2 rounded-lg flex items-center justify-center gap-2",children:[s.jsx(Ir,{size:18})," Marcar como Enviado"]})]}):s.jsx("div",{className:"text-slate-500 text-sm italic",children:"Sin datos de envo disponibles."})]})]},L.id)})})]}),P==="PRICING"&&s.jsxs("div",{className:"bg-slate-900 p-6 rounded-2xl border border-slate-800",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-white",children:"Precios por Defecto (Videos)"}),s.jsx("p",{className:"text-xs text-slate-400",children:"Se autocompletarn al subir videos."})]}),s.jsxs("button",{onClick:me,className:"bg-indigo-600 hover:bg-indigo-500 text-white px-4 py-2 rounded-lg text-sm font-bold flex items-center gap-2",children:[s.jsx(Js,{size:16})," Guardar"]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:A.map(L=>s.jsxs("div",{className:"bg-slate-950 p-3 rounded-lg border border-slate-800 flex justify-between items-center",children:[s.jsx("span",{className:"text-xs font-bold text-slate-300 uppercase",children:L.replace("_"," ")}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-xs text-slate-500",children:"$"}),s.jsx("input",{type:"number",min:"0",className:"w-16 bg-slate-900 border border-slate-700 rounded text-center text-amber-400 font-bold py-1 focus:border-indigo-500 outline-none",value:z[L]??"",placeholder:"Auto",onChange:oe=>k({...z,[L]:parseInt(oe.target.value)||0})})]})]},L))})]}),P==="SHIPPING"&&s.jsxs("div",{className:"bg-slate-900 p-6 rounded-2xl border border-slate-800",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"font-bold text-white flex items-center gap-2",children:[s.jsx(Ir,{size:18})," Direccin de Envo (Compras)"]}),s.jsx("p",{className:"text-xs text-slate-400",children:"Se usar por defecto cuando compres en la tienda."})]}),s.jsxs("button",{onClick:ge,className:"bg-indigo-600 hover:bg-indigo-500 text-white px-4 py-2 rounded-lg text-sm font-bold flex items-center gap-2",children:[s.jsx(Js,{size:16})," Guardar"]})]}),s.jsxs("div",{className:"space-y-4 max-w-lg",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Nombre Completo"}),s.jsx("input",{type:"text",value:I.fullName,onChange:L=>V({...I,fullName:L.target.value}),className:"w-full bg-slate-950 border border-slate-700 rounded-lg px-3 py-2 text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Direccin"}),s.jsx("input",{type:"text",value:I.address,onChange:L=>V({...I,address:L.target.value}),className:"w-full bg-slate-950 border border-slate-700 rounded-lg px-3 py-2 text-white"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Ciudad"}),s.jsx("input",{type:"text",value:I.city,onChange:L=>V({...I,city:L.target.value}),className:"w-full bg-slate-950 border border-slate-700 rounded-lg px-3 py-2 text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Cdigo Postal"}),s.jsx("input",{type:"text",value:I.zipCode,onChange:L=>V({...I,zipCode:L.target.value}),className:"w-full bg-slate-950 border border-slate-700 rounded-lg px-3 py-2 text-white"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Telfono"}),s.jsx("input",{type:"text",value:I.phoneNumber,onChange:L=>V({...I,phoneNumber:L.target.value}),className:"w-full bg-slate-950 border border-slate-700 rounded-lg px-3 py-2 text-white"})]})]})]}),P==="SECURITY"&&s.jsxs("div",{className:"bg-slate-900 p-6 rounded-2xl border border-slate-800",children:[s.jsx("h3",{className:"font-bold text-white mb-4",children:"Cambiar Contrasea"}),s.jsxs("form",{onSubmit:ke,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-slate-500 mb-1",children:"Contrasea Actual"}),s.jsx("input",{type:"password",value:O,onChange:L=>W(L.target.value),className:"w-full bg-slate-950 border border-slate-700 rounded-lg px-3 py-2 text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-slate-500 mb-1",children:"Nueva Contrasea"}),s.jsx("input",{type:"password",value:Q,onChange:L=>B(L.target.value),className:"w-full bg-slate-950 border border-slate-700 rounded-lg px-3 py-2 text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-slate-500 mb-1",children:"Confirmar Nueva"}),s.jsx("input",{type:"password",value:J,onChange:L=>U(L.target.value),className:"w-full bg-slate-950 border border-slate-700 rounded-lg px-3 py-2 text-white"})]}),s.jsx("button",{type:"submit",className:"w-full bg-indigo-600 hover:bg-indigo-500 text-white font-bold py-3 rounded-lg",children:"Actualizar"})]})]}),j&&s.jsx("div",{className:"fixed inset-0 z-50 bg-black/80 backdrop-blur-sm flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-slate-900 w-full max-w-sm p-6 rounded-2xl border border-slate-700 shadow-2xl animate-in zoom-in-95",children:[s.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Recargar Saldo"}),s.jsx("p",{className:"text-slate-400 text-sm mb-4",children:"Solicita una recarga al administrador."}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Cantidad"}),s.jsx("input",{type:"number",value:b,onChange:L=>w(Math.max(1,parseInt(L.target.value))),className:"w-full bg-slate-950 border border-slate-700 rounded-lg px-3 py-3 text-white text-lg font-bold mt-1"})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:()=>S(!1),className:"flex-1 py-3 rounded-lg font-bold text-slate-400 hover:bg-slate-800 transition-colors",children:"Cancelar"}),s.jsx("button",{onClick:Ke,className:"flex-1 py-3 rounded-lg font-bold text-white bg-indigo-600 hover:bg-indigo-500 transition-colors",children:"Solicitar"})]})]})})]})}const Jl=({label:e,value:t,icon:n,color:r})=>s.jsxs("div",{className:"bg-slate-900 p-4 rounded-xl border border-slate-800 flex items-center gap-4",children:[s.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${r}`,children:s.jsx(n,{size:24})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-slate-500 text-xs font-bold uppercase",children:e}),s.jsx("p",{className:"text-xl font-bold text-white",children:t})]})]}),Kl=10;function zh(){const{user:e}=we(),t=Ve(),[n,r]=p.useState([]),[l,a]=p.useState(""),[i,o]=p.useState(1),[c,m]=p.useState(""),[h,f]=p.useState(""),g=()=>{E.getAllUsers().then(r)};p.useEffect(()=>{g()},[]);const y=p.useMemo(()=>n.filter(d=>d.username.toLowerCase().includes(l.toLowerCase())||d.id.toLowerCase().includes(l.toLowerCase())),[n,l]),N=p.useMemo(()=>{const d=n.length,x=n.reduce((S,b)=>S+Number(b.balance),0),j=n.filter(S=>S.role==="ADMIN").length;return{totalUsers:d,totalBalance:x,admins:j}},[n]),v=Math.ceil(y.length/Kl),C=y.slice((i-1)*Kl,i*Kl),u=async()=>{if(!(!e||!h||!c))try{await E.adminAddBalance(e.id,h,parseFloat(c)),t.success("Saldo agregado correctamente"),m(""),f(""),g()}catch(d){t.error("Error: "+d.message)}};return s.jsxs("div",{className:"space-y-6 animate-in fade-in",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx(Jl,{label:"Usuarios Totales",value:N.totalUsers,icon:ih,color:"bg-blue-500/20 text-blue-400"}),s.jsx(Jl,{label:"Masa Monetaria (Saldo)",value:N.totalBalance.toFixed(2),icon:er,color:"bg-emerald-500/20 text-emerald-400"}),s.jsx(Jl,{label:"Administradores",value:N.admins,icon:qu,color:"bg-purple-500/20 text-purple-400"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 bg-slate-900 rounded-xl border border-slate-800 overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"p-4 border-b border-slate-800 bg-slate-950 flex justify-between items-center flex-wrap gap-2",children:[s.jsx("div",{className:"font-bold",children:"Usuarios del Sistema"}),s.jsxs("div",{className:"relative",children:[s.jsx(ms,{size:16,className:"absolute left-3 top-2.5 text-slate-500"}),s.jsx("input",{type:"text",placeholder:"Buscar usuario...",value:l,onChange:d=>{a(d.target.value),o(1)},className:"bg-slate-900 border border-slate-700 rounded-full pl-9 pr-4 py-1.5 text-sm text-white focus:border-indigo-500 outline-none w-48 focus:w-64 transition-all"})]})]}),s.jsx("div",{className:"overflow-x-auto flex-1",children:s.jsxs("table",{className:"w-full text-sm text-left",children:[s.jsx("thead",{className:"text-xs text-slate-500 uppercase bg-slate-950/50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3",children:"Usuario"}),s.jsx("th",{className:"px-4 py-3",children:"Rol"}),s.jsx("th",{className:"px-4 py-3",children:"Saldo"}),s.jsx("th",{className:"px-4 py-3",children:"ltimo Acceso"})]})}),s.jsxs("tbody",{className:"divide-y divide-slate-800",children:[C.map(d=>{var x;return s.jsxs("tr",{className:"hover:bg-slate-800/50 transition-colors",children:[s.jsx("td",{className:"px-4 py-3",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-800 overflow-hidden flex items-center justify-center shrink-0",children:d.avatarUrl?s.jsx("img",{src:d.avatarUrl,className:"w-full h-full object-cover"}):s.jsx("span",{className:"font-bold text-slate-500",children:d.username[0]})}),s.jsx("span",{className:"font-medium text-white",children:d.username})]})}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-bold ${((x=d.role)==null?void 0:x.trim().toUpperCase())==="ADMIN"?"bg-amber-500/20 text-amber-400":"bg-slate-700 text-slate-300"}`,children:d.role?d.role.trim():"USER"})}),s.jsx("td",{className:"px-4 py-3 font-mono text-emerald-400",children:Number(d.balance).toFixed(2)}),s.jsx("td",{className:"px-4 py-3 text-slate-500",children:(d.lastActive||0)>0?new Date((d.lastActive||0)*1e3).toLocaleDateString():"N/A"})]},d.id)}),C.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:4,className:"text-center py-8 text-slate-500",children:"No se encontraron usuarios"})})]})]})}),v>1&&s.jsxs("div",{className:"p-3 border-t border-slate-800 flex justify-between items-center bg-slate-950/30",children:[s.jsx("button",{disabled:i===1,onClick:()=>o(d=>d-1),className:"p-1 rounded hover:bg-slate-800 disabled:opacity-30",children:s.jsx(Mu,{size:18})}),s.jsxs("span",{className:"text-xs text-slate-500",children:["Pgina ",i," de ",v]}),s.jsx("button",{disabled:i===v,onClick:()=>o(d=>d+1),className:"p-1 rounded hover:bg-slate-800 disabled:opacity-30",children:s.jsx(Hi,{size:18})})]})]}),s.jsxs("div",{className:"bg-slate-900 p-6 rounded-xl border border-slate-800 h-fit sticky top-4",children:[s.jsxs("h3",{className:"font-bold text-white mb-4 flex items-center gap-2",children:[s.jsx(Lu,{size:18})," Agregar Saldo Manual"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-slate-500 mb-1 uppercase",children:"Usuario Destino"}),s.jsxs("select",{className:"w-full bg-slate-950 border border-slate-700 rounded-lg px-3 py-2 text-white outline-none focus:border-indigo-500",value:h,onChange:d=>f(d.target.value),children:[s.jsx("option",{value:"",children:"Seleccionar..."}),n.map(d=>s.jsxs("option",{value:d.id,children:[d.username," (",Number(d.balance).toFixed(2),")"]},d.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-slate-500 mb-1 uppercase",children:"Cantidad"}),s.jsx("input",{type:"number",className:"w-full bg-slate-950 border border-slate-700 rounded-lg px-3 py-2 text-white outline-none focus:border-indigo-500",value:c,onChange:d=>m(d.target.value),placeholder:"0.00"})]}),s.jsx("button",{onClick:u,className:"w-full bg-emerald-600 hover:bg-emerald-500 text-white font-bold py-2.5 rounded-lg shadow-lg active:scale-95 transition-all",children:"Procesar Recarga"})]})]})]})]})}function Ih(){const{user:e}=we(),t=Ve(),[n,r]=p.useState({balance:[],vip:[]}),[l,a]=p.useState([]),[i,o]=p.useState(0),[c,m]=p.useState([]),[h,f]=p.useState(Date.now());p.useEffect(()=>{const u=setInterval(()=>f(Date.now()),6e4);return()=>clearInterval(u)},[]);const g=()=>{E.getBalanceRequests().then(u=>{u&&typeof u=="object"&&(r({balance:Array.isArray(u.balance)?u.balance:[],vip:Array.isArray(u.vip)?u.vip:[]}),u.activeVip&&m(u.activeVip))}).catch(u=>console.error("Failed to load requests",u)),E.getGlobalTransactions().then(u=>{u.history&&a(u.history),u.systemRevenue!==void 0&&o(u.systemRevenue)}).catch(u=>console.error("Failed to load transactions",u))};p.useEffect(()=>{g()},[]);const y=async(u,d)=>{if(e)try{await E.handleBalanceRequest(e.id,u,d),t.success(`Solicitud ${d==="APPROVED"?"Aprobada":"Rechazada"}`),g()}catch(x){t.error("Error: "+x.message)}},N=async(u,d)=>{if(e)try{await E.handleVipRequest(e.id,u,d),t.success(`VIP ${d==="APPROVED"?"Activado":"Rechazado"}`),g()}catch(x){t.error("Error: "+x.message)}},v=u=>{const d=u*1e3-h;if(d<=0)return"Expirado";const x=Math.floor(d/(1e3*60*60*24)),j=Math.floor(d%(1e3*60*60*24)/(1e3*60*60));return`${x}d ${j}h`},C=p.useMemo(()=>{const u=n.balance||[],d=n.vip||[],x=u.length+d.length,j=u.reduce((S,b)=>S+Number(b.amount),0);return{pendingCount:x,totalPendingAmount:j}},[n]);return s.jsxs("div",{className:"space-y-6 animate-in fade-in pb-20",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-slate-900 p-5 rounded-xl border border-slate-800 flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-slate-500 text-xs font-bold uppercase mb-1",children:"Caja Chica (Ingresos)"}),s.jsxs("h3",{className:"text-2xl font-bold text-emerald-400",children:["+",i.toFixed(2)," $"]}),s.jsx("p",{className:"text-[10px] text-slate-500",children:"Separado de tu saldo personal"})]}),s.jsx("div",{className:"w-12 h-12 rounded-full bg-emerald-500/20 text-emerald-400 flex items-center justify-center",children:s.jsx(Cn,{size:24})})]}),s.jsxs("div",{className:"bg-slate-900 p-5 rounded-xl border border-slate-800 flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-slate-500 text-xs font-bold uppercase mb-1",children:"Solicitudes Pendientes"}),s.jsx("h3",{className:"text-2xl font-bold text-white",children:C.pendingCount})]}),s.jsx("div",{className:"w-12 h-12 rounded-full bg-amber-500/20 text-amber-400 flex items-center justify-center",children:s.jsx(Xn,{size:24})})]}),s.jsxs("div",{className:"bg-slate-900 p-5 rounded-xl border border-slate-800 flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-slate-500 text-xs font-bold uppercase mb-1",children:"VIPs Activos"}),s.jsx("h3",{className:"text-2xl font-bold text-white",children:c.length})]}),s.jsx("div",{className:"w-12 h-12 rounded-full bg-indigo-500/20 text-indigo-400 flex items-center justify-center",children:s.jsx(Hn,{size:24})})]})]}),c.length>0&&s.jsxs("div",{className:"bg-slate-900 rounded-xl border border-slate-800 overflow-hidden shadow-sm",children:[s.jsxs("div",{className:"p-4 border-b border-slate-800 bg-slate-950 flex items-center gap-2",children:[s.jsx(Hn,{size:18,className:"text-amber-400"}),s.jsx("h3",{className:"font-bold text-white",children:"Usuarios con Membresa Activa"})]}),s.jsx("div",{className:"p-4 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:c.map(u=>s.jsxs("div",{className:"bg-slate-950 border border-slate-800 p-3 rounded-lg flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-800 overflow-hidden shrink-0",children:u.avatarUrl?s.jsx("img",{src:u.avatarUrl,className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center text-slate-500",children:s.jsx(xs,{size:20})})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"font-bold text-white text-sm truncate",children:u.username}),s.jsxs("div",{className:"text-xs text-amber-400 font-mono",children:["Expira: ",v(u.vipExpiry)]})]})]},u.id))})]}),n.vip&&n.vip.length>0&&s.jsxs("div",{className:"bg-slate-900 rounded-xl border border-slate-800 overflow-hidden shadow-sm mb-6",children:[s.jsxs("div",{className:"p-4 border-b border-slate-800 bg-slate-950 flex items-center gap-2",children:[s.jsx($x,{size:18,className:"text-blue-400"}),s.jsx("h3",{className:"font-bold text-white",children:"Solicitudes de Planes / Recargas"})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm text-left",children:[s.jsx("thead",{className:"text-xs text-slate-500 uppercase bg-slate-950/50 border-b border-slate-800",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3",children:"Usuario"}),s.jsx("th",{className:"px-6 py-3",children:"Plan"}),s.jsx("th",{className:"px-6 py-3",children:"Ref. Pago"}),s.jsx("th",{className:"px-6 py-3 text-right",children:"Acciones"})]})}),s.jsx("tbody",{className:"divide-y divide-slate-800",children:n.vip.map(u=>{const d=u.planSnapshot;let x={};try{x=typeof d=="string"?JSON.parse(d):d}catch{x={name:"Error Plan",price:0}}return s.jsxs("tr",{className:"hover:bg-slate-800/30 transition-colors",children:[s.jsx("td",{className:"px-6 py-4 font-bold text-white",children:u.username}),s.jsxs("td",{className:"px-6 py-4",children:[s.jsx("div",{className:"text-white font-medium",children:x.name}),s.jsxs("div",{className:"text-[10px] text-slate-500",children:[x.type==="ACCESS"?`${x.durationDays} Das`:`+${x.bonusPercent}% Bono`," - ",s.jsxs("span",{className:"text-amber-400 font-bold",children:[x.price," CUP"]})]})]}),s.jsx("td",{className:"px-6 py-4",children:u.paymentRef?s.jsx("div",{className:"flex items-center gap-1 text-slate-300 bg-slate-800 px-2 py-1 rounded w-fit",children:s.jsx("span",{className:"font-mono text-xs",children:u.paymentRef})}):s.jsx("span",{className:"text-slate-600 italic text-xs",children:"Sin referencia"})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx("button",{onClick:()=>N(u.id,"APPROVED"),className:"bg-emerald-600 hover:bg-emerald-500 text-white p-2 rounded-lg",title:"Confirmar Pago y Aprobar",children:s.jsx(St,{size:16})}),s.jsx("button",{onClick:()=>N(u.id,"REJECTED"),className:"bg-slate-800 hover:bg-red-600 text-white p-2 rounded-lg",title:"Rechazar",children:s.jsx(lt,{size:16})})]})})]},u.id)})})]})})]}),s.jsxs("div",{className:"bg-slate-900 rounded-xl border border-slate-800 overflow-hidden shadow-sm",children:[s.jsxs("div",{className:"p-4 border-b border-slate-800 bg-slate-950 flex items-center gap-2",children:[s.jsx(er,{size:18,className:"text-indigo-400"}),s.jsx("h3",{className:"font-bold text-white",children:"Solicitudes de Saldo (Legacy)"})]}),!n.balance||n.balance.length===0?s.jsxs("div",{className:"p-10 text-center text-slate-500 flex flex-col items-center gap-2",children:[s.jsx(St,{size:32,className:"text-emerald-500/50"}),s.jsx("p",{children:"No hay solicitudes de saldo pendientes."})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm text-left",children:[s.jsx("thead",{className:"text-xs text-slate-500 uppercase bg-slate-950/50 border-b border-slate-800",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3",children:"Usuario"}),s.jsx("th",{className:"px-6 py-3",children:"Solicitado"}),s.jsx("th",{className:"px-6 py-3",children:"Fecha"}),s.jsx("th",{className:"px-6 py-3 text-right",children:"Acciones"})]})}),s.jsx("tbody",{className:"divide-y divide-slate-800",children:n.balance.map(u=>s.jsxs("tr",{className:"hover:bg-slate-800/30 transition-colors",children:[s.jsxs("td",{className:"px-6 py-4",children:[s.jsx("div",{className:"font-bold text-white",children:u.username}),s.jsxs("div",{className:"text-[10px] text-slate-500",children:["ID: ",u.userId]})]}),s.jsxs("td",{className:"px-6 py-4",children:[s.jsxs("div",{className:"font-mono text-emerald-400 font-bold text-lg",children:["+",u.amount]}),s.jsx("div",{className:"text-[10px] text-slate-500",children:"Saldo"})]}),s.jsx("td",{className:"px-6 py-4 text-slate-400",children:new Date(u.createdAt*1e3).toLocaleString()}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsxs("button",{onClick:()=>y(u.id,"APPROVED"),className:"bg-emerald-600 hover:bg-emerald-500 text-white p-2 rounded-lg transition-colors flex items-center gap-1 text-xs font-bold",title:"Aprobar",children:[s.jsx(St,{size:16})," ",s.jsx("span",{className:"hidden md:inline",children:"Aprobar"})]}),s.jsxs("button",{onClick:()=>y(u.id,"REJECTED"),className:"bg-slate-800 hover:bg-red-600 text-slate-300 hover:text-white p-2 rounded-lg transition-colors flex items-center gap-1 text-xs font-bold",title:"Rechazar",children:[s.jsx(lt,{size:16})," ",s.jsx("span",{className:"hidden md:inline",children:"Rechazar"})]})]})})]},u.id))})]})})]}),s.jsxs("div",{className:"bg-slate-900 rounded-xl border border-slate-800 overflow-hidden shadow-sm",children:[s.jsxs("div",{className:"p-4 border-b border-slate-800 bg-slate-950 flex items-center gap-2",children:[s.jsx(Cn,{size:18,className:"text-emerald-400"}),s.jsx("h3",{className:"font-bold text-white",children:"Historial de Transacciones Globales"})]}),s.jsx("div",{className:"overflow-x-auto max-h-96 overflow-y-auto",children:s.jsxs("table",{className:"w-full text-sm text-left",children:[s.jsx("thead",{className:"text-xs text-slate-500 uppercase bg-slate-950/50 sticky top-0",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3",children:"Tipo"}),s.jsx("th",{className:"px-4 py-3",children:"Detalle"}),s.jsx("th",{className:"px-4 py-3 text-right",children:"Monto"}),s.jsx("th",{className:"px-4 py-3 text-right",children:"Comisin"}),s.jsx("th",{className:"px-4 py-3 text-right",children:"Fecha"})]})}),s.jsx("tbody",{className:"divide-y divide-slate-800",children:l.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"text-center py-8 text-slate-500",children:"Sin movimientos recientes"})}):l.map(u=>{const d=u.type==="DEPOSIT",x=u.type==="VIP_REVENUE",j=u.type==="VIP",S=u.type==="MARKETPLACE";return s.jsxs("tr",{className:"hover:bg-slate-800/30",children:[s.jsx("td",{className:"px-4 py-3",children:s.jsx("span",{className:`px-2 py-1 rounded text-[10px] font-bold ${d?"bg-emerald-500/20 text-emerald-400":j?"bg-amber-500/20 text-amber-400":x?"bg-indigo-500/20 text-indigo-400":S?"bg-blue-500/20 text-blue-400":"bg-purple-500/20 text-purple-400"}`,children:u.type})}),s.jsx("td",{className:"px-4 py-3",children:d||j?s.jsxs("div",{className:"flex items-center gap-1 text-slate-300",children:[s.jsx(Km,{size:14,className:"text-emerald-500"})," Usuario: ",u.buyerName]}):x?s.jsxs("div",{className:"flex items-center gap-1 text-slate-300",children:[s.jsx(Cn,{size:14,className:"text-emerald-500"})," Ingreso por VIP/Recarga"]}):s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"font-medium text-white",children:u.itemTitle||u.videoTitle||"tem"}),s.jsxs("span",{className:"text-[10px] text-slate-500",children:[u.sellerName," ",s.jsx(tx,{size:10,className:"inline"})," ",u.buyerName]})]})}),s.jsx("td",{className:"px-4 py-3 text-right font-mono text-white",children:Number(u.amount).toFixed(2)}),s.jsx("td",{className:"px-4 py-3 text-right font-mono text-slate-400",children:Number(u.adminFee)>0?"+"+Number(u.adminFee).toFixed(2):"-"}),s.jsx("td",{className:"px-4 py-3 text-right text-xs text-slate-500",children:new Date(u.timestamp*1e3).toLocaleString()})]},u.id)})})]})})]})]})}function Th(){const e=Ve(),[t,n]=p.useState([]),[r,l]=p.useState(""),[a,i]=p.useState("ALL"),o=()=>{E.adminGetMarketplaceItems().then(n)};p.useEffect(()=>{o()},[]);const c=async h=>{if(confirm("Ests seguro de eliminar este artculo?"))try{await E.adminDeleteListing(h),e.success("Artculo eliminado"),o()}catch(f){e.error("Error: "+f.message)}},m=p.useMemo(()=>t.filter(h=>{const f=h.title.toLowerCase().includes(r.toLowerCase())||h.sellerName.toLowerCase().includes(r.toLowerCase()),g=a==="ALL"||h.status===a;return f&&g}),[t,r,a]);return s.jsxs("div",{className:"space-y-6 animate-in fade-in",children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 bg-slate-900 p-4 rounded-xl border border-slate-800",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-xl font-bold text-white flex items-center gap-2",children:[s.jsx(Sn,{size:22,className:"text-indigo-400"})," Gestin Marketplace"]}),s.jsxs("p",{className:"text-xs text-slate-400",children:[t.length," artculos totales"]})]}),s.jsxs("div",{className:"flex flex-col md:flex-row gap-3 w-full md:w-auto",children:[s.jsxs("div",{className:"relative",children:[s.jsx(ms,{size:16,className:"absolute left-3 top-2.5 text-slate-500"}),s.jsx("input",{type:"text",placeholder:"Buscar producto o vendedor...",value:r,onChange:h=>l(h.target.value),className:"bg-slate-950 border border-slate-700 rounded-lg pl-9 pr-4 py-2 text-sm text-white focus:border-indigo-500 outline-none w-full md:w-64"})]}),s.jsx("div",{className:"flex bg-slate-950 p-1 rounded-lg border border-slate-700",children:["ALL","ACTIVO","AGOTADO"].map(h=>s.jsx("button",{onClick:()=>i(h),className:`px-3 py-1.5 rounded-md text-xs font-bold transition-colors ${a===h?"bg-indigo-600 text-white shadow":"text-slate-400 hover:text-white"}`,children:h==="ALL"?"Todos":h},h))})]})]}),m.length===0?s.jsxs("div",{className:"text-center py-20 text-slate-500 bg-slate-900/50 rounded-xl border border-slate-800 border-dashed",children:[s.jsx(Sn,{size:48,className:"mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No se encontraron artculos con estos filtros."})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:m.map(h=>s.jsxs("div",{className:`bg-slate-900 p-4 rounded-xl border flex items-start gap-4 transition-all hover:bg-slate-800/50 ${h.status==="ELIMINADO"?"border-red-900/30 opacity-60":"border-slate-800"}`,children:[s.jsxs("div",{className:"relative w-20 h-20 bg-black rounded-lg overflow-hidden shrink-0 border border-slate-700",children:[h.images&&h.images[0]?s.jsx("img",{src:h.images[0],className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center text-slate-600",children:s.jsx(Sn,{size:24})}),h.discountPercent&&h.discountPercent>0?s.jsxs("div",{className:"absolute top-0 right-0 bg-red-600 text-white text-[9px] font-bold px-1.5 py-0.5 rounded-bl",children:["-",h.discountPercent,"%"]}):null]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsx("h4",{className:"font-bold text-white truncate text-sm",title:h.title,children:h.title}),h.status!=="ELIMINADO"&&s.jsx("button",{onClick:()=>c(h.id),className:"text-slate-500 hover:text-red-500 p-1 -mt-1 -mr-2",title:"Eliminar",children:s.jsx(gs,{size:16})})]}),s.jsxs("div",{className:"text-xs text-slate-400 mt-0.5 mb-2 flex items-center gap-1",children:[s.jsxs("span",{className:"font-medium text-indigo-300",children:["@",h.sellerName]}),s.jsx("span",{className:"text-slate-600",children:""}),s.jsxs("span",{children:["Stock: ",h.stock]})]}),s.jsxs("div",{className:"flex justify-between items-center mt-2",children:[s.jsxs("div",{className:"font-mono text-emerald-400 font-bold",children:[h.price," $"]}),s.jsx("span",{className:`text-[9px] font-bold px-2 py-0.5 rounded uppercase ${h.status==="ACTIVO"?"bg-emerald-500/10 text-emerald-400 border border-emerald-500/20":h.status==="AGOTADO"?"bg-amber-500/10 text-amber-400 border border-amber-500/20":"bg-red-500/10 text-red-400 border border-red-500/20"}`,children:h.status})]})]})]},h.id))})]})}const Xl=({text:e,example:t})=>s.jsxs("div",{className:"group relative inline-flex items-center ml-1.5 align-middle cursor-help",children:[s.jsx(wx,{size:12,className:"text-slate-500 hover:text-indigo-400 transition-colors"}),s.jsxs("div",{className:"hidden group-hover:block absolute bottom-full left-1/2 -translate-x-1/2 mb-2 w-64 p-3 bg-slate-950 border border-slate-700 text-xs text-slate-300 rounded-xl shadow-2xl z-50 pointer-events-none animate-in fade-in zoom-in-95",children:[s.jsx("p",{className:"font-medium mb-1 text-white",children:e}),t&&s.jsxs("div",{className:"bg-slate-900 rounded p-1.5 font-mono text-[10px] text-indigo-300 border border-slate-800",children:["Ej: ",s.jsx("span",{className:"select-all",children:t})]}),s.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 -mt-1 border-4 border-transparent border-t-slate-700"})]})]}),Ns=({title:e,icon:t,children:n,isOpen:r,onToggle:l})=>s.jsxs("div",{className:"bg-slate-900 rounded-xl border border-slate-800 overflow-hidden transition-all duration-300",children:[s.jsxs("button",{onClick:l,className:"w-full px-6 py-4 flex justify-between items-center bg-slate-900 hover:bg-slate-800/50 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-3 font-bold text-white",children:[s.jsx(t,{size:20,className:"text-indigo-400"})," ",e]}),r?s.jsx(px,{size:18,className:"text-slate-500"}):s.jsx(ux,{size:18,className:"text-slate-500"})]}),r&&s.jsx("div",{className:"px-6 pb-6 pt-2 border-t border-slate-800/50 space-y-4 animate-in slide-in-from-top-2 fade-in",children:n})]});function Mh(){const e=Ve(),[t,n]=p.useState(null),[r,l]=p.useState("SYSTEM"),[a,i]=p.useState(!0),[o,c]=p.useState("");p.useEffect(()=>{E.getSystemSettings().then(u=>{n(u),i(!1)}).catch(()=>i(!1))},[]);const m=async()=>{if(t)try{await E.updateSystemSettings(t),e.success("Configuracin guardada")}catch{e.error("Error al guardar")}},h=(u,d)=>{t&&n({...t,categoryPrices:{...t.categoryPrices||{},[u]:d}})},f=()=>{if(!t||!o.trim())return;const u=o.trim().toUpperCase().replace(/\s+/g,"_"),d=Object.values(ue),x=t.customCategories||[];if(d.includes(u)||x.includes(u)){e.error("Esta categora ya existe");return}n({...t,customCategories:[...x,u],categoryPrices:{...t.categoryPrices||{},[u]:0}}),c(""),e.success("Categora aadida (Recuerda Guardar)")},g=u=>{if(!t)return;const d=(t.customCategories||[]).filter(j=>j!==u),x={...t.categoryPrices};delete x[u],n({...t,customCategories:d,categoryPrices:x})},y=()=>{if(!t)return;const u={id:"v_"+Date.now(),name:"Nuevo Plan",price:100,type:"ACCESS",durationDays:30,description:""};n({...t,vipPlans:[...t.vipPlans||[],u]})},N=u=>{t&&n({...t,vipPlans:(t.vipPlans||[]).filter(d=>d.id!==u)})},v=(u,d,x)=>{t&&n({...t,vipPlans:(t.vipPlans||[]).map(j=>j.id===u?{...j,[d]:x}:j)})};if(a)return s.jsx("div",{className:"flex justify-center p-20",children:s.jsx(X,{className:"animate-spin text-indigo-500"})});if(!t)return s.jsx("div",{className:"p-10 text-center text-red-400",children:"Error cargando configuracin."});const C=[...Object.values(ue),...t.customCategories||[]];return s.jsxs("div",{className:"max-w-3xl mx-auto space-y-6 animate-in fade-in pb-20",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h2",{className:"text-xl font-bold text-white",children:"Configuracin del Sistema"}),s.jsxs("button",{onClick:m,className:"bg-indigo-600 hover:bg-indigo-500 text-white font-bold py-2 px-6 rounded-lg flex items-center gap-2 shadow-lg shadow-indigo-900/20 active:scale-95 transition-all",children:[s.jsx(Js,{size:18})," Guardar Todo"]})]}),s.jsxs(Ns,{title:"Sistema & Horarios",icon:Ki,isOpen:r==="SYSTEM",onToggle:()=>l(r==="SYSTEM"?"":"SYSTEM"),children:[s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Hora Inicio Descarga"}),s.jsx("input",{type:"time",value:t.downloadStartTime,onChange:u=>n({...t,downloadStartTime:u.target.value}),className:"w-full bg-slate-950 border border-slate-700 rounded-lg p-2.5 text-white outline-none focus:border-indigo-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Hora Fin Descarga"}),s.jsx("input",{type:"time",value:t.downloadEndTime,onChange:u=>n({...t,downloadEndTime:u.target.value}),className:"w-full bg-slate-950 border border-slate-700 rounded-lg p-2.5 text-white outline-none focus:border-indigo-500"})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1 flex items-center gap-2",children:["Ruta yt-dlp ",s.jsx(Xl,{text:"Ruta absoluta al binario en servidor",example:"/usr/local/bin/yt-dlp"})]}),s.jsx("input",{type:"text",value:t.ytDlpPath||"",onChange:u=>n({...t,ytDlpPath:u.target.value}),className:"w-full bg-slate-950 border border-slate-700 rounded-lg p-2.5 text-white font-mono text-xs outline-none focus:border-indigo-500"})]})]}),s.jsx(Ns,{title:"Planes VIP & Recargas",icon:Hn,isOpen:r==="VIP",onToggle:()=>l(r==="VIP"?"":"VIP"),children:s.jsxs("div",{className:"space-y-4",children:[t.vipPlans&&t.vipPlans.map(u=>s.jsxs("div",{className:"bg-slate-950 p-4 rounded-xl border border-slate-800 relative",children:[s.jsx("button",{onClick:()=>N(u.id),className:"absolute top-2 right-2 text-slate-600 hover:text-red-500 p-1",children:s.jsx(gs,{size:16})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-[10px] uppercase font-bold text-slate-500",children:"Nombre"}),s.jsx("input",{type:"text",value:u.name,onChange:d=>v(u.id,"name",d.target.value),className:"w-full bg-slate-900 border border-slate-700 rounded p-1.5 text-sm text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-[10px] uppercase font-bold text-slate-500",children:"Precio (CUP)"}),s.jsx("input",{type:"number",value:u.price,onChange:d=>v(u.id,"price",parseInt(d.target.value)),className:"w-full bg-slate-900 border border-slate-700 rounded p-1.5 text-sm text-emerald-400 font-bold"})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-[10px] uppercase font-bold text-slate-500",children:"Tipo"}),s.jsxs("select",{value:u.type,onChange:d=>v(u.id,"type",d.target.value),className:"w-full bg-slate-950 border border-slate-700 rounded p-1.5 text-sm text-white",children:[s.jsx("option",{value:"ACCESS",children:"Acceso Total"}),s.jsx("option",{value:"BALANCE",children:"Recarga Saldo"})]})]}),u.type==="ACCESS"?s.jsxs("div",{className:"col-span-2",children:[s.jsx("label",{className:"text-[10px] uppercase font-bold text-slate-500",children:"Das de Duracin"}),s.jsx("input",{type:"number",value:u.durationDays,onChange:d=>v(u.id,"durationDays",parseInt(d.target.value)),className:"w-full bg-slate-900 border border-slate-700 rounded p-1.5 text-sm text-white"})]}):s.jsxs("div",{className:"col-span-2",children:[s.jsx("label",{className:"text-[10px] uppercase font-bold text-slate-500",children:"% Bono Extra"}),s.jsx("input",{type:"number",value:u.bonusPercent,onChange:d=>v(u.id,"bonusPercent",parseInt(d.target.value)),className:"w-full bg-slate-950 border border-slate-700 rounded p-1.5 text-sm text-white"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-[10px] uppercase font-bold text-slate-500",children:"Descripcin"}),s.jsx("input",{type:"text",value:u.description,onChange:d=>v(u.id,"description",d.target.value),className:"w-full bg-slate-950 border border-slate-700 rounded p-1.5 text-xs text-slate-300"})]})]},u.id)),s.jsxs("button",{onClick:y,className:"w-full py-2 border border-dashed border-slate-700 text-slate-400 rounded-xl hover:bg-slate-800 hover:text-white flex items-center justify-center gap-2 text-sm font-bold",children:[s.jsx(Wn,{size:16})," Agregar Plan"]})]})}),s.jsx(Ns,{title:"Pagos & Gateways",icon:Au,isOpen:r==="PAYMENT",onToggle:()=>l(r==="PAYMENT"?"":"PAYMENT"),children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-slate-950 p-4 rounded-xl border border-slate-800",children:[s.jsx("h4",{className:"text-sm font-bold text-white mb-3 flex items-center gap-2 text-indigo-300",children:"Integracin Tropipay"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Client ID"}),s.jsx("input",{type:"text",value:t.tropipayClientId||"",onChange:u=>n({...t,tropipayClientId:u.target.value}),className:"w-full bg-slate-900 border border-slate-700 rounded-lg p-2 text-white outline-none"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Client Secret"}),s.jsx("input",{type:"password",value:t.tropipayClientSecret||"",onChange:u=>n({...t,tropipayClientSecret:u.target.value}),className:"w-full bg-slate-900 border border-slate-700 rounded-lg p-2 text-white outline-none"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Tasa Cambio (CUP  1 EUR)"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-slate-400",children:"1 EUR = "}),s.jsx("input",{type:"number",min:"1",value:t.currencyConversion||1,onChange:u=>n({...t,currencyConversion:parseFloat(u.target.value)}),className:"w-24 bg-slate-900 border border-slate-700 rounded-lg p-2 text-white outline-none text-center font-bold"}),s.jsx("span",{className:"text-sm text-slate-400",children:"Saldo/CUP"})]}),s.jsx("p",{className:"text-[10px] text-slate-500 mt-1",children:"Si tus planes valen 1000 y la tasa es 300, el usuario pagar 3.33 EUR en Tropipay."})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-xs text-slate-400 bg-slate-950 p-3 rounded-lg border border-slate-800",children:"Escribe aqu las instrucciones MANUALES para usuarios que no usen la pasarela automtica (ej: Transferencia QR)."}),s.jsx("textarea",{rows:4,value:t.paymentInstructions||"",onChange:u=>n({...t,paymentInstructions:u.target.value}),className:"w-full bg-slate-950 border border-slate-700 rounded-xl p-4 text-sm text-white focus:border-indigo-500 outline-none leading-relaxed font-mono",placeholder:`Ejemplo:
1. Enva el pago a Tropipay: user@example.com
2. Usa QvaPay: https://qvapay.com/pay/me`})]})]})}),s.jsxs(Ns,{title:"Precios Automticos por Categora",icon:Xs,isOpen:r==="PRICES",onToggle:()=>l(r==="PRICES"?"":"PRICES"),children:[s.jsxs("p",{className:"text-xs text-slate-400 bg-slate-950 p-3 rounded-lg border border-slate-800 mb-4",children:["Estos precios se aplicarn automticamente a los videos durante el ",s.jsx("strong",{children:"Paso 3: Organizacin Inteligente"})," basndose en su categora detectada."]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:C.map(u=>{var x;const d=!Object.values(ue).includes(u);return s.jsxs("div",{className:"flex justify-between items-center bg-slate-950 p-3 rounded-lg border border-slate-800 group",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-xs font-bold text-slate-300 uppercase",children:u.replace("_"," ")}),d&&s.jsx("button",{onClick:()=>g(u),className:"text-slate-600 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-opacity p-1",title:"Eliminar categora",children:s.jsx(lt,{size:12})})]}),s.jsxs("div",{className:"relative w-24",children:[s.jsx(Wi,{size:12,className:"absolute left-2 top-2.5 text-slate-500"}),s.jsx("input",{type:"number",min:"0",value:((x=t.categoryPrices)==null?void 0:x[u])!==void 0?t.categoryPrices[u]:0,onChange:j=>h(u,parseFloat(j.target.value)),className:"w-full bg-slate-900 border border-slate-700 rounded-lg pl-6 pr-2 py-1.5 text-sm text-amber-400 font-bold outline-none focus:border-indigo-500 text-right"})]})]},u)})}),s.jsxs("div",{className:"flex gap-2 items-center bg-slate-950 p-3 rounded-lg border border-slate-800/50 border-dashed",children:[s.jsx("input",{type:"text",value:o,onChange:u=>c(u.target.value),placeholder:"Nueva Categora (Ej: RETRO)",className:"flex-1 bg-transparent text-sm text-white placeholder-slate-600 outline-none uppercase font-bold"}),s.jsx("button",{onClick:f,disabled:!o.trim(),className:"bg-slate-800 hover:bg-slate-700 disabled:opacity-50 text-white p-2 rounded-lg transition-colors",children:s.jsx(Wn,{size:16})})]})]}),s.jsx(Ns,{title:"Economa & Comisiones",icon:Ji,isOpen:r==="ECONOMY",onToggle:()=>l(r==="ECONOMY"?"":"ECONOMY"),children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Comisin Videos (%)"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"number",value:t.videoCommission??20,onChange:u=>n({...t,videoCommission:parseInt(u.target.value)||0}),className:"w-full bg-slate-950 border border-slate-700 rounded-lg p-2.5 text-white outline-none focus:border-indigo-500 pr-8"}),s.jsx("span",{className:"absolute right-3 top-2.5 text-slate-500 font-bold",children:"%"})]}),s.jsx("p",{className:"text-[10px] text-slate-500 mt-1",children:"Retenido por el sistema en cada venta de video."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Comisin Marketplace (%)"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"number",value:t.marketCommission??25,onChange:u=>n({...t,marketCommission:parseInt(u.target.value)||0}),className:"w-full bg-slate-950 border border-slate-700 rounded-lg p-2.5 text-white outline-none focus:border-indigo-500 pr-8"}),s.jsx("span",{className:"absolute right-3 top-2.5 text-slate-500 font-bold",children:"%"})]}),s.jsx("p",{className:"text-[10px] text-slate-500 mt-1",children:"Retenido en ventas de productos fsicos."})]})]})}),s.jsxs(Ns,{title:"Integraciones API",icon:Zn,isOpen:r==="API",onToggle:()=>l(r==="API"?"":"API"),children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1 flex items-center gap-2",children:["Pexels API Key ",s.jsx(Xl,{text:"Para bsqueda de stock videos"})]}),s.jsx("input",{type:"password",value:t.pexelsKey||"",onChange:u=>n({...t,pexelsKey:u.target.value}),className:"w-full bg-slate-950 border border-slate-700 rounded-lg p-2.5 text-white outline-none focus:border-indigo-500"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1 flex items-center gap-2",children:["Pixabay API Key ",s.jsx(Xl,{text:"Alternativa stock gratuita"})]}),s.jsx("input",{type:"password",value:t.pixabayKey||"",onChange:u=>n({...t,pixabayKey:u.target.value}),className:"w-full bg-slate-950 border border-slate-700 rounded-lg p-2.5 text-white outline-none focus:border-indigo-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1 flex items-center gap-2",children:"YouTube (yt-dlp)"}),s.jsxs("div",{className:"flex items-center gap-2 p-3 bg-slate-950 rounded-lg border border-slate-700",children:[s.jsx("input",{type:"checkbox",checked:t.enableYoutube||!1,onChange:u=>n({...t,enableYoutube:u.target.checked}),className:"accent-indigo-500 w-4 h-4 cursor-pointer"}),s.jsx("span",{className:"text-sm text-slate-300",children:"Habilitar descargas de YouTube"})]})]})]})]})}const Lh=({video:e,onComplete:t})=>{const n=p.useRef(null),[r,l]=p.useState("Cargando..."),a=p.useRef(!1);let i=e.videoUrl;(!!e.isLocal||e.isLocal===1||e.isLocal==="1")&&!i.includes("action=stream")&&(i=`api/index.php?action=stream&id=${e.id}`,console.log("ScannerPlayer: Forcing stream URL for local video",e.id)),p.useEffect(()=>{const h=n.current;if(!h)return;console.log("ScannerPlayer: Loading",i),a.current=!1,l("Iniciando..."),h.currentTime=0;const g=setTimeout(async()=>{try{h.muted=!0,await h.play(),l("Procesando...")}catch(y){console.warn("Autoplay blocked",y),l("Esperando click manual...")}},250);return()=>clearTimeout(g)},[e.id,i]);const c=h=>{const f=h.currentTarget;if(!(!f||a.current)&&f.currentTime>1.5){f.pause(),a.current=!0,l("Capturando...");const g=f.duration&&isFinite(f.duration)?f.duration:0;try{const y=document.createElement("canvas");y.width=f.videoWidth||640,y.height=f.videoHeight||360;const N=y.getContext("2d");N?(N.drawImage(f,0,0,y.width,y.height),y.toBlob(v=>{if(v){const C=new File([v],"thumb.jpg",{type:"image/jpeg"});t(g,C)}else t(g,null)},"image/jpeg",.8)):t(g,null)}catch(y){console.error("Canvas error",y),t(g,null)}}},m=h=>{a.current||(console.error("Video Load Error",i,h),l("Error de Reproduccin. Saltando..."),setTimeout(()=>{a.current||(a.current=!0,t(0,null))},1500))};return s.jsxs("div",{className:"w-full max-w-lg mx-auto mb-4",children:[s.jsxs("div",{className:"relative bg-black rounded-2xl overflow-hidden shadow-2xl border border-slate-800 aspect-video group",children:[s.jsx("video",{ref:n,src:i,poster:e.thumbnailUrl,className:"w-full h-full object-contain",controls:!0,playsInline:!0,muted:!0,autoPlay:!0,preload:"auto",crossOrigin:"anonymous",onTimeUpdate:c,onError:m},e.id),s.jsx("div",{className:"absolute top-3 left-3 bg-black/80 backdrop-blur-md px-3 py-1.5 rounded-lg border border-white/10 z-20 pointer-events-none",children:s.jsxs("div",{className:"flex items-center gap-2",children:[r==="Procesando..."||r==="Capturando..."?s.jsx(X,{size:12,className:"animate-spin text-emerald-400"}):s.jsx("div",{className:"w-2 h-2 rounded-full bg-indigo-500 animate-pulse"}),s.jsx("span",{className:"text-[10px] font-mono font-bold text-white uppercase tracking-wider",children:r})]})})]}),s.jsxs("div",{className:"text-[10px] text-slate-600 font-mono mt-1 px-2 truncate",children:["Src: ",i]})]})};function Ah(){const e=Ve(),[t,n]=p.useState(""),[r,l]=p.useState(""),[a,i]=p.useState(!1),[o,c]=p.useState(!1),[m,h]=p.useState(!1),[f,g]=p.useState(!1),[y,N]=p.useState([]),[v,C]=p.useState([]),[u,d]=p.useState(0),[x,j]=p.useState({processed:0,total:0}),[S,b]=p.useState(0);p.useEffect(()=>{E.getSystemSettings().then(U=>{U.localLibraryPath&&n(U.localLibraryPath)})},[]);const w=U=>{N(I=>[`> ${U}`,...I].slice(0,100))},P=async()=>{if(t.trim()){i(!0),N([]),w("Indexando archivos...");try{await E.updateSystemSettings({localLibraryPath:t});const U=await E.scanLocalLibrary(t);U.success&&(w(`Encontrados: ${U.totalFound}`),w(`Nuevos: ${U.newToImport}`),e.success("Paso 1 Completado"))}catch(U){w(`Error: ${U.message}`)}finally{i(!1)}}},_=async()=>{w("Cargando videos pendientes...");const U=r?parseInt(r):0;try{const I=await E.getUnprocessedVideos(U);if(I.length===0){w("No hay videos pendientes (PENDING).");return}w(`Iniciando escner para ${I.length} videos.`),C(I),d(0),c(!0)}catch(I){w(`Error cargando cola: ${I.message}`)}},O=()=>{c(!1),C([])},W=async(U,I)=>{const V=v[u];try{await E.updateVideoMetadata(V.id,U,I)}catch(k){console.error(k)}const z=u+1;z>=v.length?(O(),e.success("Paso 2 Completado"),w("Escaneo visual finalizado.")):d(z)},Q=async()=>{h(!0),j({processed:0,total:100}),w("Iniciando organizacin por lotes...");const U=async()=>{try{const I=await E.smartOrganizeLibrary();if(I.details&&I.details.forEach(V=>w(V)),I.remaining&&I.remaining>0){w(`Quedan ${I.remaining} videos. Continuando...`);const V=I.remaining||0;j(z=>({processed:z.processed+I.processed,total:z.processed+I.processed+V})),setTimeout(U,500)}else w("Organizacin Finalizada."),e.success("Paso 3 Completado"),h(!1),E.invalidateCache("get_videos"),E.setHomeDirty()}catch(I){w(`Error: ${I.message}`),h(!1)}};U()},B=async()=>{if(!confirm("Esto reanalizar TODOS los videos de la librera (no pendientes) para corregir sus nombres y descripciones basndose en la estructura de carpetas actual. Continuar?"))return;g(!0),b(0),w("Iniciando rectificacin masiva...");const U=async(I="")=>{try{const V=await E.rectifyLibraryTitles(I);b(z=>z+V.processed),V.completed?(w("Rectificacin completada."),e.success("Ttulos actualizados correctamente"),g(!1),E.invalidateCache("get_videos"),E.setHomeDirty()):(w(`Procesados ${V.processed} videos...`),setTimeout(()=>U(V.lastId),200))}catch(V){w(`Error Rectificacin: ${V.message}`),g(!1)}};U()},J=(U,I)=>{const V=U*I,z=Math.floor(V/60),k=Math.floor(V%60);return`${z}m ${k}s`};return s.jsxs("div",{className:"space-y-6 animate-in fade-in pb-20",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(Ys,{size:24,className:"text-indigo-400"}),s.jsx("h2",{className:"text-2xl font-bold text-white",children:"Gestin de Librera"})]}),s.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-xl p-5 relative overflow-hidden group",children:[s.jsx("div",{className:"absolute top-0 left-0 bottom-0 w-1 bg-blue-500"}),s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsxs("h3",{className:"font-bold text-lg text-white flex items-center gap-2",children:[s.jsx("span",{className:"bg-blue-500/20 text-blue-400 w-6 h-6 rounded flex items-center justify-center text-xs",children:"1"}),"Indexar Archivos"]}),a&&s.jsx(X,{className:"animate-spin text-blue-500"})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("input",{type:"text",value:t,onChange:U=>n(U.target.value),className:"flex-1 bg-slate-950 border border-slate-700 rounded-lg px-3 py-2 text-xs font-mono text-white",placeholder:"/storage/..."}),s.jsxs("button",{onClick:P,disabled:a||o||m||f,className:"bg-blue-600 hover:bg-blue-500 disabled:opacity-50 text-white font-bold px-4 py-2 rounded-lg text-sm flex items-center gap-2",children:[s.jsx(qx,{size:16})," Escanear"]})]}),a&&s.jsx("div",{className:"mt-2 h-1 bg-blue-900/30 w-full overflow-hidden rounded",children:s.jsx("div",{className:"h-full bg-blue-500 w-1/3 animate-progress-indeterminate"})})]}),s.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-xl p-5 relative overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 left-0 bottom-0 w-1 bg-emerald-500"}),s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsxs("h3",{className:"font-bold text-lg text-white flex items-center gap-2",children:[s.jsx("span",{className:"bg-emerald-500/20 text-emerald-400 w-6 h-6 rounded flex items-center justify-center text-xs",children:"2"}),"Extraccin de Datos"]}),o&&s.jsx("div",{className:"text-xs font-mono text-emerald-400 animate-pulse",children:"PROCESANDO"})]}),o?s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between text-xs text-slate-400",children:[s.jsxs("span",{children:["Video ",u+1," de ",v.length]}),s.jsxs("span",{children:["Estimado: ",J(v.length-u,2.5)]})]}),s.jsx("div",{className:"h-2 bg-slate-800 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-emerald-500 transition-all duration-300",style:{width:`${u/v.length*100}%`}})})]}):s.jsxs("div",{className:"flex gap-3 items-end",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"text-[10px] uppercase font-bold text-slate-500 mb-1 block",children:"Lmite (Opcional)"}),s.jsx("input",{type:"number",value:r,onChange:U=>l(U.target.value),className:"w-full bg-slate-950 border border-slate-700 rounded-lg px-3 py-2 text-sm text-white",placeholder:"Sin lmite (Todos)"})]}),s.jsxs("button",{onClick:_,disabled:a||m||f,className:"bg-emerald-600 hover:bg-emerald-500 disabled:opacity-50 text-white font-bold px-6 py-2 rounded-lg text-sm flex items-center gap-2 h-[38px]",children:[s.jsx(mc,{size:16})," Iniciar Escner"]})]})]}),s.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-xl p-5 relative overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 left-0 bottom-0 w-1 bg-purple-500"}),s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsxs("h3",{className:"font-bold text-lg text-white flex items-center gap-2",children:[s.jsx("span",{className:"bg-purple-500/20 text-purple-400 w-6 h-6 rounded flex items-center justify-center text-xs",children:"3"}),"Organizacin Inteligente"]}),m&&s.jsx(X,{className:"animate-spin text-purple-500"})]}),m?s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-xs text-slate-400",children:[s.jsx("span",{children:"Procesando lotes..."}),s.jsxs("span",{children:[x.processed," completados"]})]}),s.jsx("div",{className:"h-2 bg-slate-800 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-purple-500 animate-pulse w-full"})})]}):s.jsxs("button",{onClick:Q,disabled:a||o||f,className:"w-full bg-purple-600 hover:bg-purple-500 disabled:opacity-50 text-white font-bold py-3 rounded-lg flex items-center justify-center gap-2 transition-all",children:[s.jsx(Gu,{size:18})," Organizar y Publicar Todos"]})]}),s.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-xl p-5 relative overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 left-0 bottom-0 w-1 bg-amber-500"}),s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsxs("h3",{className:"font-bold text-lg text-white flex items-center gap-2",children:[s.jsx("span",{className:"bg-amber-500/20 text-amber-400 w-6 h-6 rounded flex items-center justify-center text-xs",children:"4"}),"Rectificar Ttulos"]}),f&&s.jsx(X,{className:"animate-spin text-amber-500"})]}),s.jsxs("p",{className:"text-xs text-slate-400 mb-4 bg-slate-950 p-2 rounded border border-slate-800/50",children:["Usa esto si actualizaste la lgica de nombrado y quieres aplicarla a videos antiguos. Reanalizar las carpetas originales y actualizar los ttulos y descripciones de ",s.jsx("strong",{children:"toda la librera"}),"."]}),f?s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-xs text-slate-400",children:[s.jsx("span",{children:"Analizando librera..."}),s.jsxs("span",{children:[S," procesados"]})]}),s.jsx("div",{className:"h-2 bg-slate-800 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-amber-500 animate-pulse w-full"})})]}):s.jsxs("button",{onClick:B,disabled:a||o||m,className:"w-full bg-amber-600 hover:bg-amber-500 disabled:opacity-50 text-white font-bold py-3 rounded-lg flex items-center justify-center gap-2 transition-all",children:[s.jsx(Yi,{size:18})," Corregir Nombres (Batch Update)"]})]}),s.jsxs("div",{className:"bg-black p-4 rounded-xl border border-slate-800 font-mono text-[10px] text-slate-300 h-48 overflow-y-auto shadow-inner relative",children:[s.jsx("div",{className:"absolute top-2 right-2 opacity-50",children:s.jsx(Jp,{size:14})}),y.length===0&&s.jsx("div",{className:"text-slate-600 italic",children:"Esperando comandos..."}),y.map((U,I)=>s.jsx("div",{className:"pb-0.5 border-b border-slate-900/50 truncate",children:U},I))]}),o&&v.length>0&&s.jsx("div",{className:"fixed inset-0 z-[100] bg-black/90 backdrop-blur flex flex-col items-center justify-center p-4",children:s.jsxs("div",{className:"w-full max-w-md bg-slate-900 rounded-xl border border-slate-700 p-6 shadow-2xl",children:[s.jsxs("h3",{className:"text-white font-bold mb-4 flex items-center gap-2",children:[s.jsx(mc,{className:"text-emerald-400"})," Escaneando..."]}),s.jsx(Lh,{video:v[u],onComplete:W},v[u].id),s.jsxs("div",{className:"mt-4 space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-xs text-slate-400",children:[s.jsxs("span",{children:["Progreso: ",Math.round(u/v.length*100),"%"]}),s.jsxs("span",{children:[u+1,"/",v.length]})]}),s.jsx("div",{className:"h-2 bg-slate-800 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-emerald-500 transition-all duration-300",style:{width:`${u/v.length*100}%`}})}),s.jsx("button",{onClick:O,className:"w-full mt-4 py-2 text-red-400 hover:bg-slate-800 rounded text-xs font-bold",children:"Cancelar"})]})]})})]})}const vr=({icon:e,label:t,status:n,color:r})=>s.jsxs("div",{className:"bg-slate-900 p-4 rounded-xl border border-slate-800 flex flex-col items-center text-center gap-2",children:[s.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${r} bg-opacity-20`,children:s.jsx(e,{size:20,className:r.replace("bg-","text-")})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-slate-500 uppercase font-bold",children:t}),s.jsxs("div",{className:"text-sm font-bold text-white flex items-center justify-center gap-1",children:[n," ",s.jsx(jl,{size:12,className:"text-emerald-500"})]})]})]});function Oh(){const e=Ve(),[t,n]=p.useState(!1),[r,l]=p.useState(null),[a,i]=p.useState(10),[o,c]=p.useState("ALL"),[m,h]=p.useState(30),f=async()=>{if(confirm("Esta accin eliminar FSICAMENTE los archivos (videos, fotos, avatares) que no estn registrados en la base de datos. Continuar?")){n(!0);try{const v=await E.adminCleanupSystemFiles();e.success(`Eliminados: ${v.videos} videos, ${v.thumbnails} miniaturas, ${v.avatars} avatares, ${v.market} fotos tienda.`)}catch(v){e.error("Error: "+v.message)}finally{n(!1)}}},g=async()=>{n(!0);try{await E.adminRepairDb(),e.success("Base de datos reparada y sincronizada.")}catch(v){e.error("Error: "+v.message)}finally{n(!1)}},y=async()=>{n(!0);try{const v=await E.getSmartCleanerPreview(o,a,m);l(v)}catch(v){e.error("Error: "+v.message)}finally{n(!1)}},N=async()=>{if(!(!r||r.preview.length===0)&&confirm(`PELIGRO: Vas a eliminar permanentemente ${r.preview.length} videos. Ests absolutamente seguro?`)){n(!0);try{const v=r.preview.map(u=>u.id),C=await E.executeSmartCleaner(v);e.success(`Eliminados ${C.deleted} videos. Espacio recuperado.`),l(null)}catch(v){e.error("Error: "+v.message)}finally{n(!1)}}};return s.jsxs("div",{className:"space-y-6 animate-in fade-in",children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsx(vr,{icon:Gm,label:"Estado API",status:"Online",color:"bg-emerald-500"}),s.jsx(vr,{icon:Ys,label:"Base de Datos",status:"Conectado",color:"bg-blue-500"}),s.jsx(vr,{icon:Du,label:"Almacenamiento",status:"Escritura OK",color:"bg-purple-500"}),s.jsx(vr,{icon:sl,label:"Cola Tareas",status:"Activa",color:"bg-amber-500"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-slate-900 p-6 rounded-xl border border-slate-800",children:[s.jsxs("h3",{className:"font-bold text-white mb-4 flex items-center gap-2",children:[s.jsx(Ju,{size:18})," Herramientas Crticas"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("button",{onClick:f,disabled:t,className:"w-full p-4 bg-slate-950 border border-slate-800 hover:border-red-500/50 rounded-xl text-left group transition-all relative overflow-hidden",children:s.jsxs("div",{className:"relative z-10 flex items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 bg-red-900/20 text-red-500 rounded-full flex items-center justify-center group-hover:scale-110 transition-transform",children:s.jsx(gs,{size:24})}),s.jsxs("div",{children:[s.jsx("span",{className:"font-bold text-slate-200 block text-sm",children:"Limpieza de Archivos Hurfanos"}),s.jsx("span",{className:"text-xs text-slate-500",children:"Elimina basura del disco duro (archivos sin DB)."})]})]})}),s.jsx("button",{onClick:g,disabled:t,className:"w-full p-4 bg-slate-950 border border-slate-800 hover:border-indigo-500/50 rounded-xl text-left group transition-all relative overflow-hidden",children:s.jsxs("div",{className:"relative z-10 flex items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 bg-indigo-900/20 text-indigo-500 rounded-full flex items-center justify-center group-hover:scale-110 transition-transform",children:s.jsx(Ys,{size:24})}),s.jsxs("div",{children:[s.jsx("span",{className:"font-bold text-slate-200 block text-sm",children:"Reparacin de Base de Datos"}),s.jsx("span",{className:"text-xs text-slate-500",children:"Sincroniza tablas y corrige ndices corruptos."})]})]})})]})]}),s.jsxs("div",{className:"bg-slate-900 p-6 rounded-xl border border-slate-800 flex flex-col",children:[s.jsxs("h3",{className:"font-bold text-white mb-4 flex items-center gap-2",children:[s.jsx(lx,{size:18})," Smart Cleaner"]}),s.jsxs("p",{className:"text-xs text-slate-400 mb-4 bg-slate-950 p-2 rounded border border-slate-800",children:["Esta herramienta analiza tus videos y sugiere eliminar los que tienen ",s.jsx("strong",{children:"bajo rendimiento"})," (pocas vistas/likes) para ahorrar espacio."]}),s.jsxs("div",{className:"space-y-4 flex-1",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-[10px] uppercase font-bold text-slate-500 block mb-1",children:"Categora"}),s.jsxs("select",{value:o,onChange:v=>c(v.target.value),className:"w-full bg-slate-950 border border-slate-700 text-white text-sm rounded-lg p-2.5 outline-none focus:border-indigo-500",children:[s.jsx("option",{value:"ALL",children:"Todas las Categoras"}),Object.values(ue).map(v=>s.jsx("option",{value:v,children:v.replace("_"," ")},v))]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"text-[10px] uppercase font-bold text-slate-500 block mb-1 flex items-center gap-1",children:[s.jsx(Ji,{size:10})," Agresividad (Eliminar %)"]}),s.jsx("input",{type:"number",min:"1",max:"50",value:a,onChange:v=>i(parseInt(v.target.value)),className:"w-full bg-slate-950 border border-slate-700 text-white text-sm rounded-lg p-2.5 outline-none focus:border-indigo-500",placeholder:"%"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"text-[10px] uppercase font-bold text-slate-500 block mb-1 flex items-center gap-1",children:[s.jsx(Xn,{size:10})," Antigedad (Das)"]}),s.jsx("input",{type:"number",min:"1",value:m,onChange:v=>h(parseInt(v.target.value)),className:"w-full bg-slate-950 border border-slate-700 text-white text-sm rounded-lg p-2.5 outline-none focus:border-indigo-500",placeholder:"Das"})]})]}),r?s.jsxs("div",{className:"bg-slate-950 p-4 rounded-lg border border-red-500/30 animate-in fade-in",children:[s.jsxs("div",{className:"text-xs text-slate-400 mb-2 flex justify-between items-center",children:[s.jsxs("span",{children:["Se eliminarn ",s.jsx("strong",{children:r.preview.length})," videos."]}),s.jsxs("span",{className:"text-emerald-400 font-bold bg-emerald-900/20 px-2 py-0.5 rounded",children:["Ahorro: ",r.stats.spaceReclaimed]})]}),s.jsx("div",{className:"max-h-32 overflow-y-auto mb-3 border border-slate-800 rounded bg-black/20",children:r.preview.map(v=>s.jsxs("div",{className:"text-[10px] text-slate-500 p-2 border-b border-slate-800/50 truncate flex justify-between",children:[s.jsx("span",{children:v.title}),s.jsxs("span",{className:"text-slate-600",children:[v.views," views"]})]},v.id))}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>l(null),className:"flex-1 bg-slate-800 text-slate-300 text-xs font-bold py-2 rounded hover:text-white",children:"Cancelar"}),s.jsx("button",{onClick:N,className:"flex-1 bg-red-600 hover:bg-red-500 text-white text-xs font-bold py-2 rounded shadow-lg shadow-red-900/20",children:"Confirmar Eliminacin"})]})]}):s.jsx("button",{onClick:y,disabled:t,className:"w-full bg-indigo-600 hover:bg-indigo-500 text-white font-bold py-3 rounded-lg transition-colors mt-auto",children:"Analizar Candidatos"})]})]})]})]})}function Rh(){const[e,t]=p.useState(null),[n,r]=p.useState(!1),[l,a]=p.useState(null),[i,o]=p.useState(20),[c,m]=p.useState(10),[h,f]=p.useState(25),[g,y]=p.useState(50),[N,v]=p.useState(5),[C,u]=p.useState(50),[d,x]=p.useState(.5),[j,S]=p.useState(200);p.useEffect(()=>{E.getSystemSettings().then(B=>t(B)),b()},[]);const b=async()=>{try{const B=await E.getRealStats();a(B)}catch(B){console.error(B)}};p.useEffect(()=>{n&&l&&(o(l.userCount||20),v(l.adminVideoSales||5),y(l.avgDeposit||50))},[n,l]);const P=(()=>{const J=[];let U=i;const I=((e==null?void 0:e.videoCommission)||20)/100,V=((e==null?void 0:e.marketCommission)||25)/100,z=(I+V)/2;let k=0;for(let A=0;A<12;A++){U=U*(1+c/100);const R=U*d,q=j+R,me=U*(h/100)*g,ge=U/100*N*C,ke=U*20*z,Ke=ge+ke,It=Ke-q;k+=It,J.push({month:A+1,users:Math.round(U),revenue:Math.round(Ke),cost:Math.round(q),profit:Math.round(It),deposits:Math.round(me)})}return{data:J,totalProfit:k}})(),_=P.data[11],O=B=>{const J=Math.max(...P.data.map(U=>Math.max(U.revenue,U.cost)*1.1));return J===0?"":P.data.map((U,I)=>{const V=I/11*100,z=100-U[B]/J*100;return`${V},${z}`}).join(" ")},W=O("revenue"),Q=O("cost");return s.jsx("div",{className:"space-y-6 animate-in fade-in pb-20",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"bg-slate-900 p-6 rounded-xl border border-slate-800 space-y-5",children:[s.jsxs("div",{className:"flex justify-between items-center border-b border-slate-800 pb-2",children:[s.jsxs("h3",{className:"font-bold text-white flex items-center gap-2",children:[s.jsx(ix,{size:18})," Simulador"]}),s.jsxs("button",{onClick:()=>r(!n),className:`text-xs px-2 py-1 rounded border transition-colors flex items-center gap-1 ${n?"bg-indigo-600 border-indigo-500 text-white":"bg-slate-800 border-slate-700 text-slate-400"}`,children:[s.jsx(Ys,{size:12})," ",n?"Datos Reales":"Manual"]})]}),s.jsx("div",{className:"space-y-4",children:[{label:"Usuarios Iniciales",val:i,set:o,max:1e4,suffix:"",step:10},{label:"Crecimiento Mensual",val:c,set:m,max:50,suffix:"%"},{label:"Tasa Conversin (Pagos)",val:h,set:f,max:100,suffix:"%"}].map((B,J)=>s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between mb-1",children:[s.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:B.label}),s.jsxs("span",{className:"text-xs font-bold text-indigo-400",children:[B.val,B.suffix]})]}),s.jsx("input",{type:"range",min:"0",max:B.max,step:B.step||1,value:B.val,onChange:U=>B.set(parseInt(U.target.value)),className:"w-full accent-indigo-500 h-2 bg-slate-800 rounded-lg appearance-none cursor-pointer"})]},J))}),s.jsx("div",{className:"h-px bg-slate-800 my-4"}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"text-xs font-bold text-white uppercase mb-2",children:"Ingresos Administrador"}),[{label:"Ventas Admin / 100 usuarios",val:N,set:v,max:50,suffix:" videos"},{label:"Precio Promedio Video",val:C,set:u,max:500,suffix:"$"}].map((B,J)=>s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between mb-1",children:[s.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase",children:B.label}),s.jsxs("span",{className:"text-[10px] font-bold text-emerald-400",children:[B.val,B.suffix]})]}),s.jsx("input",{type:"range",min:"0",max:B.max,value:B.val,onChange:U=>B.set(parseInt(U.target.value)),className:"w-full accent-emerald-500 h-1.5 bg-slate-800 rounded-lg appearance-none cursor-pointer"})]},J))]})]}),s.jsxs("div",{className:"lg:col-span-2 bg-slate-900 p-6 rounded-xl border border-slate-800 flex flex-col justify-between relative overflow-hidden",children:[s.jsxs("div",{className:"relative z-10 flex justify-between items-start mb-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-white text-lg",children:"Proyeccin a 12 Meses"}),s.jsx("p",{className:"text-sm text-slate-400",children:n?"Basado en mtricas actuales de la plataforma.":"Basado en parmetros manuales."})]}),s.jsxs("div",{className:"text-right bg-emerald-900/20 p-3 rounded-xl border border-emerald-500/20 backdrop-blur-sm",children:[s.jsxs("div",{className:"text-3xl font-black text-emerald-400",children:["+",P.totalProfit.toLocaleString("en-US",{style:"currency",currency:"USD",maximumFractionDigits:0})]}),s.jsx("div",{className:"text-xs text-emerald-600 font-bold uppercase",children:"Profit Neto Acumulado"})]})]}),s.jsx("div",{className:"relative h-64 w-full border-b border-l border-slate-700 bg-slate-950/30 rounded-lg overflow-hidden",children:s.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 100 100",preserveAspectRatio:"none",children:[s.jsxs("defs",{children:[s.jsxs("linearGradient",{id:"gradRevenue",x1:"0",x2:"0",y1:"0",y2:"1",children:[s.jsx("stop",{offset:"0%",stopColor:"#10b981",stopOpacity:"0.4"}),s.jsx("stop",{offset:"100%",stopColor:"#10b981",stopOpacity:"0"})]}),s.jsxs("linearGradient",{id:"gradCost",x1:"0",x2:"0",y1:"0",y2:"1",children:[s.jsx("stop",{offset:"0%",stopColor:"#ef4444",stopOpacity:"0.4"}),s.jsx("stop",{offset:"100%",stopColor:"#ef4444",stopOpacity:"0"})]})]}),[25,50,75].map(B=>s.jsx("line",{x1:"0",y1:B,x2:"100",y2:B,stroke:"#334155",strokeWidth:"0.2",strokeDasharray:"2"},B)),s.jsx("path",{d:`M0,100 ${W.split(" ").map(B=>"L"+B).join(" ")} L100,100 Z`,fill:"url(#gradRevenue)"}),s.jsx("polyline",{points:W,fill:"none",stroke:"#10b981",strokeWidth:"2",vectorEffect:"non-scaling-stroke"}),s.jsx("path",{d:`M0,100 ${Q.split(" ").map(B=>"L"+B).join(" ")} L100,100 Z`,fill:"url(#gradCost)"}),s.jsx("polyline",{points:Q,fill:"none",stroke:"#ef4444",strokeWidth:"2",strokeDasharray:"4",vectorEffect:"non-scaling-stroke"})]})}),s.jsxs("div",{className:"flex justify-between text-[10px] text-slate-500 mt-2 uppercase font-bold",children:[s.jsx("span",{children:"Mes 1"}),s.jsx("span",{children:"Mes 6"}),s.jsx("span",{children:"Mes 12"})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-6 pt-6 border-t border-slate-800 text-center md:text-left",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-slate-500 uppercase font-bold",children:"Usuarios (Mes 12)"}),s.jsx("div",{className:"text-xl font-bold text-white",children:_.users.toLocaleString()})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-slate-500 uppercase font-bold",children:"Ingresos (Mes 12)"}),s.jsxs("div",{className:"text-xl font-bold text-emerald-400",children:["$",_.revenue.toLocaleString()]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-slate-500 uppercase font-bold",children:"Flujo Caja (Depositos)"}),s.jsxs("div",{className:"text-xl font-bold text-blue-400",children:["$",_.deposits.toLocaleString()]})]})]})]})]})})}function Dh(){const e=Ve(),t=mt(),[n,r]=p.useState({host:"",port:21,user:"",pass:"",rootPath:"/"}),[l,a]=p.useState([]),[i,o]=p.useState(!1),[c,m]=p.useState(null),[h,f]=p.useState("/"),[g,y]=p.useState(!1);p.useEffect(()=>{E.getSystemSettings().then(d=>{d.ftpSettings&&(r({host:d.ftpSettings.host||"",port:d.ftpSettings.port||21,user:d.ftpSettings.user||"",pass:d.ftpSettings.pass||"",rootPath:d.ftpSettings.rootPath||"/"}),f(d.ftpSettings.rootPath||"/"))})},[]);const N=async()=>{try{const d=await E.getSystemSettings();await E.updateSystemSettings({...d,ftpSettings:n}),e.success("Configuracin FTP guardada")}catch(d){e.error("Error al guardar: "+d.message)}},v=async(d=h)=>{o(!0);try{await N();const x=await E.listFtpFiles(d);a(x),f(d)}catch(x){e.error("Error FTP: "+x.message)}finally{o(!1)}},C=async d=>{if(!c){m(d.name);try{await E.importFtpFile(d.path),e.success(`${d.name} aadido al ndice.`)}catch(x){e.error("Error al indexar: "+x.message)}finally{m(null)}}},u=async()=>{if(confirm(`Esto escanear recursivamente todas las carpetas a partir de '${h}' y agregar todos los videos encontrados. Esto puede tomar varios minutos. Continuar?`)){y(!0);try{const d=await E.scanFtpRecursive(h);e.success(`Escaneo completado. Encontrados: ${d.scanned}. Aadidos: ${d.added}.`),d.added>0&&confirm(`${d.added} nuevos videos indexados. Ir a Librera para procesar miniaturas?`)&&t("/admin")}catch(d){e.error("Error Escaneo: "+d.message)}finally{y(!1)}}};return s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 animate-in fade-in",children:[s.jsxs("div",{className:"bg-slate-900 p-6 rounded-xl border border-slate-800 h-fit",children:[s.jsxs("h3",{className:"font-bold text-white mb-4 flex items-center gap-2",children:[s.jsx(Wa,{size:18})," Conexin FTP"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Host"}),s.jsx("input",{type:"text",value:n.host,onChange:d=>r({...n,host:d.target.value}),className:"w-full bg-slate-950 border border-slate-700 rounded-lg p-2.5 text-white outline-none focus:border-indigo-500"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Puerto"}),s.jsx("input",{type:"number",value:n.port,onChange:d=>r({...n,port:parseInt(d.target.value)}),className:"w-full bg-slate-950 border border-slate-700 rounded-lg p-2.5 text-white outline-none focus:border-indigo-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Ruta Inicial"}),s.jsx("input",{type:"text",value:n.rootPath,onChange:d=>r({...n,rootPath:d.target.value}),className:"w-full bg-slate-950 border border-slate-700 rounded-lg p-2.5 text-white outline-none focus:border-indigo-500"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Usuario"}),s.jsx("input",{type:"text",value:n.user,onChange:d=>r({...n,user:d.target.value}),className:"w-full bg-slate-950 border border-slate-700 rounded-lg p-2.5 text-white outline-none focus:border-indigo-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Contrasea"}),s.jsx("input",{type:"password",value:n.pass,onChange:d=>r({...n,pass:d.target.value}),className:"w-full bg-slate-950 border border-slate-700 rounded-lg p-2.5 text-white outline-none focus:border-indigo-500"})]}),s.jsxs("div",{className:"flex gap-2 pt-2",children:[s.jsxs("button",{onClick:N,className:"flex-1 bg-slate-800 hover:bg-slate-700 text-white font-bold py-2 rounded-lg flex items-center justify-center gap-2 transition-colors",children:[s.jsx(Js,{size:16})," Guardar"]}),s.jsxs("button",{onClick:()=>v(n.rootPath),className:"flex-1 bg-indigo-600 hover:bg-indigo-500 text-white font-bold py-2 rounded-lg flex items-center justify-center gap-2 shadow-lg transition-colors",children:[i?s.jsx(Ut,{className:"animate-spin",size:16}):s.jsx(Du,{size:16})," Conectar"]})]})]})]}),s.jsxs("div",{className:"lg:col-span-2 bg-slate-900 rounded-xl border border-slate-800 flex flex-col h-[600px]",children:[s.jsxs("div",{className:"p-4 border-b border-slate-800 bg-slate-950 flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[s.jsxs("div",{className:"font-mono text-xs text-slate-400 break-all flex items-center gap-2 flex-1",children:[s.jsx(Yl,{size:14,className:"text-amber-500"})," ",h]}),s.jsxs("div",{className:"flex gap-2 w-full md:w-auto",children:[l.length>0&&s.jsxs("button",{onClick:u,disabled:g,className:"bg-emerald-600 hover:bg-emerald-500 disabled:opacity-50 text-white px-3 py-1.5 rounded-lg text-xs font-bold flex items-center gap-2 shadow-lg shadow-emerald-900/20",children:[g?s.jsx(Ut,{className:"animate-spin",size:14}):s.jsx(Gi,{size:14}),g?"Escaneando...":"Escanear Recursivo"]}),s.jsx("button",{onClick:()=>v(h),className:"p-1.5 hover:bg-slate-800 rounded text-slate-400 hover:text-white bg-slate-800",children:s.jsx(Ut,{size:14})})]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-2",children:l.length===0?s.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-500 opacity-50",children:[s.jsx(Wa,{size:48,className:"mb-4"}),s.jsx("p",{children:"No hay archivos o no conectado."})]}):s.jsxs("div",{className:"space-y-1",children:[h!=="/"&&s.jsxs("div",{onClick:()=>v(h.split("/").slice(0,-1).join("/")||"/"),className:"flex items-center gap-3 p-3 rounded-lg hover:bg-slate-800 cursor-pointer text-slate-400",children:[s.jsx(Yl,{size:18,className:"text-slate-500"}),s.jsx("span",{className:"text-sm",children:".."})]}),l.map((d,x)=>s.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg hover:bg-slate-800 group",children:[s.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0 cursor-pointer",onClick:()=>d.type==="dir"?v(d.path):null,children:[d.type==="dir"?s.jsx(Yl,{size:18,className:"text-amber-500 shrink-0"}):s.jsx(Ou,{size:18,className:"text-indigo-400 shrink-0"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"text-sm text-slate-200 truncate font-medium",children:d.name}),d.type==="file"&&s.jsx("div",{className:"text-[10px] text-slate-500",children:d.size})]})]}),d.type==="file"&&s.jsxs("button",{onClick:()=>C(d),disabled:!!c,className:`px-3 py-1.5 rounded-md text-xs font-bold flex items-center gap-1 transition-colors ${c===d.name?"bg-emerald-500/20 text-emerald-400":"bg-slate-700 text-white hover:bg-indigo-600"}`,children:[c===d.name?s.jsx(Ut,{size:12,className:"animate-spin"}):s.jsx(Rx,{size:12}),c===d.name?"Indexando...":"Indexar"]}),d.type==="dir"&&s.jsx("div",{className:"text-slate-600",children:s.jsx(qi,{size:14})})]},x))]})}),l.length>0&&s.jsx("div",{className:"p-3 bg-slate-950/50 text-[10px] text-slate-500 text-center border-t border-slate-800",children:"Nota: Usa 'Escanear Recursivo' para aadir carpetas enteras. Luego ve a Librera - Paso 2."})]})]})}function $h(){const e=Ve(),[t,n]=p.useState([]),[r,l]=p.useState(!0),[a,i]=p.useState("ALL"),o=async()=>{l(!0);try{const f=await E.getRequests("ALL");n(f)}catch(f){console.error(f)}finally{l(!1)}};p.useEffect(()=>{o()},[]);const c=async(f,g)=>{try{await E.updateRequestStatus(f,g),e.success("Estado actualizado"),o()}catch(y){e.error(y.message)}},m=async f=>{if(confirm("Eliminar esta peticin?"))try{await E.deleteRequest(f),n(g=>g.filter(y=>y.id!==f)),e.success("Eliminado")}catch(g){e.error(g.message)}},h=t.filter(f=>a==="ALL"||f.status===a);return s.jsxs("div",{className:"space-y-6 animate-in fade-in",children:[s.jsxs("div",{className:"flex justify-between items-center bg-slate-900 p-4 rounded-xl border border-slate-800",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Zn,{size:24,className:"text-purple-400"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-white",children:"Peticiones de Contenido"}),s.jsx("p",{className:"text-xs text-slate-400",children:"Lo que los usuarios quieren ver"})]})]}),s.jsxs("div",{className:"flex gap-2",children:[["ALL","PENDING","COMPLETED"].map(f=>s.jsx("button",{onClick:()=>i(f),className:`px-3 py-1.5 rounded-lg text-xs font-bold transition-all ${a===f?"bg-purple-600 text-white":"bg-slate-800 text-slate-400 hover:text-white"}`,children:f==="ALL"?"Todas":f},f)),s.jsx("button",{onClick:o,className:"p-2 bg-slate-800 text-slate-400 hover:text-white rounded-lg",children:s.jsx(Ut,{size:14})})]})]}),s.jsx("div",{className:"bg-slate-900 rounded-xl border border-slate-800 overflow-hidden",children:s.jsxs("table",{className:"w-full text-sm text-left",children:[s.jsx("thead",{className:"text-xs text-slate-500 uppercase bg-slate-950/50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3",children:"Usuario"}),s.jsx("th",{className:"px-4 py-3",children:"Peticin"}),s.jsx("th",{className:"px-4 py-3",children:"Estado"}),s.jsx("th",{className:"px-4 py-3 text-right",children:"Acciones"})]})}),s.jsx("tbody",{className:"divide-y divide-slate-800",children:h.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:4,className:"text-center py-8 text-slate-500",children:"No hay peticiones"})}):h.map(f=>s.jsxs("tr",{className:"hover:bg-slate-800/50",children:[s.jsx("td",{className:"px-4 py-3 font-bold text-white",children:f.username||"Usuario"}),s.jsxs("td",{className:"px-4 py-3 text-slate-300",children:[f.query,s.jsx("div",{className:"text-[10px] text-slate-500 mt-0.5",children:new Date(f.createdAt*1e3).toLocaleString()})]}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("span",{className:`px-2 py-1 rounded text-[10px] font-bold ${f.status==="COMPLETED"?"bg-emerald-500/20 text-emerald-400":f.status==="PENDING"?"bg-amber-500/20 text-amber-400":"bg-slate-700 text-slate-300"}`,children:f.status})}),s.jsx("td",{className:"px-4 py-3 text-right",children:s.jsxs("div",{className:"flex justify-end gap-2",children:[f.status!=="COMPLETED"&&s.jsx("button",{onClick:()=>c(f.id,"COMPLETED"),className:"p-1.5 bg-emerald-900/30 text-emerald-400 rounded hover:bg-emerald-900/50",title:"Marcar completado",children:s.jsx(St,{size:16})}),f.status!=="FAILED"&&s.jsx("button",{onClick:()=>c(f.id,"FAILED"),className:"p-1.5 bg-red-900/30 text-red-400 rounded hover:bg-red-900/50",title:"Marcar fallido",children:s.jsx(lt,{size:16})}),s.jsx("button",{onClick:()=>m(f.id),className:"p-1.5 text-slate-500 hover:text-red-400 transition-colors",children:s.jsx(gs,{size:16})})]})})]},f.id))})]})})]})}function Uh(){const[e,t]=p.useState("USERS");return s.jsxs("div",{className:"space-y-6 pb-24 px-2 md:px-0",children:[s.jsx("div",{className:"flex gap-2 overflow-x-auto bg-slate-900 p-2 rounded-xl scrollbar-hide",children:[{id:"USERS",icon:xs,label:"Users"},{id:"FINANCE",icon:er,label:"Finance"},{id:"MARKET",icon:Qp,label:"Market"},{id:"REQUESTS",icon:Zn,label:"Requests"},{id:"LIBRARY",icon:Ys,label:"Library"},{id:"FTP",icon:Wa,label:"FTP"},{id:"ANALYTICS",icon:Cn,label:"Stats"},{id:"CONFIG",icon:Ki,label:"Config"},{id:"MAINTENANCE",icon:Ju,label:"Tools"}].map(n=>s.jsxs("button",{onClick:()=>t(n.id),className:`px-4 py-2 rounded-lg font-bold text-sm whitespace-nowrap flex items-center gap-2 transition-colors ${e===n.id?"bg-indigo-600 text-white":"text-slate-400 hover:text-white"}`,children:[s.jsx(n.icon,{size:16})," ",n.label]},n.id))}),s.jsxs("div",{className:"min-h-[500px]",children:[e==="USERS"&&s.jsx(zh,{}),e==="FINANCE"&&s.jsx(Ih,{}),e==="MARKET"&&s.jsx(Th,{}),e==="REQUESTS"&&s.jsx($h,{}),e==="CONFIG"&&s.jsx(Mh,{}),e==="LIBRARY"&&s.jsx(Ah,{}),e==="FTP"&&s.jsx(Dh,{}),e==="MAINTENANCE"&&s.jsx(Oh,{}),e==="ANALYTICS"&&s.jsx(Rh,{})]})]})}const Fh=is.memo(({video:e,isActive:t,shouldLoad:n,preload:r})=>{const{user:l,refreshUser:a}=we(),i=p.useRef(null),[o,c]=p.useState(!1),[m,h]=p.useState(!1),[f,g]=p.useState(!1),[y,N]=p.useState(!1),[v,C]=p.useState(null),[u,d]=p.useState([]),[x,j]=p.useState(!1),[S,b]=p.useState(""),[w,P]=p.useState(e.likes),[_,O]=p.useState(!1);p.useEffect(()=>{l&&n&&(E.getInteraction(l.id,e.id).then(C),E.hasPurchased(l.id,e.id).then(c),t&&(E.getComments(e.id).then(d),E.checkSubscription(l.id,e.creatorId).then(O).catch(()=>O(!1))))},[l,e.id,e.creatorId,n,t]),p.useEffect(()=>{if(t&&!o&&!f&&l&&e.price>0){const k=Number(e.price),A=Number(l.autoPurchaseLimit),R=Number(l.balance);k<=A&&R>=k&&(g(!0),E.purchaseVideo(l.id,e.id).then(()=>{c(!0),a()}).catch(q=>console.error("Auto-buy failed",q)).finally(()=>g(!1)))}},[t,o,f,l,e.price,e.id]),p.useEffect(()=>{const k=i.current;if(k){if(t){if(o){const A=k.play();A!==void 0&&A.then(()=>{h(k.muted),N(!1)}).catch(()=>{k.muted=!0,h(!0),k.play().catch(()=>{})})}}else k.pause(),k.currentTime=0;return()=>{!n&&k&&(k.pause(),k.removeAttribute("src"),k.load())}}},[t,o,n]);const W=async()=>{if(l){g(!0);try{await E.purchaseVideo(l.id,e.id),a(),c(!0)}catch{alert("Insufficient funds or error.")}finally{g(!1)}}},Q=async k=>{if(!l)return;const A=await E.rateVideo(l.id,e.id,k);C(A),A.newLikeCount!==void 0&&P(A.newLikeCount)},B=async()=>{if(!l)return;const k=_;O(!k);try{const A=await E.toggleSubscribe(l.id,e.creatorId);O(A.isSubscribed)}catch{O(k)}},J=async()=>{const k=`${window.location.origin}/#/watch/${e.id}`;if(navigator.share)try{await navigator.share({title:e.title,text:e.description,url:k})}catch{}else navigator.clipboard.writeText(k),alert("Link copied!")},U=()=>{i.current&&(i.current.muted=!i.current.muted,h(i.current.muted))},I=async k=>{if(k.preventDefault(),!l||!S.trim())return;const A=await E.addComment(l.id,e.id,S);d(R=>[A,...R]),b("")};if(!n)return s.jsxs("div",{className:"w-full h-full snap-start snap-always shrink-0 bg-black flex items-center justify-center relative",children:[s.jsx("img",{src:e.thumbnailUrl,className:"absolute inset-0 w-full h-full object-cover opacity-30 blur-md"}),s.jsx(X,{className:"animate-spin text-slate-500"})]});const z=(!!e.isLocal||e.isLocal===1||e.isLocal==="1")&&e.videoUrl&&!e.videoUrl.includes("action=stream")?`api/index.php?action=stream&id=${e.id}`:e.videoUrl;return s.jsxs("div",{className:"relative w-full h-[100dvh] md:h-full snap-start snap-always shrink-0 flex items-center justify-center bg-black overflow-hidden video-container",children:[s.jsx("div",{className:"absolute inset-0 z-0 bg-black",children:o?s.jsxs(s.Fragment,{children:[s.jsx("video",{ref:i,src:z,poster:e.thumbnailUrl,className:"w-full h-full object-cover",loop:!0,playsInline:!0,preload:r,muted:m,onClick:U,onWaiting:()=>N(!0),onPlaying:()=>N(!1),crossOrigin:"anonymous",onTimeUpdate:k=>{k.currentTarget.currentTime/k.currentTarget.duration>.3&&v&&!v.isWatched&&l&&(E.markWatched(l.id,e.id),C({...v,isWatched:!0}))}}),y&&t&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:s.jsx("div",{className:"bg-black/20 backdrop-blur-sm p-4 rounded-full",children:s.jsx(X,{className:"animate-spin text-white w-8 h-8"})})})]}):s.jsxs("div",{className:"w-full h-full relative",children:[s.jsx("img",{src:e.thumbnailUrl,className:"w-full h-full object-cover blur-sm brightness-50"}),s.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center z-20",children:s.jsxs("div",{className:"bg-black/40 backdrop-blur-xl p-8 rounded-2xl border border-white/10 text-center mx-4 max-w-sm w-full",children:[f?s.jsx(Ut,{className:"mx-auto text-indigo-400 mb-4 animate-spin",size:48}):s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:"text-4xl font-black text-amber-400 mb-2",children:e.price}),s.jsx("div",{className:"text-xs uppercase font-bold text-amber-200 tracking-widest mb-6",children:"Saldo Required"})]}),!f&&s.jsx("button",{onClick:W,disabled:f,className:"w-full bg-white text-black font-bold py-3 px-8 rounded-full flex items-center justify-center gap-2 transition-transform active:scale-95 shadow-xl",children:"Unlock Now"})]})})]})}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/30 via-transparent to-black/90 pointer-events-none z-10"}),o&&s.jsx("button",{onClick:U,className:"absolute top-16 right-4 z-30 bg-black/40 backdrop-blur-md p-2 rounded-full text-white hover:bg-black/60 transition-colors",children:m?s.jsx(uh,{size:20}):s.jsx(ch,{size:20})}),s.jsxs("div",{className:"absolute right-2 bottom-20 z-30 flex flex-col items-center gap-5 pb-safe",children:[s.jsxs(he,{to:`/channel/${e.creatorId}`,className:"relative group mb-2",children:[s.jsx("div",{className:"w-12 h-12 rounded-full border-2 border-white p-0.5 overflow-hidden bg-black transition-transform active:scale-90 shadow-lg",children:e.creatorAvatarUrl?s.jsx("img",{src:e.creatorAvatarUrl,className:"w-full h-full rounded-full object-cover"}):s.jsx("div",{className:"w-full h-full rounded-full bg-indigo-600 flex items-center justify-center font-bold text-white",children:e.creatorName[0]})}),!_&&s.jsx("div",{className:"absolute -bottom-2 left-1/2 -translate-x-1/2 bg-red-600 text-white rounded-full p-0.5 border border-black shadow-sm transform scale-110 cursor-pointer",onClick:k=>{k.preventDefault(),k.stopPropagation(),B()},children:s.jsx(Wn,{size:12,strokeWidth:4})})]}),s.jsxs("div",{className:"flex flex-col items-center gap-1",children:[s.jsx("button",{onClick:()=>Q("like"),className:`w-12 h-12 rounded-full flex items-center justify-center backdrop-blur-md bg-black/40 transition-all active:scale-90 ${v!=null&&v.liked?"text-red-500":"text-white"}`,children:s.jsx(Qi,{size:26,fill:v!=null&&v.liked?"currentColor":"white",fillOpacity:v!=null&&v.liked?1:.2,strokeWidth:v!=null&&v.liked?0:2})}),s.jsx("span",{className:"text-xs font-bold text-white drop-shadow-md",children:w})]}),s.jsxs("div",{className:"flex flex-col items-center gap-1",children:[s.jsx("button",{onClick:()=>Q("dislike"),className:`w-12 h-12 rounded-full flex items-center justify-center backdrop-blur-md bg-black/40 transition-all active:scale-90 ${v!=null&&v.disliked?"text-red-500":"text-white"}`,children:s.jsx(Wu,{size:26,fill:v!=null&&v.disliked?"currentColor":"white",fillOpacity:v!=null&&v.disliked?1:.2})}),s.jsx("span",{className:"text-xs font-bold text-white drop-shadow-md",children:"Dislike"})]}),s.jsxs("div",{className:"flex flex-col items-center gap-1",children:[s.jsx("button",{onClick:()=>j(!0),className:"w-12 h-12 rounded-full flex items-center justify-center backdrop-blur-md bg-black/40 text-white transition-all active:scale-90",children:s.jsx(Fu,{size:26,fill:"white",fillOpacity:.2})}),s.jsx("span",{className:"text-xs font-bold text-white drop-shadow-md",children:u.length})]}),s.jsxs("div",{className:"flex flex-col items-center gap-1",children:[s.jsx("button",{onClick:J,className:"w-12 h-12 rounded-full flex items-center justify-center backdrop-blur-md bg-black/40 text-white transition-all active:scale-90",children:s.jsx(Tp,{size:26,fill:"white",fillOpacity:.2})}),s.jsx("span",{className:"text-xs font-bold text-white drop-shadow-md",children:"Share"})]})]}),s.jsx("div",{className:"absolute bottom-4 left-3 right-16 z-20 text-white flex flex-col items-start text-left pointer-events-none pb-safe",children:s.jsxs("div",{className:"pointer-events-auto w-full",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsxs(he,{to:`/channel/${e.creatorId}`,className:"font-bold text-base md:text-lg drop-shadow-md hover:underline",children:["@",e.creatorName]}),s.jsx("button",{onClick:B,className:`px-3 py-1 rounded-full text-xs font-bold transition-all border ${_?"bg-transparent text-white/80 border-white/40":"bg-red-600 text-white border-transparent"}`,children:_?"Subscribed":"Subscribe"})]}),s.jsx("h2",{className:"text-sm md:text-base font-semibold leading-tight mb-1 drop-shadow-md",children:e.title}),s.jsx("p",{className:"text-xs md:text-sm text-slate-100 line-clamp-2 opacity-90 drop-shadow-sm font-medium pr-4",children:e.description})]})}),x&&s.jsxs("div",{className:"fixed inset-0 z-[100] flex items-end bg-black/60 backdrop-blur-sm animate-in fade-in duration-200",children:[s.jsxs("div",{className:"w-full bg-slate-900 rounded-t-2xl h-[65%] flex flex-col border-t border-slate-700 shadow-2xl animate-in slide-in-from-bottom duration-300",onClick:k=>k.stopPropagation(),children:[s.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-slate-800",children:[s.jsxs("h3",{className:"font-bold text-white",children:["Comments (",u.length,")"]}),s.jsx("button",{onClick:()=>j(!1),className:"text-slate-400 hover:text-white bg-slate-800 p-1.5 rounded-full",children:s.jsx(lt,{size:20})})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:u.map(k=>s.jsxs("div",{className:"flex gap-3",children:[s.jsx(he,{to:`/channel/${k.userId}`,className:"w-8 h-8 rounded-full bg-slate-800 shrink-0 border border-slate-700 overflow-hidden",children:k.userAvatarUrl?s.jsx("img",{src:k.userAvatarUrl,className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center text-xs font-bold text-slate-400",children:k.username[0]})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-baseline gap-2",children:[s.jsx(he,{to:`/channel/${k.userId}`,className:"text-xs font-bold text-slate-400 hover:text-white",children:k.username}),s.jsx("span",{className:"text-[10px] text-slate-600",children:new Date(k.timestamp*1e3).toLocaleDateString()})]}),s.jsx("p",{className:"text-sm text-slate-200 mt-0.5",children:k.text})]})]},k.id))}),s.jsxs("form",{onSubmit:I,className:"p-4 bg-slate-950 border-t border-slate-800 flex gap-2 pb-safe",children:[s.jsx("input",{type:"text",value:S,onChange:k=>b(k.target.value),className:"flex-1 bg-slate-900 border border-slate-700 rounded-full px-4 py-2.5 text-sm text-white focus:outline-none focus:border-indigo-500 transition-colors",placeholder:"Add a comment..."}),s.jsx("button",{type:"submit",disabled:!S.trim(),className:"bg-indigo-600 hover:bg-indigo-500 text-white w-10 h-10 rounded-full flex items-center justify-center disabled:opacity-50 transition-colors",children:s.jsx(Vu,{size:18})})]})]}),s.jsx("div",{className:"absolute inset-0 -z-10",onClick:()=>j(!1)})]})]})},(e,t)=>e.isActive===t.isActive&&e.shouldLoad===t.shouldLoad&&e.video.id===t.video.id);function Vh(){const[e,t]=p.useState([]),[n,r]=p.useState(0),l=p.useRef(null);return p.useEffect(()=>{const a=localStorage.getItem("sp_cache_get_videos");if(a)try{const i=JSON.parse(a);if(i.data){const o=i.data.filter(c=>c.duration<180&&c.category!=="PENDING"&&c.category!=="PROCESSING").sort(()=>Math.random()-.5);t(o)}}catch{}E.getAllVideos().then(i=>{const o=i.filter(c=>c.duration<180&&c.category!=="PENDING"&&c.category!=="PROCESSING").sort(()=>Math.random()-.5);t(c=>c.length===0?o:c)})},[]),p.useEffect(()=>{const a=l.current;if(!a||e.length===0)return;const i=new IntersectionObserver(o=>{o.forEach(c=>{if(c.isIntersecting){const m=Number(c.target.dataset.index);isNaN(m)||r(m)}})},{root:a,threshold:.55});return Array.from(a.children).forEach(o=>i.observe(o)),()=>i.disconnect()},[e]),s.jsxs("div",{ref:l,className:"w-full h-full overflow-y-scroll snap-y snap-mandatory bg-black scrollbar-hide relative",style:{scrollBehavior:"smooth"},children:[s.jsx("div",{className:"fixed top-4 left-4 z-50",children:s.jsx(he,{to:"/",className:"p-3 bg-black/40 backdrop-blur-md rounded-full text-white hover:bg-black/60 transition-colors flex items-center justify-center",children:s.jsx(Bi,{size:24})})}),e.map((a,i)=>{const c=Math.abs(i-n)<=2,m=i===n,h=i===n+1,f=m?"auto":h?"metadata":"none";return s.jsx("div",{"data-index":i,className:"w-full h-full snap-start snap-always",children:s.jsx(Fh,{video:a,isActive:m,shouldLoad:c,preload:f})},a.id)}),e.length===0&&s.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-500 gap-4",children:[s.jsx(Vp,{size:48,className:"opacity-50"}),s.jsx("p",{children:"No shorts available."}),s.jsx(he,{to:"/upload",className:"text-indigo-400 hover:underline",children:"Upload a video"})]})]})}function Bh(){const e=mt(),[t,n]=p.useState("DB_CONFIG"),[r,l]=p.useState(!1),[a,i]=p.useState([]),[o,c]=p.useState({host:"127.0.0.1",port:"3306",username:"root",password:"",database:"streampay_db"}),[m,h]=p.useState({username:"admin",password:"",confirmPassword:""}),[f,g]=p.useState(""),y=async d=>{d.preventDefault(),l(!0),g("");try{await E.verifyDbConnection(o)&&n("ADMIN_CREATION")}catch(x){let j=x.message||"Could not connect to MariaDB server.";(j.includes("2002")||j.includes("No such file"))&&(j+=" Try changing Host to 127.0.0.1"),g(j)}finally{l(!1)}},N=()=>{window.confirm(`Switching to Demo Mode will use your browser's local storage instead of a real database. This is perfect for testing the UI.

Proceed?`)&&(E.enableDemoMode(),e("/login"))},v=d=>{if(d.preventDefault(),!m.username||!m.password){g("Username and password are required");return}if(m.password!==m.confirmPassword){g("Passwords do not match");return}C()},C=async()=>{n("INSTALLING");const d=["Connecting to MariaDB @ "+o.host+"...","Connection established successfully.","Checking database "+o.database+"...","Database created.","Creating table: users...","Creating table: videos...","Creating table: transactions...","Creating table: interactions...","Tables created successfully.","Seeding initial content data...","Creating Administrator account ("+m.username+")...","System permissions updated.","Installation complete."];for(let x=0;x<d.length;x++)await new Promise(j=>setTimeout(j,400)),i(j=>[...j,d[x]]);try{await E.initializeSystem(o,{username:m.username,password:m.password}),n("DONE")}catch(x){n("DB_CONFIG"),g("Installation failed: "+x.message)}},u=()=>s.jsxs("div",{className:"flex items-center justify-center gap-4 mb-8",children:[s.jsxs("div",{className:`flex items-center gap-2 ${t==="DB_CONFIG"?"text-indigo-400 font-bold":"text-slate-500"}`,children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center border ${t==="DB_CONFIG"?"bg-indigo-500/20 border-indigo-500":"bg-slate-900 border-slate-700"}`,children:"1"}),s.jsx("span",{className:"hidden sm:inline",children:"Database"})]}),s.jsx("div",{className:"w-8 h-px bg-slate-800"}),s.jsxs("div",{className:`flex items-center gap-2 ${t==="ADMIN_CREATION"?"text-indigo-400 font-bold":"text-slate-500"}`,children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center border ${t==="ADMIN_CREATION"?"bg-indigo-500/20 border-indigo-500":"bg-slate-900 border-slate-700"}`,children:"2"}),s.jsx("span",{className:"hidden sm:inline",children:"Admin"})]}),s.jsx("div",{className:"w-8 h-px bg-slate-800"}),s.jsxs("div",{className:`flex items-center gap-2 ${t==="INSTALLING"||t==="DONE"?"text-indigo-400 font-bold":"text-slate-500"}`,children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center border ${["INSTALLING","DONE"].includes(t)?"bg-indigo-500/20 border-indigo-500":"bg-slate-900 border-slate-700"}`,children:"3"}),s.jsx("span",{className:"hidden sm:inline",children:"Install"})]})]});return s.jsx("div",{className:"min-h-screen bg-slate-950 flex flex-col items-center justify-center px-4 py-12",children:s.jsxs("div",{className:"w-full max-w-2xl",children:[s.jsxs("div",{className:"text-center mb-10",children:[s.jsx("h1",{className:"text-3xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-indigo-400 to-purple-400",children:"StreamPay Installation"}),s.jsx("p",{className:"text-slate-400 mt-2",children:"Initial Setup Wizard v1.0.0"})]}),s.jsx(u,{}),s.jsxs("div",{className:"bg-slate-900 p-8 rounded-2xl border border-slate-800 shadow-2xl",children:[t==="DB_CONFIG"&&s.jsxs("form",{onSubmit:y,className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6 p-4 bg-indigo-900/10 border border-indigo-500/20 rounded-lg text-indigo-200",children:[s.jsx(Ys,{size:24}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold",children:"Database Configuration"}),s.jsx("p",{className:"text-xs text-indigo-300/70",children:"Enter your MariaDB/MySQL connection details."})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Host"}),s.jsx("input",{required:!0,type:"text",value:o.host,onChange:d=>c({...o,host:d.target.value}),className:"w-full bg-slate-950 border border-slate-800 rounded-lg px-4 py-3 text-white focus:ring-2 focus:ring-indigo-500 outline-none",placeholder:"127.0.0.1"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Port"}),s.jsx("input",{required:!0,type:"text",value:o.port,onChange:d=>c({...o,port:d.target.value}),className:"w-full bg-slate-950 border border-slate-800 rounded-lg px-4 py-3 text-white focus:ring-2 focus:ring-indigo-500 outline-none",placeholder:"3306"})]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Database Name"}),s.jsx("input",{required:!0,type:"text",value:o.database,onChange:d=>c({...o,database:d.target.value}),className:"w-full bg-slate-950 border border-slate-800 rounded-lg px-4 py-3 text-white focus:ring-2 focus:ring-indigo-500 outline-none",placeholder:"streampay"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Username"}),s.jsx("input",{required:!0,type:"text",value:o.username,onChange:d=>c({...o,username:d.target.value}),className:"w-full bg-slate-950 border border-slate-800 rounded-lg px-4 py-3 text-white focus:ring-2 focus:ring-indigo-500 outline-none",placeholder:"root"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Password"}),s.jsx("input",{type:"password",value:o.password,onChange:d=>c({...o,password:d.target.value}),className:"w-full bg-slate-950 border border-slate-800 rounded-lg px-4 py-3 text-white focus:ring-2 focus:ring-indigo-500 outline-none",placeholder:""})]})]}),f&&s.jsxs("div",{className:"bg-red-900/20 border border-red-500/20 rounded-lg p-4 space-y-3 animate-in fade-in slide-in-from-top-2",children:[s.jsxs("div",{className:"flex gap-2 text-red-400 text-sm font-semibold",children:[s.jsx(Qu,{size:18}),s.jsx("span",{children:"Connection Failed"})]}),s.jsx("p",{className:"text-xs text-red-300/80",children:f}),s.jsx("div",{className:"pt-2 border-t border-red-500/20",children:s.jsxs("button",{type:"button",onClick:N,className:"flex items-center gap-2 text-xs font-bold text-indigo-400 hover:text-indigo-300 transition-colors",children:[s.jsx(Gi,{size:14}),"Skip connection & Use Demo Mode (Local Storage)"]})})]}),s.jsx("div",{className:"flex justify-end pt-4",children:s.jsxs("button",{type:"submit",disabled:r,className:"bg-indigo-600 hover:bg-indigo-500 text-white font-bold py-3 px-8 rounded-lg flex items-center gap-2 shadow-lg shadow-indigo-500/20 transition-transform active:scale-95",children:[r?s.jsx(X,{className:"animate-spin",size:20}):s.jsx(sl,{size:20}),r?"Verifying...":"Connect Database"]})})]}),t==="ADMIN_CREATION"&&s.jsxs("form",{onSubmit:v,className:"space-y-6 animate-in fade-in slide-in-from-right-4",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6 p-4 bg-purple-900/10 border border-purple-500/20 rounded-lg text-purple-200",children:[s.jsx(Bu,{size:24}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold",children:"Super Admin Account"}),s.jsx("p",{className:"text-xs text-purple-300/70",children:"Create the primary administrator for the system."})]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Admin Username"}),s.jsx("input",{required:!0,type:"text",value:m.username,onChange:d=>h({...m,username:d.target.value}),className:"w-full bg-slate-950 border border-slate-800 rounded-lg px-4 py-3 text-white focus:ring-2 focus:ring-indigo-500 outline-none"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Password"}),s.jsx("input",{required:!0,type:"password",value:m.password,onChange:d=>h({...m,password:d.target.value}),className:"w-full bg-slate-950 border border-slate-800 rounded-lg px-4 py-3 text-white focus:ring-2 focus:ring-indigo-500 outline-none"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Confirm Password"}),s.jsx("input",{required:!0,type:"password",value:m.confirmPassword,onChange:d=>h({...m,confirmPassword:d.target.value}),className:"w-full bg-slate-950 border border-slate-800 rounded-lg px-4 py-3 text-white focus:ring-2 focus:ring-indigo-500 outline-none"})]})]}),f&&s.jsx("div",{className:"text-red-400 text-sm bg-red-900/20 p-3 rounded",children:f}),s.jsxs("div",{className:"flex justify-between pt-4",children:[s.jsx("button",{type:"button",onClick:()=>n("DB_CONFIG"),className:"text-slate-500 hover:text-white",children:"Back"}),s.jsxs("button",{type:"submit",className:"bg-indigo-600 hover:bg-indigo-500 text-white font-bold py-3 px-8 rounded-lg flex items-center gap-2",children:["Start Installation ",s.jsx(qi,{size:20})]})]})]}),t==="INSTALLING"&&s.jsxs("div",{className:"font-mono text-sm",children:[s.jsxs("div",{className:"bg-black/50 p-4 rounded-lg border border-slate-800 h-64 overflow-y-auto space-y-2 mb-6 shadow-inner",children:[a.map((d,x)=>s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("span",{className:"text-slate-600",children:["[",new Date().toLocaleTimeString(),"]"]}),s.jsx("span",{className:"text-emerald-400",children:d})]},x)),s.jsx("div",{className:"animate-pulse text-indigo-400",children:"_"})]}),s.jsxs("div",{className:"text-center text-slate-400",children:[s.jsx(X,{className:"animate-spin mx-auto mb-2",size:24}),"Configuring system..."]})]}),t==="DONE"&&s.jsxs("div",{className:"text-center py-8 animate-in zoom-in duration-300",children:[s.jsx("div",{className:"w-20 h-20 bg-emerald-500/20 rounded-full flex items-center justify-center mx-auto mb-6",children:s.jsx(jl,{size:40,className:"text-emerald-400"})}),s.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Installation Successful!"}),s.jsx("p",{className:"text-slate-400 mb-8 max-w-md mx-auto",children:"StreamPay has been installed and configured. You can now log in with your Admin account."}),s.jsx("button",{onClick:()=>e("/login"),className:"w-full bg-emerald-600 hover:bg-emerald-500 text-white font-bold py-4 rounded-lg shadow-lg shadow-emerald-900/20 active:scale-95 transition-transform",children:"Go to Login"})]})]})]})})}function qh(){const{user:e}=we(),{addToQueue:t}=Zu(),n=mt(),[r,l]=p.useState("INSTANT"),[a,i]=p.useState("STOCK"),[o,c]=p.useState(""),[m,h]=p.useState([]),[f,g]=p.useState(!1),[y,N]=p.useState(""),[v,C]=p.useState([]),[u,d]=p.useState(!1),[x,j]=p.useState(""),[S,b]=p.useState(0),[w,P]=p.useState(""),[_,O]=p.useState([]),[W,Q]=p.useState(!1),B=async k=>{if(k.preventDefault(),!!o.trim()){g(!0),h([]),N("");try{const A=await E.searchExternal(o,a);A&&A.length>0?h(A):N("No results found. Please check Admin API Keys configuration.")}catch(A){N("Search failed: "+A.message)}finally{g(!1)}}},J=k=>{C(A=>A.includes(k)?A.filter(R=>R!==k):[...A,k])},U=async()=>{if(!(!e||v.length===0)){d(!0),b(0);try{let k=1;const A=v.length,R=[];for(const q of v){const de=m.find(L=>L.id===q);if(!de)continue;if(a==="YOUTUBE"){j(`(${k}/${A}) Requesting server download...`),await E.serverImportVideo(de.downloadUrl),k++;continue}const me=(de.title||o+" "+k).replace(/[^a-z0-9 \-_]/gi,"").substring(0,50);b(0),j(`(${k}/${A}) Downloading source...`);const ge=await fetch(de.downloadUrl);if(!ge.ok)throw new Error("Failed to download video file");const xe=await ge.blob(),ke=new File([xe],`${me}.mp4`,{type:"video/mp4"});j(`(${k}/${A}) Generating Metadata...`);const{thumbnail:Ke,duration:It}=await e0(ke);R.push({title:me,description:`Imported from ${de.source}. By ${de.author}.`,price:1,category:ue.OTHER,duration:It||de.duration||0,file:ke,thumbnail:Ke}),k++}R.length>0&&(j("Adding to background queue..."),await t(R,e)),alert(a==="YOUTUBE"?"Server import started!":"Videos added to upload queue! You can browse while they upload."),n("/")}catch(k){alert("Error during import: "+k.message)}finally{d(!1),j("")}}},I=async()=>{Q(!0);try{const k=await E.getRequests();e&&O(k.filter(A=>A.userId===e.id))}finally{Q(!1)}};is.useEffect(()=>{r==="QUEUE"&&I()},[r]);const V=async k=>{if(k.preventDefault(),!(!e||!w.trim()))try{await E.requestContent(e.id,w,!1),P(""),I(),alert("Request added to server queue!")}catch(A){alert("Failed to request: "+A.message)}},z=async k=>{confirm("Remove this request?")&&(await E.deleteRequest(k),I())};return s.jsxs("div",{className:"max-w-4xl mx-auto space-y-6 pb-20",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-2",children:[s.jsx(Zn,{className:"text-indigo-400"})," Content Center"]}),s.jsx("p",{className:"text-slate-400 text-sm",children:"Import content via Client or Server"})]})}),s.jsxs("div",{className:"flex bg-slate-900/50 p-1 rounded-xl border border-slate-800",children:[s.jsxs("button",{onClick:()=>l("INSTANT"),className:`flex-1 py-3 text-sm font-bold rounded-lg flex items-center justify-center gap-2 transition-all ${r==="INSTANT"?"bg-indigo-600 text-white shadow-lg":"text-slate-400 hover:text-white"}`,children:[s.jsx(Gx,{size:16})," Instant Import"]}),s.jsxs("button",{onClick:()=>l("QUEUE"),className:`flex-1 py-3 text-sm font-bold rounded-lg flex items-center justify-center gap-2 transition-all ${r==="QUEUE"?"bg-indigo-600 text-white shadow-lg":"text-slate-400 hover:text-white"}`,children:[s.jsx(sl,{size:16})," Server Queue"]})]}),r==="INSTANT"&&s.jsxs("div",{className:"animate-in fade-in slide-in-from-left-4 duration-300",children:[s.jsxs("div",{className:"bg-slate-900/50 p-4 rounded-xl border border-slate-800 mb-6",children:[s.jsxs("div",{className:"flex gap-4 mb-4",children:[s.jsxs("button",{onClick:()=>i("STOCK"),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-bold transition-colors ${a==="STOCK"?"bg-emerald-600/20 text-emerald-400 border border-emerald-500/50":"text-slate-400 hover:bg-slate-800"}`,children:[s.jsx($u,{size:16})," Stock (Pexels/Pixabay)"]}),s.jsxs("button",{onClick:()=>i("YOUTUBE"),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-bold transition-colors ${a==="YOUTUBE"?"bg-red-600/20 text-red-400 border border-red-500/50":"text-slate-400 hover:bg-slate-800"}`,children:[s.jsx(gh,{size:16})," YouTube"]})]}),s.jsxs("form",{onSubmit:B,className:"relative",children:[s.jsx(ms,{className:"absolute left-4 top-3.5 text-slate-500",size:20}),s.jsx("input",{type:"text",value:o,onChange:k=>c(k.target.value),className:"w-full bg-slate-950 border border-slate-800 rounded-xl pl-12 pr-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:a==="YOUTUBE"?"Search YouTube...":"Search Stock Videos..."}),s.jsx("button",{type:"submit",disabled:f,className:"absolute right-2 top-2 bottom-2 bg-indigo-600 hover:bg-indigo-500 text-white px-6 rounded-lg font-bold disabled:opacity-50",children:f?s.jsx(X,{className:"animate-spin"}):"Search"})]})]}),y&&s.jsx("div",{className:"bg-red-900/20 text-red-400 p-4 rounded-xl text-sm border border-red-500/20 mb-6",children:y}),m.length>0&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("span",{className:"text-slate-400 text-sm",children:["Found ",m.length," results"]}),v.length>0&&s.jsxs("span",{className:"text-indigo-400 font-bold text-sm",children:[v.length," selected"]})]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:m.map(k=>{const A=v.includes(k.id);return s.jsxs("div",{onClick:()=>J(k.id),className:`group relative aspect-video rounded-xl overflow-hidden border-2 cursor-pointer transition-all ${A?"border-indigo-500 shadow-lg":"border-slate-800 hover:border-slate-600"}`,children:[s.jsx("img",{src:k.thumbnail,alt:k.title,className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/90 to-transparent flex flex-col justify-end p-3",children:s.jsxs("div",{className:"flex justify-between items-end",children:[s.jsx("div",{children:s.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded font-bold uppercase ${k.source==="YouTube"?"bg-red-600 text-white":k.source==="Pexels"?"bg-emerald-500 text-emerald-950":"bg-blue-500 text-blue-950"}`,children:k.source})}),A?s.jsx("div",{className:"bg-indigo-600 text-white p-1 rounded-full",children:s.jsx(St,{size:14})}):s.jsx("div",{className:"border border-white/30 rounded-full w-6 h-6"})]})})]},k.id)})}),s.jsx("div",{className:"sticky bottom-4 z-30",children:s.jsxs("div",{className:"bg-slate-900/90 backdrop-blur-md border border-slate-700 p-4 rounded-xl shadow-2xl flex items-center justify-between gap-4",children:[s.jsxs("div",{className:"text-sm text-slate-300",children:["Ready to import ",s.jsx("strong",{className:"text-white",children:v.length})," videos."]}),s.jsxs("button",{onClick:U,disabled:v.length===0||u,className:`px-6 py-3 rounded-lg font-bold disabled:opacity-50 flex items-center gap-2 text-white ${a==="YOUTUBE"?"bg-red-600 hover:bg-red-500":"bg-emerald-600 hover:bg-emerald-500"}`,children:[u?s.jsx(X,{className:"animate-spin",size:20}):a==="YOUTUBE"?s.jsx(sl,{size:20}):s.jsx(Gi,{size:20}),u?"Processing...":a==="YOUTUBE"?"Server Import":"Queue Import"]})]})})]})]}),r==="QUEUE"&&s.jsxs("div",{className:"animate-in fade-in slide-in-from-right-4 duration-300",children:[s.jsx("div",{className:"bg-slate-900/50 p-4 rounded-xl border border-slate-800 mb-6",children:s.jsxs("form",{onSubmit:V,className:"flex gap-2",children:[s.jsx("input",{type:"text",value:w,onChange:k=>P(k.target.value),className:"flex-1 bg-slate-950 border border-slate-800 rounded-xl px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Request Topic..."}),s.jsx("button",{type:"submit",className:"bg-indigo-600 hover:bg-indigo-500 text-white px-6 rounded-xl font-bold",children:"Add to Queue"})]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"font-bold text-white flex items-center gap-2",children:[s.jsx(Xn,{size:18})," My Pending Requests"]}),W?s.jsx(X,{className:"animate-spin text-indigo-500"}):_.length===0?s.jsx("div",{className:"text-center p-8 bg-slate-900/30 rounded-xl border border-dashed border-slate-800 text-slate-500",children:"No pending requests."}):s.jsx("div",{className:"space-y-3",children:_.map(k=>s.jsxs("div",{className:"bg-slate-900 p-4 rounded-xl border border-slate-800 flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-white text-lg",children:k.query}),s.jsx("span",{className:`text-[10px] font-bold px-2 py-1 rounded uppercase ${k.status==="PENDING"?"bg-amber-500/20 text-amber-500":"bg-emerald-500/20 text-emerald-500"}`,children:k.status})]}),s.jsx("button",{onClick:()=>z(k.id),className:"text-slate-500 hover:text-red-400 p-2",children:s.jsx(gs,{size:18})})]},k.id))})]})]}),u&&s.jsx("div",{className:"fixed inset-0 z-50 bg-black/80 backdrop-blur-sm flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-slate-900 p-8 rounded-2xl border border-slate-700 text-center max-w-sm w-full",children:[s.jsx(X,{size:48,className:"text-emerald-500 animate-spin mx-auto mb-6"}),s.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:a==="YOUTUBE"?"Server Download":"Preparing Upload"}),s.jsx("p",{className:"text-emerald-400 font-mono text-sm mb-4",children:x})]})})]})}function Hh(){const{userId:e}=yl(),{user:t}=we(),[n,r]=p.useState(null),[l,a]=p.useState([]),[i,o]=p.useState(!0),[c,m]=p.useState(12),h=p.useRef(null),[f,g]=p.useState({views:0,uploads:0}),[y,N]=p.useState([]),[v,C]=p.useState(!1);p.useEffect(()=>{if(!e){o(!1);return}m(12),a([]),(async()=>{o(!0);try{const S=await E.getUser(e);r(S);const b=await E.getVideosByCreator(e);a(b);const w=b.reduce((P,_)=>P+Number(_.views),0);g({views:w,uploads:b.length})}catch(S){console.error("Failed to load channel",S)}finally{o(!1)}})()},[e]),p.useEffect(()=>{if(!t||!e)return;(async()=>{try{const S=await E.checkSubscription(t.id,e);if(C(S),l.length>0){const b=l.slice(0,50).map(_=>E.hasPurchased(t.id,_.id)),w=await Promise.all(b),P=l.filter((_,O)=>w[O]).map(_=>_.id);N(P)}}catch(S){console.error("Error checking user status",S)}})()},[t,e,l.length]),p.useEffect(()=>{if(c>=l.length)return;const j=new IntersectionObserver(S=>{S[0].isIntersecting&&m(b=>Math.min(b+12,l.length))},{threshold:.1,rootMargin:"1200px"});return h.current&&j.observe(h.current),()=>j.disconnect()},[c,l.length]);const u=async()=>{if(!t||!e)return;const j=v;C(!j);try{const S=await E.toggleSubscribe(t.id,e);C(S.isSubscribed)}catch(S){C(j),console.error("Failed to subscribe",S)}},d=async j=>{if(!(!t||!confirm("Permanently delete this video?")))try{await E.deleteVideo(j,t.id),a(S=>S.filter(b=>b.id!==j)),g(S=>({...S,uploads:S.uploads-1}))}catch(S){alert("Delete failed: "+S.message)}},x=(j,S)=>y.includes(j)||(t==null?void 0:t.id)===S||(t==null?void 0:t.role)==="ADMIN";return i?s.jsx("div",{className:"flex justify-center items-center h-[50vh]",children:s.jsx(X,{className:"animate-spin text-indigo-500",size:32})}):n?s.jsxs("div",{className:"pb-20 min-h-screen",children:[s.jsxs("div",{className:"absolute top-0 left-0 right-0 h-64 overflow-hidden z-0 pointer-events-none opacity-40",children:[n.avatarUrl&&s.jsx("img",{src:n.avatarUrl,className:"w-full h-full object-cover blur-3xl scale-110 brightness-50"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent to-black"})]}),s.jsxs("div",{className:"relative z-10 px-4 pt-20 flex flex-col items-center mb-8 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[s.jsx("div",{className:"w-32 h-32 rounded-full border-4 border-black bg-slate-800 overflow-hidden shrink-0 shadow-2xl mb-4",children:n.avatarUrl?s.jsx("img",{src:n.avatarUrl,alt:n.username,className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center text-4xl text-slate-500",children:s.jsx(xs,{size:48})})}),s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:n.username}),s.jsxs("div",{className:"text-slate-400 text-sm flex items-center justify-center gap-3 mb-6",children:[s.jsxs("span",{children:["@",n.username]}),s.jsx("span",{className:"w-1 h-1 bg-slate-600 rounded-full"}),s.jsxs("span",{children:[f.uploads," videos"]}),s.jsx("span",{className:"w-1 h-1 bg-slate-600 rounded-full"}),s.jsxs("span",{children:[f.views," views"]})]}),(t==null?void 0:t.id)!==n.id&&s.jsx("button",{onClick:u,className:`px-8 py-3 rounded-full font-bold text-sm transition-all transform active:scale-95 flex items-center gap-2 mx-auto ${v?"bg-slate-800 text-white hover:bg-slate-700":"bg-white text-black hover:bg-slate-200"}`,children:v?s.jsxs(s.Fragment,{children:[s.jsx(St,{size:18})," Subscribed"]}):s.jsxs(s.Fragment,{children:[s.jsx(nx,{size:18})," Subscribe"]})})]})]}),s.jsxs("div",{className:"px-4 md:px-12 relative z-10",children:[s.jsx("h2",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2 border-b border-slate-800 pb-2",children:"Videos"}),l.length===0?s.jsx("div",{className:"text-center py-20 text-slate-500",children:"This user hasn't uploaded any videos yet."}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-x-4 gap-y-8",children:l.slice(0,c).map(j=>s.jsxs("div",{className:"relative group",children:[s.jsx(bt,{video:j,isUnlocked:x(j.id,j.creatorId),isWatched:!1}),((t==null?void 0:t.id)===n.id||(t==null?void 0:t.role)==="ADMIN")&&s.jsx("button",{onClick:S=>{S.preventDefault(),S.stopPropagation(),d(j.id)},className:"absolute top-2 left-2 bg-red-600/80 text-white p-1.5 rounded-lg opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-600",title:"Delete Video",children:s.jsx(gs,{size:16})})]},j.id))}),s.jsx("div",{ref:h,className:"h-20 flex items-center justify-center opacity-50",children:c<l.length&&s.jsx(X,{className:"animate-spin text-slate-600"})})]})]})]}):s.jsx("div",{className:"text-center p-10 text-slate-500",children:"User not found"})}const t0=p.createContext(null),Xi=()=>{const e=p.useContext(t0);if(!e)throw new Error("useCart must be used within CartProvider");return e},Wh=({children:e})=>{const[t,n]=p.useState([]);p.useEffect(()=>{const m=localStorage.getItem("sp_cart");if(m)try{n(JSON.parse(m))}catch{}const h=()=>{n([]),localStorage.removeItem("sp_cart")};return window.addEventListener("sp_logout",h),()=>window.removeEventListener("sp_logout",h)},[]);const r=m=>{n(m),localStorage.setItem("sp_cart",JSON.stringify(m))},l=m=>{n(h=>{const f=h.find(y=>y.id===m.id);let g;return f?g=h.map(y=>y.id===m.id?{...y,quantity:y.quantity+1}:y):g=[...h,{...m,quantity:1}],localStorage.setItem("sp_cart",JSON.stringify(g)),g})},a=(m,h)=>{n(f=>{const g=f.map(y=>{if(y.id===m){const N=y.quantity+h;return{...y,quantity:N}}return y}).filter(y=>y.quantity>0);return localStorage.setItem("sp_cart",JSON.stringify(g)),g})},i=m=>{r(t.filter(h=>h.id!==m))},o=()=>r([]),c=t.reduce((m,h)=>m+Number(h.price)*h.quantity,0);return s.jsx(t0.Provider,{value:{cart:t,addToCart:l,updateQuantity:a,removeFromCart:i,clearCart:o,total:c},children:e})};function Qh(){const{cart:e}=Xi(),[t,n]=p.useState([]),[r,l]=p.useState(!0),[a,i]=p.useState(!1),[o,c]=p.useState(""),[m,h]=p.useState("TODOS"),[f,g]=p.useState("NEWEST"),[y,N]=p.useState({min:0,max:1e5}),[v,C]=p.useState("TODOS");p.useEffect(()=>{E.getMarketplaceItems().then(x=>{n(x),l(!1)})},[]);const u=["TODOS",...Array.from(new Set(t.map(x=>x.category||"OTRO")))],d=t.filter(x=>{const j=x.title.toLowerCase().includes(o.toLowerCase()),S=m==="TODOS"||x.category===m,b=v==="TODOS"||x.condition===v,w=Number(x.price)>=y.min&&Number(x.price)<=y.max;return j&&S&&b&&w}).sort((x,j)=>f==="PRICE_ASC"?x.price-j.price:f==="PRICE_DESC"?j.price-x.price:j.createdAt-x.createdAt);return r?s.jsx("div",{className:"flex justify-center p-20",children:s.jsx(X,{className:"animate-spin text-indigo-500",size:32})}):s.jsxs("div",{className:"pb-20 max-w-7xl mx-auto px-2 md:px-6 pt-4",children:[s.jsxs("div",{className:"sticky top-0 z-30 bg-black/95 backdrop-blur-md pb-4 pt-2 -mx-2 px-2 md:-mx-6 md:px-6 border-b border-slate-800/50 mb-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("div",{children:s.jsxs("h1",{className:"text-xl md:text-2xl font-bold text-white flex items-center gap-2 font-serif tracking-wide",children:[s.jsx(Ks,{className:"text-indigo-400",size:24}),"Marketplace"]})}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(he,{to:"/sell",className:"bg-slate-800 hover:bg-slate-700 text-white px-4 py-2 rounded-full font-bold text-xs md:text-sm border border-slate-700 transition-all",children:"+ Vender"}),s.jsxs(he,{to:"/cart",className:"relative p-2 bg-indigo-600 hover:bg-indigo-500 text-white rounded-full transition-all shadow-lg shadow-indigo-500/20",children:[s.jsx(Hu,{size:20}),e.length>0&&s.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 border-2 border-black rounded-full flex items-center justify-center text-[10px] font-bold",children:e.length})]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(ms,{className:"absolute left-3 top-2.5 text-slate-500",size:18}),s.jsx("input",{type:"text",placeholder:"Qu ests buscando?",value:o,onChange:x=>c(x.target.value),className:"w-full bg-slate-900 border border-slate-800 rounded-full pl-10 pr-4 py-2 text-sm text-white focus:outline-none focus:border-indigo-500 transition-colors"})]}),s.jsxs("button",{onClick:()=>i(!0),className:"bg-slate-900 border border-slate-800 text-slate-300 px-3 py-2 rounded-full flex items-center justify-center gap-2 hover:bg-slate-800 transition-colors",children:[s.jsx(Up,{size:18}),s.jsx("span",{className:"hidden md:inline text-xs font-bold",children:"Filtros"})]})]}),s.jsx("div",{className:"flex gap-2 overflow-x-auto py-3 scrollbar-hide",children:u.map(x=>s.jsx("button",{onClick:()=>h(x),className:`whitespace-nowrap px-4 py-1.5 rounded-full text-xs font-bold border transition-all ${m===x?"bg-white text-black border-white":"bg-slate-900 text-slate-400 border-slate-800 hover:border-slate-600"}`,children:x},x))})]}),a&&s.jsxs("div",{className:"fixed inset-0 z-50 flex justify-end bg-black/60 backdrop-blur-sm animate-in fade-in",children:[s.jsxs("div",{className:"w-80 bg-slate-900 h-full border-l border-slate-800 p-6 overflow-y-auto animate-in slide-in-from-right shadow-2xl",children:[s.jsxs("div",{className:"flex justify-between items-center mb-8",children:[s.jsxs("h3",{className:"text-lg font-bold text-white flex items-center gap-2",children:[s.jsx(Ru,{size:20})," Filtros"]}),s.jsx("button",{onClick:()=>i(!1),className:"p-1 hover:bg-slate-800 rounded-full",children:s.jsx(lt,{})})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase mb-3 block",children:"Ordenar Por"}),s.jsxs("select",{value:f,onChange:x=>g(x.target.value),className:"w-full bg-slate-950 border border-slate-800 rounded-lg px-3 py-2 text-sm text-white focus:border-indigo-500 outline-none",children:[s.jsx("option",{value:"NEWEST",children:"Ms Recientes"}),s.jsx("option",{value:"PRICE_ASC",children:"Precio: Bajo a Alto"}),s.jsx("option",{value:"PRICE_DESC",children:"Precio: Alto a Bajo"})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"text-xs font-bold text-slate-500 uppercase mb-3 block",children:["Precio Mximo (",y.max," $)"]}),s.jsx("input",{type:"range",min:"0",max:"100000",step:"100",value:y.max,onChange:x=>N({...y,max:parseInt(x.target.value)}),className:"w-full accent-indigo-500 h-2 bg-slate-800 rounded-lg appearance-none cursor-pointer"}),s.jsxs("div",{className:"flex justify-between text-[10px] text-slate-400 mt-1",children:[s.jsx("span",{children:"0 $"}),s.jsx("span",{children:"100000+ $"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase mb-3 block",children:"Condicin"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:["TODOS","NUEVO","USADO","REACONDICIONADO"].map(x=>s.jsx("button",{onClick:()=>C(x),className:`px-3 py-1 rounded-md text-xs font-bold border ${v===x?"bg-indigo-600 border-indigo-600 text-white":"bg-slate-950 border-slate-800 text-slate-400"}`,children:x},x))})]})]}),s.jsx("div",{className:"mt-10 pt-6 border-t border-slate-800",children:s.jsxs("button",{onClick:()=>i(!1),className:"w-full bg-white text-black font-bold py-3 rounded-xl hover:bg-slate-200 transition-colors",children:["Ver ",d.length," Resultados"]})})]}),s.jsx("div",{className:"flex-1",onClick:()=>i(!1)})]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-3 md:gap-6",children:d.map(x=>s.jsxs(he,{to:`/marketplace/${x.id}`,className:"group flex flex-col",children:[s.jsxs("div",{className:"relative aspect-[3/4] bg-slate-800 rounded-lg overflow-hidden mb-2",children:[x.images&&x.images.length>0?s.jsx("img",{src:x.images[0],className:`w-full h-full object-cover group-hover:scale-105 transition-transform duration-500 ${x.status==="AGOTADO"?"grayscale opacity-50":""}`,loading:"lazy"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center text-slate-700",children:s.jsx(Ks,{size:32})}),s.jsxs("div",{className:"absolute top-0 left-0 p-1.5 flex flex-col gap-1 items-start",children:[x.discountPercent&&x.discountPercent>0?s.jsxs("span",{className:"bg-red-600 text-white text-[10px] font-black px-1.5 py-0.5 rounded-sm shadow-sm",children:["-",x.discountPercent,"%"]}):null,x.condition==="NUEVO"&&s.jsx("span",{className:"bg-black/70 backdrop-blur-sm text-white text-[9px] font-bold px-1.5 py-0.5 rounded-sm",children:"NUEVO"})]}),x.status==="AGOTADO"&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/40",children:s.jsx("span",{className:"bg-white/90 text-black text-xs font-black px-3 py-1 transform -rotate-12 border-2 border-black",children:"AGOTADO"})})]}),s.jsxs("div",{className:"flex flex-col gap-0.5 px-1",children:[s.jsxs("div",{className:"flex items-baseline gap-2",children:[s.jsxs("span",{className:`font-bold text-sm md:text-base ${x.discountPercent?"text-red-500":"text-white"}`,children:[x.price," $"]}),x.discountPercent&&x.discountPercent>0&&s.jsx("span",{className:"text-[10px] text-slate-500 line-through",children:x.originalPrice})]}),s.jsx("h3",{className:"text-xs text-slate-300 line-clamp-2 leading-tight min-h-[2.5em]",children:x.title}),s.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[s.jsx(As,{size:10,className:"text-amber-400",fill:"currentColor"}),s.jsxs("span",{className:"text-[10px] text-slate-500",children:[(x.rating||0).toFixed(1)," (",x.reviewCount||0,")"]})]})]})]},x.id))}),d.length===0&&s.jsxs("div",{className:"text-center py-20 text-slate-500 flex flex-col items-center",children:[s.jsx(ms,{size:48,className:"mb-4 opacity-30"}),s.jsx("p",{className:"text-lg font-medium",children:"No encontramos resultados"}),s.jsx("p",{className:"text-sm",children:"Intenta ajustar los filtros o tu bsqueda."}),s.jsx("button",{onClick:()=>{c(""),h("TODOS"),N({min:0,max:1e5})},className:"mt-4 text-indigo-400 hover:text-white underline text-sm",children:"Limpiar filtros"})]})]})}function Gh(){const{id:e}=yl(),t=mt(),{user:n}=we(),{addToCart:r,cart:l}=Xi(),[a,i]=p.useState(null),[o,c]=p.useState([]),[m,h]=p.useState(!0),[f,g]=p.useState(0),[y,N]=p.useState(5),[v,C]=p.useState(""),[u,d]=p.useState(!1);p.useEffect(()=>{e&&(E.getMarketplaceItem(e).then(b=>{b&&i(b),h(!1)}),E.getReviews(e).then(c))},[e]);const x=async b=>{if(b.preventDefault(),!(!n||!e||!v.trim())){d(!0);try{await E.addReview(e,n.id,y,v);const w=await E.getReviews(e);c(w),C("")}catch{alert("Error al enviar resea")}finally{d(!1)}}};if(m)return s.jsx("div",{className:"text-center p-10 text-slate-500",children:"Cargando..."});if(!a)return s.jsx("div",{className:"text-center p-10 text-slate-500",children:"Artculo no encontrado"});const j=l.some(b=>b.id===a.id),S=(n==null?void 0:n.id)===a.sellerId;return s.jsxs("div",{className:"pb-20 max-w-5xl mx-auto md:pt-6",children:[s.jsxs("button",{onClick:()=>t("/marketplace"),className:"flex items-center gap-1 text-slate-400 hover:text-white px-4 py-2 mb-2",children:[s.jsx(Mu,{size:20})," Volver"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 px-4",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"aspect-square bg-black rounded-xl overflow-hidden border border-slate-800 relative",children:[a.images&&a.images.length>0?s.jsx("img",{src:a.images[f],className:`w-full h-full object-contain ${a.status==="AGOTADO"?"grayscale opacity-50":""}`}):s.jsx("div",{className:"w-full h-full flex items-center justify-center text-slate-700",children:s.jsx(Ks,{size:64})}),a.discountPercent&&a.discountPercent>0&&a.status!=="AGOTADO"&&s.jsxs("div",{className:"absolute top-4 left-4 bg-red-600 text-white font-black px-3 py-1 text-lg rounded shadow-lg transform -rotate-2",children:["-",a.discountPercent,"% OFF"]}),a.status==="AGOTADO"&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50",children:s.jsx("span",{className:"bg-black text-white px-6 py-2 font-bold text-xl border-2 border-white transform -rotate-12",children:"AGOTADO"})})]}),a.images&&a.images.length>1&&s.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 scrollbar-hide",children:a.images.map((b,w)=>s.jsx("button",{onClick:()=>g(w),className:`w-16 h-16 rounded-lg overflow-hidden border-2 shrink-0 ${f===w?"border-indigo-500":"border-slate-800 opacity-60"}`,children:s.jsx("img",{src:b,className:"w-full h-full object-cover"})},w))})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-slate-900 p-6 rounded-2xl border border-slate-800",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsx("h1",{className:"text-2xl font-bold text-white leading-tight",children:a.title}),S&&s.jsxs("button",{onClick:()=>t(`/marketplace/edit/${a.id}`),className:"text-indigo-400 hover:text-white flex items-center gap-1 text-xs font-bold border border-indigo-500/30 px-2 py-1 rounded",children:[s.jsx(Yi,{size:12})," Editar"]})]}),s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx("div",{className:"flex text-amber-400",children:[1,2,3,4,5].map(b=>s.jsx(As,{size:14,fill:b<=(a.rating||0)?"currentColor":"none",className:b<=(a.rating||0)?"":"text-slate-600"},b))}),s.jsxs("span",{className:"text-xs text-slate-400 underline",children:[o.length," reseas"]})]}),s.jsxs("div",{className:"mb-6",children:[a.discountPercent&&a.discountPercent>0?s.jsxs("div",{children:[s.jsxs("span",{className:"text-slate-500 line-through text-lg font-bold mr-2",children:[a.originalPrice," $"]}),s.jsxs("span",{className:"text-4xl font-black text-red-500",children:[a.price," $"]})]}):s.jsxs("span",{className:"text-4xl font-black text-amber-400",children:[a.price," $"]}),s.jsxs("div",{className:"text-xs text-slate-500 mt-1 flex items-center gap-2",children:[s.jsx("span",{className:"bg-slate-800 px-2 py-0.5 rounded",children:a.condition}),a.stock!==void 0&&a.stock<5&&a.stock>0&&s.jsxs("span",{className:"text-red-400 font-bold animate-pulse",children:["Solo quedan ",a.stock,"!"]})]})]}),s.jsx("button",{onClick:()=>!j&&a.status==="ACTIVO"&&r(a),disabled:j||a.status!=="ACTIVO",className:`w-full py-4 rounded-xl font-bold flex items-center justify-center gap-2 text-lg shadow-xl transition-transform active:scale-95 ${j?"bg-slate-700 text-slate-400 cursor-default":a.status==="ACTIVO"?"bg-indigo-600 hover:bg-indigo-500 text-white":"bg-slate-800 text-slate-500 cursor-not-allowed"}`,children:j?s.jsxs(s.Fragment,{children:[s.jsx(St,{size:24})," En Carrito"]}):a.status==="ACTIVO"?s.jsxs(s.Fragment,{children:[s.jsx(Hu,{size:24})," Aadir al Carrito"]}):"No Disponible"})]}),s.jsxs("div",{className:"prose prose-invert text-sm text-slate-400",children:[s.jsx("h3",{className:"text-white font-bold mb-2",children:"Descripcin"}),s.jsx("p",{className:"whitespace-pre-wrap",children:a.description})]}),s.jsxs("div",{className:"border-t border-slate-800 pt-4 flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-slate-800 overflow-hidden",children:a.sellerAvatarUrl?s.jsx("img",{src:a.sellerAvatarUrl,className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center text-slate-500",children:s.jsx(xs,{size:24})})}),s.jsxs("div",{children:[s.jsxs("div",{className:"font-bold text-white text-sm",children:["Vendido por ",a.sellerName]}),s.jsxs("div",{className:"text-xs text-emerald-400 flex items-center gap-1",children:[s.jsx(Bu,{size:12})," Vendedor Verificado"]})]})]})]})]}),s.jsxs("div",{className:"mt-12 px-4",children:[s.jsxs("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2",children:[s.jsx(As,{className:"text-amber-400",fill:"currentColor"})," Reseas de Clientes"]}),n&&s.jsxs("form",{onSubmit:x,className:"bg-slate-900 p-4 rounded-xl border border-slate-800 mb-8",children:[s.jsx("div",{className:"flex gap-2 mb-3",children:[1,2,3,4,5].map(b=>s.jsx("button",{type:"button",onClick:()=>N(b),className:"focus:outline-none",children:s.jsx(As,{size:24,className:b<=y?"text-amber-400":"text-slate-600",fill:b<=y?"currentColor":"none"})},b))}),s.jsx("textarea",{value:v,onChange:b=>C(b.target.value),className:"w-full bg-slate-950 border border-slate-700 rounded-lg p-3 text-white text-sm mb-3 focus:border-indigo-500 outline-none",rows:3,placeholder:"Comparte tu opinin sobre este producto..."}),s.jsxs("button",{disabled:u||!v.trim(),className:"bg-indigo-600 text-white px-4 py-2 rounded-lg text-sm font-bold flex items-center gap-2",children:[s.jsx(Vu,{size:16})," Publicar Resea"]})]}),s.jsxs("div",{className:"space-y-4",children:[o.length===0&&s.jsx("p",{className:"text-slate-500 italic",children:"An no hay reseas."}),o.map(b=>s.jsxs("div",{className:"border-b border-slate-800 pb-4",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-800 overflow-hidden",children:b.userAvatarUrl?s.jsx("img",{src:b.userAvatarUrl,className:"w-full h-full object-cover"}):s.jsx("div",{className:"flex items-center justify-center w-full h-full text-xs font-bold text-slate-500",children:b.username[0]})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs font-bold text-white",children:b.username}),s.jsx("div",{className:"flex text-amber-400",children:[1,2,3,4,5].map(w=>s.jsx(As,{size:10,fill:w<=b.rating?"currentColor":"none",className:w<=b.rating?"":"text-slate-700"},w))})]})]}),s.jsx("span",{className:"text-[10px] text-slate-600",children:new Date(b.timestamp*1e3).toLocaleDateString()})]}),s.jsx("p",{className:"text-sm text-slate-300 pl-10",children:b.comment})]},b.id))]})]})]})}function Yh(){const{user:e}=we(),t=mt(),[n,r]=p.useState(!1),[l,a]=p.useState(""),[i,o]=p.useState(""),[c,m]=p.useState(""),[h,f]=p.useState("1"),[g,y]=p.useState("NUEVO"),[N,v]=p.useState("ELECTRONICA"),[C,u]=p.useState([]),[d,x]=p.useState([]),j=w=>{if(w.target.files){const P=Array.from(w.target.files);u([...C,...P]);const _=P.map(O=>URL.createObjectURL(O));x([...d,..._])}},S=w=>{u(C.filter((P,_)=>_!==w)),x(d.filter((P,_)=>_!==w))},b=async w=>{if(w.preventDefault(),!!e){if(C.length===0){alert("Por favor aade al menos una imagen");return}r(!0);try{const P=new FormData;P.append("title",l),P.append("description",i),P.append("price",c),P.append("stock",h),P.append("category",N),P.append("condition",g),P.append("sellerId",e.id),C.forEach(_=>P.append("images[]",_)),await E.createListing(P),t("/marketplace")}catch(P){alert("Error: "+P.message)}finally{r(!1)}}};return s.jsxs("div",{className:"max-w-2xl mx-auto px-4 pt-6 pb-20",children:[s.jsx("h1",{className:"text-2xl font-bold text-white mb-6",children:"Vender Artculo"}),s.jsxs("form",{onSubmit:b,className:"bg-slate-900 p-6 rounded-xl border border-slate-800 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-2",children:"Fotos"}),s.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[d.map((w,P)=>s.jsxs("div",{className:"relative aspect-square rounded-lg overflow-hidden border border-slate-700 group",children:[s.jsx("img",{src:w,className:"w-full h-full object-cover"}),s.jsx("button",{type:"button",onClick:()=>S(P),className:"absolute top-1 right-1 bg-black/50 text-white rounded-full p-1 opacity-0 group-hover:opacity-100",children:s.jsx(lt,{size:12})})]},P)),s.jsxs("label",{className:"aspect-square bg-slate-800 rounded-lg flex flex-col items-center justify-center cursor-pointer hover:bg-slate-700 transition-colors border border-dashed border-slate-600",children:[s.jsx($u,{className:"text-slate-500 mb-1"}),s.jsx("span",{className:"text-[10px] text-slate-400",children:"Aadir"}),s.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:j,className:"hidden"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Ttulo"}),s.jsx("input",{required:!0,type:"text",value:l,onChange:w=>a(w.target.value),className:"w-full bg-slate-950 border border-slate-700 rounded-lg px-3 py-2 text-white",placeholder:"Qu ests vendiendo?"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Precio ($)"}),s.jsxs("div",{className:"relative",children:[s.jsx(Wi,{size:14,className:"absolute left-3 top-3 text-slate-500"}),s.jsx("input",{required:!0,type:"number",min:"0",value:c,onChange:w=>m(w.target.value),className:"w-full bg-slate-950 border border-slate-700 rounded-lg pl-8 pr-3 py-2 text-white font-bold"})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1 flex items-center gap-1",children:[s.jsx(Iu,{size:12})," Cantidad"]}),s.jsx("input",{required:!0,type:"number",min:"1",value:h,onChange:w=>f(w.target.value),className:"w-full bg-slate-950 border border-slate-700 rounded-lg px-3 py-2 text-white"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Categora"}),s.jsxs("select",{value:N,onChange:w=>v(w.target.value),className:"w-full bg-slate-950 border border-slate-700 rounded-lg px-3 py-2 text-white",children:[s.jsx("option",{value:"ELECTRONICA",children:"Electrnica"}),s.jsx("option",{value:"ROPA",children:"Ropa"}),s.jsx("option",{value:"HOGAR",children:"Hogar"}),s.jsx("option",{value:"JUGUETES",children:"Juguetes"}),s.jsx("option",{value:"OTRO",children:"Otro"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Condicin"}),s.jsxs("select",{value:g,onChange:w=>y(w.target.value),className:"w-full bg-slate-950 border border-slate-700 rounded-lg px-3 py-2 text-white",children:[s.jsx("option",{value:"NUEVO",children:"Nuevo"}),s.jsx("option",{value:"USADO",children:"Usado"}),s.jsx("option",{value:"REACONDICIONADO",children:"Reacondicionado"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Descripcin"}),s.jsx("textarea",{required:!0,rows:4,value:i,onChange:w=>o(w.target.value),className:"w-full bg-slate-950 border border-slate-700 rounded-lg px-3 py-2 text-white",placeholder:"Describe tu artculo..."})]}),s.jsxs("button",{type:"submit",disabled:n,className:"w-full bg-indigo-600 hover:bg-indigo-500 disabled:opacity-50 text-white font-bold py-3 rounded-lg flex items-center justify-center gap-2",children:[n?s.jsx(X,{className:"animate-spin"}):s.jsx(Qa,{size:20}),"Publicar"]})]})]})}function Jh(){const{id:e}=yl(),{user:t}=we(),n=mt(),r=Ve(),[l,a]=p.useState(!0),[i,o]=p.useState(null),[c,m]=p.useState(0),[h,f]=p.useState(1),[g,y]=p.useState(0),[N,v]=p.useState(""),[C,u]=p.useState("");p.useEffect(()=>{e&&E.getMarketplaceItem(e).then(b=>{if(b){o(b);const w=b.originalPrice&&b.originalPrice>0?b.originalPrice:b.price;m(w),f(b.stock??1),y(b.discountPercent??0),v(b.title),u(b.description)}a(!1)})},[e]);const d=async()=>{if(!(!t||!i||!e))try{await E.editListing(e,t.id,{title:N,description:C,originalPrice:Number(c),discountPercent:Number(g),stock:Number(h)}),r.success("Artculo actualizado correctamente"),n(`/marketplace/${e}`)}catch(b){r.error("Error: "+b.message)}};if(l)return s.jsx("div",{className:"p-10 text-center text-slate-500",children:"Cargando..."});if(!i||t&&i.sellerId!==t.id)return s.jsx("div",{className:"p-10 text-center text-red-500",children:"No autorizado"});const x=Number(c)||0,j=Number(g)||0,S=x-x*(j/100);return s.jsxs("div",{className:"max-w-md mx-auto px-4 pt-6 pb-24 md:pb-10",children:[s.jsxs("button",{onClick:()=>n(`/marketplace/${e}`),className:"flex items-center gap-2 text-slate-400 hover:text-white mb-6 bg-slate-900 px-3 py-1.5 rounded-full border border-slate-800 text-sm",children:[s.jsx(Bi,{size:16})," Volver"]}),s.jsxs("h1",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[s.jsx(Ks,{className:"text-indigo-400"})," Editar Artculo"]}),s.jsxs("div",{className:"bg-slate-900/50 p-4 md:p-6 rounded-2xl border border-slate-800 space-y-6 shadow-xl",children:[s.jsxs("div",{className:"flex items-start gap-4 border-b border-slate-800 pb-4",children:[s.jsx("div",{className:"w-20 h-20 rounded-lg overflow-hidden border border-slate-700 shrink-0 bg-black",children:i.images&&i.images[0]&&s.jsx("img",{src:i.images[0],className:"w-full h-full object-cover",alt:""})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"text-[10px] uppercase font-bold text-slate-500 mb-1",children:"Ttulo del Producto"}),s.jsx("input",{type:"text",value:N,onChange:b=>v(b.target.value),className:"w-full bg-slate-950 border border-slate-700 rounded-lg px-3 py-2 text-sm text-white font-bold mb-2 focus:border-indigo-500 outline-none"}),s.jsx("span",{className:`text-[10px] px-2 py-1 rounded-md font-bold uppercase tracking-wider ${i.status==="ACTIVO"?"bg-emerald-500/20 text-emerald-400":"bg-red-500/20 text-red-400"}`,children:i.status})]})]}),s.jsxs("div",{className:"bg-slate-950 p-4 rounded-xl border border-slate-800",children:[s.jsxs("h3",{className:"text-sm font-bold text-slate-300 mb-4 flex items-center gap-2",children:[s.jsx(Xs,{size:16})," Gestin de Precio"]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1.5",children:"Precio Base ($)"}),s.jsx("input",{type:"number",min:"0",value:c,onChange:b=>m(b.target.value),className:"w-full bg-slate-900 border border-slate-700 rounded-xl px-4 py-3 text-white font-mono font-bold text-lg focus:border-indigo-500 outline-none"})]}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex justify-between mb-2",children:[s.jsxs("label",{className:"text-xs font-bold text-slate-500 uppercase flex items-center gap-1",children:[s.jsx(Ji,{size:12})," Descuento"]}),s.jsxs("span",{className:"text-xs font-bold text-indigo-400 bg-indigo-500/10 px-2 py-0.5 rounded",children:[j,"% OFF"]})]}),s.jsx("input",{type:"range",min:"0",max:"90",step:"5",value:j,onChange:b=>y(b.target.value),className:"w-full h-4 bg-slate-800 rounded-lg appearance-none cursor-pointer accent-indigo-500 touch-none"})]}),s.jsxs("div",{className:"flex flex-col items-center bg-indigo-600/10 p-4 rounded-xl border border-indigo-500/20 mt-2",children:[s.jsx("span",{className:"text-xs text-indigo-300 font-bold uppercase tracking-widest mb-1",children:"Precio Final"}),s.jsxs("span",{className:"text-3xl font-black text-white tracking-tight",children:[S.toFixed(2)," $"]}),j>0&&s.jsxs("span",{className:"text-xs text-slate-400 line-through mt-1",children:[Number(c).toFixed(2)," $"]})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-2 flex items-center gap-2",children:[s.jsx(Iu,{size:14})," Stock Disponible"]}),s.jsxs("div",{className:"flex items-center gap-4 bg-slate-950 p-2 rounded-xl border border-slate-800",children:[s.jsx("button",{onClick:()=>f(Math.max(0,Number(h)-1)),className:"w-14 h-12 rounded-lg bg-slate-800 hover:bg-slate-700 text-white font-bold text-xl active:bg-slate-600 transition-colors",children:"-"}),s.jsx("input",{type:"number",min:"0",value:h,onChange:b=>f(b.target.value),className:"flex-1 bg-transparent border-none text-center text-white font-bold text-xl outline-none"}),s.jsx("button",{onClick:()=>f(Number(h)+1),className:"w-14 h-12 rounded-lg bg-slate-800 hover:bg-slate-700 text-white font-bold text-xl active:bg-slate-600 transition-colors",children:"+"})]}),Number(h)===0&&s.jsxs("div",{className:"text-[10px] text-red-400 mt-2 flex items-center gap-1 bg-red-900/10 p-2 rounded justify-center font-bold",children:[s.jsx(qn,{size:12})," Se marcar como AGOTADO"]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-2",children:"Descripcin"}),s.jsx("textarea",{rows:5,value:C,onChange:b=>u(b.target.value),className:"w-full bg-slate-950 border border-slate-700 rounded-xl p-4 text-sm text-slate-300 focus:border-indigo-500 outline-none leading-relaxed"})]}),s.jsx("div",{className:"pt-4 sticky bottom-4 z-20",children:s.jsxs("button",{onClick:d,className:"w-full bg-indigo-600 hover:bg-indigo-500 text-white font-bold py-4 rounded-xl flex items-center justify-center gap-2 shadow-xl shadow-indigo-900/30 transition-transform active:scale-95 text-lg",children:[s.jsx(Js,{size:20})," Guardar Cambios"]})})]})]})}function Kh(){const{cart:e,removeFromCart:t,updateQuantity:n,clearCart:r}=Xi(),{user:l,refreshUser:a}=we(),i=mt(),o=Ve(),[c,m]=p.useState(!1),[h,f]=p.useState((l==null?void 0:l.shippingDetails)||{fullName:"",address:"",city:"",zipCode:"",country:"",phoneNumber:""}),g=p.useMemo(()=>e.reduce((C,u)=>{const d=u.quantity,x=Number(u.price),j=u.originalPrice&&u.originalPrice>0?Number(u.originalPrice):x;return C.subtotal+=j*d,C.total+=x*d,C.itemCount+=d,C},{subtotal:0,total:0,itemCount:0}),[e]),y=g.subtotal-g.total,N=g.subtotal>0?Math.round(y/g.subtotal*100):0,v=async()=>{var C;if(l&&e.length!==0){if(!h.address||!h.fullName||!h.phoneNumber){o.error("Por favor completa los datos de envo obligatorios"),(C=document.getElementById("shipping-form"))==null||C.scrollIntoView({behavior:"smooth",block:"center"});return}m(!0);try{await E.checkoutCart(l.id,e,h),r(),a(),o.success("Pedido realizado con xito!"),i("/profile")}catch(u){o.error("Error: "+u.message)}finally{m(!1)}}};return e.length===0?s.jsxs("div",{className:"min-h-[60vh] flex flex-col items-center justify-center text-slate-500 animate-in fade-in",children:[s.jsx("div",{className:"w-24 h-24 bg-slate-900 rounded-full flex items-center justify-center mb-6 border border-slate-800",children:s.jsx(Ks,{size:48,className:"opacity-50"})}),s.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Tu carrito est vaco"}),s.jsx("p",{className:"text-slate-400 mb-6",children:"Parece que no has aadido nada an."}),s.jsx("button",{onClick:()=>i("/marketplace"),className:"bg-indigo-600 hover:bg-indigo-500 text-white px-8 py-3 rounded-full font-bold transition-all shadow-lg active:scale-95",children:"Ir a la Tienda"})]}):s.jsxs("div",{className:"max-w-6xl mx-auto px-3 md:px-4 pt-4 md:pt-6 pb-36 md:pb-20 animate-in fade-in",children:[s.jsxs("h1",{className:"text-xl md:text-2xl font-bold text-white mb-4 md:mb-6 flex items-center gap-2",children:[s.jsx(Ks,{className:"text-indigo-400"})," Tu Carrito",s.jsxs("span",{className:"text-sm font-normal text-slate-500 ml-2",children:["(",g.itemCount," artculos)"]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 md:gap-8",children:[s.jsx("div",{className:"lg:col-span-2 space-y-4",children:s.jsx("div",{className:"bg-slate-900/50 rounded-2xl border border-slate-800 overflow-hidden",children:e.map((C,u)=>{const d=C.originalPrice&&C.originalPrice>0?C.originalPrice:C.price,x=d>C.price;return s.jsxs("div",{className:`flex gap-3 md:gap-4 p-3 md:p-4 ${u!==e.length-1?"border-b border-slate-800":""}`,children:[s.jsxs("div",{className:"w-20 h-20 md:w-24 md:h-28 bg-black rounded-lg md:rounded-xl overflow-hidden shrink-0 border border-slate-800 relative group",children:[C.images&&C.images[0]&&s.jsx("img",{src:C.images[0],className:"w-full h-full object-cover transition-transform group-hover:scale-105"}),x&&s.jsxs("div",{className:"absolute top-0 left-0 bg-red-600 text-white text-[9px] font-bold px-1.5 py-0.5 rounded-br shadow-sm",children:["-",C.discountPercent,"%"]})]}),s.jsxs("div",{className:"flex-1 min-w-0 flex flex-col justify-between py-0.5 md:py-1",children:[s.jsxs("div",{className:"flex justify-between items-start gap-2 md:gap-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-white text-sm md:text-base leading-tight line-clamp-2",children:C.title}),s.jsx("p",{className:"text-[10px] md:text-xs text-slate-400 mt-1 flex items-center gap-1",children:s.jsx("span",{className:"bg-slate-800 px-1.5 py-0.5 rounded uppercase",children:C.condition})})]}),s.jsx("button",{onClick:()=>t(C.id),className:"text-slate-500 hover:text-red-400 p-1.5 transition-colors bg-slate-800/50 rounded-full shrink-0",children:s.jsx(gs,{size:16})})]}),s.jsxs("div",{className:"flex justify-between items-end mt-2 md:mt-4",children:[s.jsxs("div",{children:[x&&s.jsxs("div",{className:"text-[10px] md:text-xs text-slate-500 line-through mb-0.5",children:[d," $"]}),s.jsxs("div",{className:`font-mono font-bold text-lg md:text-xl ${x?"text-red-400":"text-amber-400"}`,children:[C.price," $"]})]}),s.jsxs("div",{className:"flex items-center gap-1 md:gap-3 bg-slate-800 rounded-lg p-0.5 md:p-1 border border-slate-700",children:[s.jsx("button",{onClick:()=>n(C.id,-1),className:"w-8 h-8 md:w-7 md:h-7 flex items-center justify-center hover:bg-slate-700 rounded text-slate-300 transition-colors active:bg-slate-600",children:s.jsx(up,{size:14})}),s.jsx("span",{className:"text-sm font-bold text-white w-6 md:w-4 text-center",children:C.quantity}),s.jsx("button",{onClick:()=>n(C.id,1),className:"w-8 h-8 md:w-7 md:h-7 flex items-center justify-center hover:bg-slate-700 rounded text-slate-300 transition-colors active:bg-slate-600",children:s.jsx(Wn,{size:14})})]})]})]})]},C.id)})})}),s.jsxs("div",{className:"space-y-4 md:space-y-6",children:[s.jsxs("div",{id:"shipping-form",className:"bg-slate-900 p-4 md:p-6 rounded-2xl border border-slate-800 scroll-mt-24",children:[s.jsxs("h3",{className:"font-bold text-white mb-4 flex items-center gap-2 text-sm uppercase tracking-wide text-slate-500",children:[s.jsx(Ir,{size:16})," Datos de Envo"]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("input",{type:"text",placeholder:"Nombre Completo *",value:h.fullName,onChange:C=>f({...h,fullName:C.target.value}),className:"w-full bg-slate-950 border border-slate-700 rounded-lg px-3 py-3 md:py-2.5 text-white text-sm focus:border-indigo-500 outline-none transition-colors"}),s.jsxs("div",{className:"relative",children:[s.jsx(Uu,{size:16,className:"absolute left-3 top-3 text-slate-500 pointer-events-none"}),s.jsx("input",{type:"text",placeholder:"Direccin *",value:h.address,onChange:C=>f({...h,address:C.target.value}),className:"w-full bg-slate-950 border border-slate-700 rounded-lg pl-9 pr-3 py-3 md:py-2.5 text-white text-sm focus:border-indigo-500 outline-none transition-colors"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsx("input",{type:"text",placeholder:"Ciudad",value:h.city,onChange:C=>f({...h,city:C.target.value}),className:"w-full bg-slate-950 border border-slate-700 rounded-lg px-3 py-3 md:py-2.5 text-white text-sm focus:border-indigo-500 outline-none transition-colors"}),s.jsx("input",{type:"text",placeholder:"C.P.",value:h.zipCode,onChange:C=>f({...h,zipCode:C.target.value}),className:"w-full bg-slate-950 border border-slate-700 rounded-lg px-3 py-3 md:py-2.5 text-white text-sm focus:border-indigo-500 outline-none transition-colors"})]}),s.jsx("input",{type:"tel",placeholder:"Telfono *",value:h.phoneNumber,onChange:C=>f({...h,phoneNumber:C.target.value}),className:"w-full bg-slate-950 border border-slate-700 rounded-lg px-3 py-3 md:py-2.5 text-white text-sm focus:border-indigo-500 outline-none transition-colors"})]})]}),s.jsxs("div",{className:"bg-slate-900 p-6 rounded-2xl border border-slate-800 shadow-xl",children:[s.jsx("h3",{className:"font-bold text-white mb-4 text-lg",children:"Resumen del Pedido"}),s.jsxs("div",{className:"space-y-3 mb-6",children:[s.jsxs("div",{className:"flex justify-between text-slate-400 text-sm",children:[s.jsx("span",{children:"Subtotal"}),s.jsxs("span",{children:[g.subtotal.toFixed(2)," $"]})]}),y>0&&s.jsxs("div",{className:"flex justify-between text-emerald-400 text-sm font-medium bg-emerald-900/10 p-2 rounded-lg border border-emerald-500/20",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Xs,{size:14})," Descuento (",N,"%)"]}),s.jsxs("span",{children:["-",y.toFixed(2)," $"]})]}),s.jsx("div",{className:"border-t border-slate-800 my-4"}),s.jsxs("div",{className:"flex justify-between items-end",children:[s.jsx("span",{className:"text-white font-bold",children:"Total a Pagar"}),s.jsxs("span",{className:"text-3xl font-black text-amber-400 tracking-tight",children:[g.total.toFixed(2)," ",s.jsx("span",{className:"text-sm text-amber-600",children:"$"})]})]})]}),l&&Number(l.balance)<g.total?s.jsxs("div",{className:"bg-red-900/20 border border-red-500/30 p-4 rounded-xl text-center space-y-2 mb-4",children:[s.jsxs("div",{className:"text-red-400 font-bold flex items-center justify-center gap-2",children:[s.jsx(qn,{size:18})," Saldo Insuficiente"]}),s.jsxs("div",{className:"text-slate-400 text-xs",children:["Tienes ",s.jsxs("strong",{children:[Number(l.balance).toFixed(2)," $"]})," disponibles."]}),s.jsx("button",{onClick:()=>i("/profile"),className:"text-xs text-indigo-400 hover:text-white underline mt-1",children:"Recargar Saldo"})]}):s.jsxs("div",{className:"bg-slate-950 rounded-xl p-3 border border-slate-800 mb-4 flex items-center justify-between",children:[s.jsx("div",{className:"text-xs text-slate-400",children:"Saldo Disponible"}),s.jsxs("div",{className:"text-sm font-bold text-white flex items-center gap-1",children:[s.jsx(er,{size:14,className:"text-indigo-400"})," ",Number((l==null?void 0:l.balance)||0).toFixed(2)," $"]})]}),s.jsxs("button",{onClick:v,disabled:c||(l?Number(l.balance)<g.total:!0),className:"hidden md:flex w-full bg-emerald-600 hover:bg-emerald-500 disabled:opacity-50 disabled:cursor-not-allowed text-white font-bold py-4 rounded-xl items-center justify-center gap-2 transition-transform active:scale-95 shadow-lg shadow-emerald-900/20",children:[c?s.jsx(X,{className:"animate-spin"}):s.jsx(jl,{size:20}),"Confirmar Compra"]})]})]})]}),s.jsxs("div",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-slate-900/95 backdrop-blur-lg border-t border-slate-800 p-4 pb-safe z-40 shadow-2xl",children:[s.jsxs("div",{className:"flex gap-4 items-center mb-1",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-xs text-slate-400 uppercase font-bold",children:"Total"}),y>0&&s.jsxs("span",{className:"text-[10px] bg-emerald-900/30 text-emerald-400 px-1.5 py-0.5 rounded border border-emerald-500/30",children:["Ahorras ",y.toFixed(0),"$"]})]}),s.jsxs("div",{className:"text-2xl font-black text-amber-400 leading-none mt-0.5",children:[g.total.toFixed(2)," ",s.jsx("span",{className:"text-sm text-amber-600",children:"$"})]})]}),s.jsxs("button",{onClick:v,disabled:c||(l?Number(l.balance)<g.total:!0),className:"bg-emerald-600 hover:bg-emerald-500 disabled:bg-slate-800 disabled:text-slate-500 text-white font-bold py-3.5 px-8 rounded-xl flex items-center gap-2 shadow-lg active:scale-95 transition-all",children:[c?s.jsx(X,{className:"animate-spin"}):l&&Number(l.balance)<g.total?"Sin Saldo":"Pagar",!c&&s.jsx(qi,{size:18})]})]}),l&&Number(l.balance)<g.total&&s.jsxs("div",{className:"text-[10px] text-red-400 text-center mt-2 font-bold animate-pulse",children:["Saldo insuficiente (",Number(l.balance).toFixed(2)," $)"]})]})]})}function Xh(){const{user:e,refreshUser:t}=we(),n=mt(),r=Vi(),l=Ve(),[a,i]=p.useState(!0),[o,c]=p.useState([]),[m,h]=p.useState(""),[f,g]=p.useState(1),[y,N]=p.useState(null),[v,C]=p.useState(""),[u,d]=p.useState(!1),[x,j]=p.useState(!1);p.useEffect(()=>{E.getSystemSettings().then(_=>{_.vipPlans&&c(_.vipPlans),_.paymentInstructions&&h(_.paymentInstructions),_.currencyConversion&&g(_.currencyConversion),i(!1)})},[]),p.useEffect(()=>{if(r.pathname==="/vip"&&window.location.href.includes("status=success")&&!x){const O=new URLSearchParams(window.location.href.split("?")[1]).get("ref");O&&e&&S(O)}},[r,e]);const S=async _=>{if(e){j(!0),l.info("Verificando pago con Tropipay...");try{await E.verifyPayment(e.id,_),l.success("Pago confirmado! VIP Activado."),t(),window.location.hash="/vip"}catch(O){l.error("Error verificando pago: "+O.message)}finally{j(!1)}}},b=async()=>{if(!(!e||!y)){d(!0);try{await E.requestVip(e.id,y,v),l.success("Solicitud manual enviada."),N(null),C("")}catch(_){l.error(_.message)}finally{d(!1)}}},w=async()=>{if(!(!e||!y)){d(!0);try{const _=await E.createPaymentLink(e.id,y);window.location.href=_}catch(_){l.error("Error creando link: "+_.message),d(!1)}}},P=(e==null?void 0:e.vipExpiry)&&e.vipExpiry>Date.now()/1e3;return s.jsxs("div",{className:"pb-24 pt-4 px-4 max-w-5xl mx-auto min-h-screen relative",children:[s.jsxs("button",{onClick:()=>n(-1),className:"flex items-center gap-2 text-slate-400 hover:text-white mb-6",children:[s.jsx(Bi,{size:20})," Volver"]}),s.jsxs("div",{className:"text-center mb-10",children:[s.jsx("h1",{className:"text-3xl md:text-4xl font-black text-transparent bg-clip-text bg-gradient-to-r from-amber-200 via-yellow-400 to-amber-600 mb-2",children:"Membresa VIP & Recargas"}),s.jsx("p",{className:"text-slate-400",children:"Obtn acceso ilimitado o bonificaciones exclusivas."}),P&&s.jsxs("div",{className:"mt-4 inline-block bg-gradient-to-r from-amber-600/20 to-yellow-600/20 border border-amber-500/50 rounded-full px-4 py-2 text-amber-300 font-bold text-sm animate-pulse",children:[s.jsx(Hn,{size:16,className:"inline mr-2 -mt-1"}),"Tu VIP expira: ",new Date(e.vipExpiry*1e3).toLocaleDateString()]})]}),a||x?s.jsxs("div",{className:"flex flex-col items-center justify-center p-20 gap-4",children:[s.jsx(X,{className:"animate-spin text-amber-500",size:40}),x&&s.jsx("p",{className:"text-amber-400 animate-pulse",children:"Verificando transaccin..."})]}):s.jsxs(s.Fragment,{children:[s.jsxs("h2",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2",children:[s.jsx(Hn,{className:"text-amber-400"})," Acceso Total"]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-12",children:o.filter(_=>_.type==="ACCESS").map(_=>s.jsxs("div",{className:"relative bg-gradient-to-b from-slate-900 to-slate-950 border border-slate-800 rounded-2xl p-6 flex flex-col hover:border-amber-500/50 transition-all group overflow-hidden",children:[_.highlight&&s.jsx("div",{className:"absolute top-0 right-0 bg-amber-500 text-black text-[10px] font-black px-3 py-1 rounded-bl-xl uppercase tracking-wider",children:"Recomendado"}),s.jsxs("div",{className:"mb-4",children:[s.jsx("h3",{className:"text-lg font-bold text-white group-hover:text-amber-400 transition-colors",children:_.name}),s.jsxs("div",{className:"text-3xl font-black text-amber-400 mt-2",children:[_.price," ",s.jsx("span",{className:"text-sm font-normal text-slate-500",children:"Saldo"})]})]}),s.jsxs("ul",{className:"space-y-3 mb-8 flex-1",children:[s.jsxs("li",{className:"flex items-start gap-3 text-sm text-slate-300",children:[s.jsx(St,{size:16,className:"text-emerald-400 mt-0.5 shrink-0"}),s.jsxs("span",{children:["Acceso a ",s.jsx("strong",{children:"TODOS"})," los videos"]})]}),s.jsxs("li",{className:"flex items-start gap-3 text-sm text-slate-300",children:[s.jsx(St,{size:16,className:"text-emerald-400 mt-0.5 shrink-0"}),s.jsxs("span",{children:["Duracin: ",s.jsxs("strong",{children:[_.durationDays," das"]})]})]}),_.description&&s.jsxs("li",{className:"flex items-start gap-3 text-sm text-slate-400 italic",children:[s.jsx(As,{size:14,className:"text-amber-600 mt-0.5 shrink-0"}),s.jsx("span",{children:_.description})]})]}),s.jsxs("button",{onClick:()=>N(_),className:"w-full py-3 rounded-xl font-bold text-black bg-gradient-to-r from-amber-400 to-yellow-500 hover:from-amber-300 hover:to-yellow-400 shadow-lg shadow-amber-900/20 active:scale-95 transition-all flex items-center justify-center gap-2",children:[s.jsx(xc,{size:18})," Solicitar Ahora"]})]},_.id))}),s.jsxs("h2",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2",children:[s.jsx(xc,{className:"text-indigo-400"})," Recargas con Bono"]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:o.filter(_=>_.type==="BALANCE").map(_=>s.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-2xl p-6 flex flex-col hover:border-indigo-500/50 transition-all",children:[s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsx("h3",{className:"font-bold text-white",children:_.name}),s.jsxs("span",{className:"bg-indigo-900/50 text-indigo-300 text-xs font-bold px-2 py-1 rounded border border-indigo-500/30",children:["+",_.bonusPercent,"% Extra"]})]}),s.jsxs("div",{className:"text-center py-6 bg-slate-950 rounded-xl mb-6 border border-slate-800",children:[s.jsx("div",{className:"text-xs text-slate-500 uppercase font-bold mb-1",children:"Pagas"}),s.jsxs("div",{className:"text-2xl font-bold text-white mb-2",children:[_.price," Saldo"]}),s.jsx("div",{className:"w-full h-px bg-slate-800 my-2"}),s.jsx("div",{className:"text-xs text-slate-500 uppercase font-bold mb-1",children:"Recibes"}),s.jsxs("div",{className:"text-3xl font-black text-emerald-400",children:[(_.price+_.price*((_.bonusPercent||0)/100)).toFixed(0)," ",s.jsx("span",{className:"text-sm text-emerald-600",children:"Saldo"})]})]}),s.jsx("button",{onClick:()=>N(_),className:"w-full py-3 rounded-xl font-bold text-white bg-indigo-600 hover:bg-indigo-500 shadow-lg active:scale-95 transition-all flex items-center justify-center gap-2",children:"Solicitar Recarga"})]},_.id))})]}),y&&s.jsx("div",{className:"fixed inset-0 z-50 bg-black/80 backdrop-blur-sm flex items-center justify-center p-4 animate-in fade-in",children:s.jsxs("div",{className:"bg-slate-900 w-full max-w-lg rounded-2xl border border-slate-700 shadow-2xl overflow-hidden animate-in zoom-in-95 flex flex-col max-h-[90vh]",children:[s.jsxs("div",{className:"p-4 border-b border-slate-800 flex justify-between items-center bg-slate-950",children:[s.jsxs("h3",{className:"font-bold text-white flex items-center gap-2",children:[s.jsx(Au,{size:20,className:"text-emerald-400"})," Mtodo de Pago"]}),s.jsx("button",{onClick:()=>N(null),className:"p-2 hover:bg-slate-800 rounded-full text-slate-400 hover:text-white",children:s.jsx(lt,{size:20})})]}),s.jsxs("div",{className:"p-6 overflow-y-auto",children:[s.jsxs("div",{className:"bg-indigo-900/20 p-4 rounded-xl border border-indigo-500/30 mb-6 text-center",children:[s.jsx("div",{className:"text-sm text-indigo-300 uppercase font-bold mb-1",children:"Total a Pagar"}),s.jsxs("div",{className:"text-4xl font-black text-white",children:[y.price," ",s.jsx("span",{className:"text-sm",children:"Saldo"})]}),s.jsxs("div",{className:"text-xs text-slate-400 mt-2",children:["Aprox: ",(y.price/f).toFixed(2)," EUR"]})]}),s.jsxs("button",{onClick:w,disabled:u,className:"w-full mb-6 py-4 bg-white hover:bg-slate-200 text-black font-bold rounded-xl flex items-center justify-center gap-2 shadow-xl transition-transform active:scale-95",children:[u?s.jsx(X,{className:"animate-spin"}):s.jsx("img",{src:"https://www.tropipay.com/img/logos/tropipay-logo-color.svg",className:"h-6",alt:"Tropipay",onError:_=>_.currentTarget.style.display="none"}),u?"Creando Link...":"Pagar Ahora con Tropipay"]}),s.jsxs("div",{className:"relative flex py-5 items-center",children:[s.jsx("div",{className:"flex-grow border-t border-slate-700"}),s.jsx("span",{className:"flex-shrink-0 mx-4 text-slate-500 text-xs uppercase font-bold",children:"O Pago Manual"}),s.jsx("div",{className:"flex-grow border-t border-slate-700"})]}),s.jsxs("div",{className:"mb-6 space-y-2",children:[s.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Instrucciones:"}),s.jsx("div",{className:"bg-slate-950 p-4 rounded-lg border border-slate-800 text-sm text-slate-300 whitespace-pre-wrap font-mono",children:m||"El administrador no ha configurado instrucciones de pago an. Contacta soporte."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase mb-2 block",children:"Referencia de Pago Manual"}),s.jsx("input",{type:"text",className:"w-full bg-slate-950 border border-slate-700 rounded-lg p-3 text-white focus:border-indigo-500 outline-none transition-colors",placeholder:"Ej: Transferencia #123456",value:v,onChange:_=>C(_.target.value)}),s.jsx("button",{onClick:b,disabled:u||!v.trim(),className:"w-full mt-3 bg-slate-800 hover:bg-slate-700 disabled:opacity-50 text-white font-bold py-3 rounded-lg transition-colors",children:"Enviar Comprobante Manual"})]})]})]})})]})}const s0=p.createContext(null),cg=()=>{const e=p.useContext(s0);if(!e)throw new Error("useServerTask must be used within ServerTaskProvider");return e},Zh=({children:e})=>{const[t,n]=p.useState(!1),[r,l]=p.useState({current:0,total:0,percent:0}),[a,i]=p.useState(""),[o,c]=p.useState([]),m=p.useRef(!1),h=async y=>{if(!t){n(!0),m.current=!1,c([]);try{c(["Initializing scan...",`Looking in: ${y}`]);const N=await E.scanLocalLibrary(y);if(N.errors&&N.errors.length>0){c(v=>[...v,...N.errors]),n(!1);return}if(!N.newToImport||N.newToImport===0){c(v=>[...v,"No new videos found to import."]),n(!1);return}c(v=>[...v,`Found ${N.newToImport} new videos. Starting import...`]),l({current:0,total:N.newToImport,percent:0}),f(N.newToImport)}catch(N){c(v=>[...v,`Error: ${N.message}`]),n(!1)}}},f=async y=>{if(m.current){n(!1);return}try{const N=await E.processScanBatch();N.processed&&N.processed.length>0&&N.processed.forEach(d=>{d.error?c(x=>[...x,`Failed: ${d.title} - ${d.error}`]):(i(d.title),c(x=>[...x,`Imported: ${d.title} (${d.category})`]))});const v=N.remaining||0,C=y-v,u=Math.round(C/y*100);l({current:C,total:y,percent:u}),N.completed?(c(d=>[...d,"Scan Completed Successfully!"]),n(!1),i(""),E.invalidateCache("index.php?action=get_videos"),E.setHomeDirty()):setTimeout(()=>f(y),500)}catch(N){c(v=>[...v,`Batch Error: ${N.message||"Unknown"}. Retrying in 2s...`]),console.error("Scan Batch Error",N),setTimeout(()=>f(y),2e3)}},g=()=>{m.current=!0,c(y=>[...y,"Scan aborted by user."]),n(!1)};return s.jsx(s0.Provider,{value:{isScanning:t,progress:r,currentFile:a,log:o,startScan:h,cancelScan:g},children:e})},n0=p.createContext(null),dg=()=>{const e=p.useContext(n0);if(!e)throw new Error("useGrid must be used within GridProvider");return e},eg=1e4,tg=({children:e})=>{const{user:t}=we(),[n,r]=p.useState(null),[l,a]=p.useState(!0),i=p.useRef(null),o=p.useRef(!1),c=p.useRef(0),m=async()=>{if(!(n||o.current||Date.now()<c.current))try{const g=await E.getUnprocessedVideos(1,"random");g&&g.length>0?(o.current=!0,a(!1),r(g[0])):a(!0)}catch(g){console.warn("Grid Fetch Error",g),a(!0)}},h=async(g,y)=>{if(n)try{await E.updateVideoMetadata(n.id,g,y),await new Promise(N=>setTimeout(N,2e3))}catch(N){console.error("Task submission failed",N)}finally{r(null),o.current=!1,c.current=Date.now()+eg,a(!0)}},f=()=>{r(null),o.current=!1,c.current=Date.now()+5e3,a(!0)};return p.useEffect(()=>(t&&(i.current=window.setInterval(()=>{!document.hidden&&!n&&m()},5e3)),()=>{i.current&&clearInterval(i.current)}),[t,n]),s.jsx(n0.Provider,{value:{activeTask:n,completeTask:h,skipTask:f,isIdle:l},children:e})},sg=is.lazy(()=>Rm(()=>import("./Layout-DNFtSQoQ.js"),[],import.meta.url)),ng=()=>{const[e,t]=p.useState(navigator.onLine);return p.useEffect(()=>{const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n),window.addEventListener("offline",r),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}},[]),e?null:s.jsxs("div",{className:"fixed bottom-16 md:bottom-0 left-0 right-0 bg-red-600/90 text-white text-center py-2 z-[100] text-xs font-bold flex items-center justify-center gap-2 backdrop-blur-sm",children:[s.jsx(Yu,{size:14})," Ests desconectado. Mostrando contenido cach."]})},qe=({children:e})=>{const{user:t,isLoading:n}=we();return n?s.jsx("div",{className:"min-h-screen bg-slate-950 flex items-center justify-center",children:s.jsx(X,{className:"animate-spin text-indigo-500",size:32})}):t?s.jsx(s.Fragment,{children:e}):s.jsx(bl,{to:"/login",replace:!0})},rg=({children:e})=>{var r;const{user:t,isLoading:n}=we();return n?null:!t||((r=t.role)==null?void 0:r.trim().toUpperCase())!=="ADMIN"?s.jsx(bl,{to:"/",replace:!0}):s.jsx(s.Fragment,{children:e})},Te=({children:e})=>{const[t,n]=p.useState(!1),[r,l]=p.useState(!1);return p.useEffect(()=>{E.checkInstallation().then(a=>{a.status==="not_installed"&&l(!0),n(!0)})},[]),t?r?s.jsx(bl,{to:"/setup",replace:!0}):s.jsx(s.Fragment,{children:e}):s.jsx("div",{className:"min-h-screen bg-slate-950 flex items-center justify-center text-slate-500",children:"Conectando..."})};function lg(){return s.jsx($m,{children:s.jsx(kh,{children:s.jsx(Ch,{children:s.jsx(Zh,{children:s.jsx(Wh,{children:s.jsx(tg,{children:s.jsxs(Um,{children:[s.jsx(ng,{}),s.jsx(p.Suspense,{fallback:s.jsx("div",{className:"min-h-screen bg-black text-white flex items-center justify-center",children:"Cargando..."}),children:s.jsxs(Fm,{children:[s.jsx(be,{path:"/setup",element:s.jsx(Bh,{})}),s.jsx(be,{path:"/login",element:s.jsx(Te,{children:s.jsx(bh,{})})}),s.jsxs(be,{element:s.jsx(sg,{}),children:[s.jsx(be,{path:"/",element:s.jsx(Te,{children:s.jsx(qe,{children:s.jsx(wh,{})})})}),s.jsx(be,{path:"/shorts",element:s.jsx(Te,{children:s.jsx(qe,{children:s.jsx(Vh,{})})})}),s.jsx(be,{path:"/watch/:id",element:s.jsx(Te,{children:s.jsx(qe,{children:s.jsx(Sh,{})})})}),s.jsx(be,{path:"/channel/:userId",element:s.jsx(Te,{children:s.jsx(qe,{children:s.jsx(Hh,{})})})}),s.jsx(be,{path:"/upload",element:s.jsx(Te,{children:s.jsx(qe,{children:s.jsx(Ph,{})})})}),s.jsx(be,{path:"/profile",element:s.jsx(Te,{children:s.jsx(qe,{children:s.jsx(_h,{})})})}),s.jsx(be,{path:"/requests",element:s.jsx(Te,{children:s.jsx(qe,{children:s.jsx(qh,{})})})}),s.jsx(be,{path:"/marketplace",element:s.jsx(Te,{children:s.jsx(qe,{children:s.jsx(Qh,{})})})}),s.jsx(be,{path:"/sell",element:s.jsx(Te,{children:s.jsx(qe,{children:s.jsx(Yh,{})})})}),s.jsx(be,{path:"/cart",element:s.jsx(Te,{children:s.jsx(qe,{children:s.jsx(Kh,{})})})}),s.jsx(be,{path:"/vip",element:s.jsx(Te,{children:s.jsx(qe,{children:s.jsx(Xh,{})})})}),s.jsx(be,{path:"/marketplace/edit/:id",element:s.jsx(Te,{children:s.jsx(qe,{children:s.jsx(Jh,{})})})}),s.jsx(be,{path:"/marketplace/:id",element:s.jsx(Te,{children:s.jsx(qe,{children:s.jsx(Gh,{})})})}),s.jsx(be,{path:"/admin",element:s.jsx(Te,{children:s.jsx(rg,{children:s.jsx(Uh,{})})})})]}),s.jsx(be,{path:"*",element:s.jsx(bl,{to:"/"})})]})})]})})})})})})})}"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("./sw.js").then(e=>{console.log("SW registered: ",e)}).catch(e=>{console.log("SW registration failed: ",e)})});const r0=document.getElementById("root");if(!r0)throw new Error("Could not find root element to mount to");const ag=Zl.createRoot(r0);ag.render(s.jsx(is.StrictMode,{children:s.jsx(lg,{})}));export{nx as B,St as C,he as L,og as O,qp as S,Qu as T,Qa as U,lt as X,Vi as a,we as b,T as c,Xi as d,Hn as e,Vp as f,Bu as g,Hi as h,Ks as i,s as j,Zn as k,xs as l,Xn as m,Zu as n,cg as o,mt as p,sl as q,p as r,E as s,dg as u};
